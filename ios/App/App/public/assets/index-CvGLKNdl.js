const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/debugData-CQ_c7XxN.js","assets/chart-vendor-BKK2UjWf.js","assets/react-vendor-OvXVS5lI.js","assets/ai-vendor-9LcfXvm6.js","assets/HistoryScreen-DmG8_Ti_.js","assets/HistoryScreen-BBkXSXiS.css","assets/UserSettingsScreen-yA_3L7oc.js","assets/StreakTrackerScreen-CTJPuRTT.js","assets/StreakTrackerScreen-BwKq13ED.css","assets/CommunityScreen-C0hGGINt.js","assets/CommunityScreen-BHa5yTrU.css","assets/DiaryScreen-BnzET_5x.js","assets/DiaryScreen-0i8AGIwU.css","assets/StatsScreen-UFPyBgWs.js","assets/AnimalCounter-mani3_wF.js","assets/StatsScreen-Cp2YCN1o.css","assets/PrivacyPolicyScreen-Dxn23R__.js","assets/PrivacyPolicyScreen-DkKoK-Vb.css","assets/TermsOfServiceScreen-C3g1P4II.js","assets/TermsOfServiceScreen-BoxcJVt7.css","assets/DataExportScreen-Dv1eZNq7.js","assets/DataExportScreen-1HR5Np7C.css","assets/DataImportScreen-BpOvQQ-p.js","assets/DataImportScreen-DIr1i-Ie.css","assets/DataDeleteScreen-BWlxdjMf.js","assets/DataDeleteScreen-C4nCJP0o.css","assets/FeedbackScreen-B7iJYHl7.js","assets/FeedbackScreen-Cpf2w1Pb.css","assets/LanguageSettingsScreen-BYSMQ6hC.js","assets/LanguageSettingsScreen-DvYmnS9U.css","assets/SaltSettingsScreen-BBt_jpg9.js","assets/SaltSettingsScreen-BGU2wm5C.css","assets/CarbTargetSettingsScreen-Cx_A1pbT.js","assets/CarbTargetSettingsScreen-CCD2YNRT.css","assets/NutrientTargetCustomizationScreen-DOo55GtD.js","assets/NutrientTargetCustomizationScreen-B0G_HFAR.css","assets/GiftScreen-BEoZ5VHn.js","assets/GiftScreen-DEXgcCac.css","assets/ShopScreen-BigyJJ6X.js","assets/ShopScreen-DTL5l_B-.css","assets/RecipeScreen-nHWAFCOA.js","assets/RecipeScreen-SaGk_dHY.css","assets/HealthDeviceScreen-COvaBhR0.js","assets/HealthDeviceScreen-4ZZ1NvHe.css","assets/InputScreen-D1Nx0Dy2.js","assets/InputScreen-DVV4ZGUA.css","assets/ResultsScreen-K0Zj5SYD.js","assets/ResultsScreen-DU2WyCz2.css","assets/PaywallScreen-CPycHcSw.js","assets/PaywallScreen-BCOMjATT.css","assets/IfThenRulesScreen-CvygCwoJ.js"])))=>i.map(i=>d[i]);
import{r as m}from"./chart-vendor-BKK2UjWf.js";import{r as Qh,a as Ph}from"./react-vendor-OvXVS5lI.js";import{G as Zh}from"./ai-vendor-9LcfXvm6.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))c(y);new MutationObserver(y=>{for(const h of y)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function d(y){const h={};return y.integrity&&(h.integrity=y.integrity),y.referrerPolicy&&(h.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?h.credentials="include":y.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(y){if(y.ep)return;y.ep=!0;const h=d(y);fetch(y.href,h)}})();var Kc={exports:{}},el={};var Wf;function Jh(){if(Wf)return el;Wf=1;var r=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function d(c,y,h){var f=null;if(h!==void 0&&(f=""+h),y.key!==void 0&&(f=""+y.key),"key"in y){h={};for(var x in y)x!=="key"&&(h[x]=y[x])}else h=y;return y=h.ref,{$$typeof:r,type:c,key:f,ref:y!==void 0?y:null,props:h}}return el.Fragment=l,el.jsx=d,el.jsxs=d,el}var eg;function Wh(){return eg||(eg=1,Kc.exports=Jh()),Kc.exports}var a=Wh(),Yc={exports:{}},tl={},Xc={exports:{}},$c={};var tg;function e0(){return tg||(tg=1,(function(r){function l(F,ue){var re=F.length;F.push(ue);e:for(;0<re;){var ge=re-1>>>1,he=F[ge];if(0<y(he,ue))F[ge]=ue,F[re]=he,re=ge;else break e}}function d(F){return F.length===0?null:F[0]}function c(F){if(F.length===0)return null;var ue=F[0],re=F.pop();if(re!==ue){F[0]=re;e:for(var ge=0,he=F.length,we=he>>>1;ge<we;){var R=2*(ge+1)-1,Z=F[R],J=R+1,le=F[J];if(0>y(Z,re))J<he&&0>y(le,Z)?(F[ge]=le,F[J]=re,ge=J):(F[ge]=Z,F[R]=re,ge=R);else if(J<he&&0>y(le,re))F[ge]=le,F[J]=re,ge=J;else break e}}return ue}function y(F,ue){var re=F.sortIndex-ue.sortIndex;return re!==0?re:F.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var f=Date,x=f.now();r.unstable_now=function(){return f.now()-x}}var w=[],j=[],v=1,p=null,k=3,T=!1,q=!1,ne=!1,fe=!1,se=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function ve(F){for(var ue=d(j);ue!==null;){if(ue.callback===null)c(j);else if(ue.startTime<=F)c(j),ue.sortIndex=ue.expirationTime,l(w,ue);else break;ue=d(j)}}function xe(F){if(ne=!1,ve(F),!q)if(d(w)!==null)q=!0,de||(de=!0,ze());else{var ue=d(j);ue!==null&&Se(xe,ue.startTime-F)}}var de=!1,je=-1,Q=5,Ne=-1;function Oe(){return fe?!0:!(r.unstable_now()-Ne<Q)}function O(){if(fe=!1,de){var F=r.unstable_now();Ne=F;var ue=!0;try{e:{q=!1,ne&&(ne=!1,te(je),je=-1),T=!0;var re=k;try{t:{for(ve(F),p=d(w);p!==null&&!(p.expirationTime>F&&Oe());){var ge=p.callback;if(typeof ge=="function"){p.callback=null,k=p.priorityLevel;var he=ge(p.expirationTime<=F);if(F=r.unstable_now(),typeof he=="function"){p.callback=he,ve(F),ue=!0;break t}p===d(w)&&c(w),ve(F)}else c(w);p=d(w)}if(p!==null)ue=!0;else{var we=d(j);we!==null&&Se(xe,we.startTime-F),ue=!1}}break e}finally{p=null,k=re,T=!1}ue=void 0}}finally{ue?ze():de=!1}}}var ze;if(typeof oe=="function")ze=function(){oe(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=O,ze=function(){W.postMessage(null)}}else ze=function(){se(O,0)};function Se(F,ue){je=se(function(){F(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_next=function(F){switch(k){case 1:case 2:case 3:var ue=3;break;default:ue=k}var re=k;k=ue;try{return F()}finally{k=re}},r.unstable_requestPaint=function(){fe=!0},r.unstable_runWithPriority=function(F,ue){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var re=k;k=F;try{return ue()}finally{k=re}},r.unstable_scheduleCallback=function(F,ue,re){var ge=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ge+re:ge):re=ge,F){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=re+he,F={id:v++,callback:ue,priorityLevel:F,startTime:re,expirationTime:he,sortIndex:-1},re>ge?(F.sortIndex=re,l(j,F),d(w)===null&&F===d(j)&&(ne?(te(je),je=-1):ne=!0,Se(xe,re-ge))):(F.sortIndex=he,l(w,F),q||T||(q=!0,de||(de=!0,ze()))),F},r.unstable_shouldYield=Oe,r.unstable_wrapCallback=function(F){var ue=k;return function(){var re=k;k=ue;try{return F.apply(this,arguments)}finally{k=re}}}})($c)),$c}var ng;function t0(){return ng||(ng=1,Xc.exports=e0()),Xc.exports}var ag;function n0(){if(ag)return tl;ag=1;var r=t0(),l=Qh(),d=Ph();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w(e){if(h(e)!==e)throw Error(c(188))}function j(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return w(o),e;if(s===i)return w(o),t;s=s.sibling}throw Error(c(188))}if(n.return!==i.return)n=o,i=s;else{for(var u=!1,g=o.child;g;){if(g===n){u=!0,n=o,i=s;break}if(g===i){u=!0,i=o,n=s;break}g=g.sibling}if(!u){for(g=s.child;g;){if(g===n){u=!0,n=s,i=o;break}if(g===i){u=!0,i=s,n=o;break}g=g.sibling}if(!u)throw Error(c(189))}}if(n.alternate!==i)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,k=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Ne=Symbol.for("react.activity"),Oe=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function ze(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var z=Symbol.for("react.client.reference");function W(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===z?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ne:return"Fragment";case se:return"Profiler";case fe:return"StrictMode";case xe:return"Suspense";case de:return"SuspenseList";case Ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case oe:return e.displayName||"Context";case te:return(e._context.displayName||"Context")+".Consumer";case ve:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case je:return t=e.displayName||null,t!==null?t:W(e.type)||"Memo";case Q:t=e._payload,e=e._init;try{return W(e(t))}catch{}}return null}var Se=Array.isArray,F=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ge=[],he=-1;function we(e){return{current:e}}function R(e){0>he||(e.current=ge[he],ge[he]=null,he--)}function Z(e,t){he++,ge[he]=e.current,e.current=t}var J=we(null),le=we(null),A=we(null),ye=we(null);function _(e,t){switch(Z(A,t),Z(le,e),Z(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?jf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=jf(t),e=wf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(J),Z(J,e)}function U(){R(J),R(le),R(A)}function E(e){e.memoizedState!==null&&Z(ye,e);var t=J.current,n=wf(t,e.type);t!==n&&(Z(le,e),Z(J,n))}function V(e){le.current===e&&(R(J),R(le)),ye.current===e&&(R(ye),Po._currentValue=re)}var me,Be;function M(e){if(me===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);me=t&&t[1]||"",Be=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+e+Be}var G=!1;function be(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(H){var I=H}Reflect.construct(e,[],P)}else{try{P.call()}catch(H){I=H}e.call(P.prototype)}}else{try{throw Error()}catch(H){I=H}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(H){if(H&&I&&typeof H.stack=="string")return[H.stack,I.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),u=s[0],g=s[1];if(u&&g){var C=u.split(`
`),L=g.split(`
`);for(o=i=0;i<C.length&&!C[i].includes("DetermineComponentFrameRoot");)i++;for(;o<L.length&&!L[o].includes("DetermineComponentFrameRoot");)o++;if(i===C.length||o===L.length)for(i=C.length-1,o=L.length-1;1<=i&&0<=o&&C[i]!==L[o];)o--;for(;1<=i&&0<=o;i--,o--)if(C[i]!==L[o]){if(i!==1||o!==1)do if(i--,o--,0>o||C[i]!==L[o]){var K=`
`+C[i].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=i&&0<=o);break}}}finally{G=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?M(n):""}function ce(e,t){switch(e.tag){case 26:case 27:case 5:return M(e.type);case 16:return M("Lazy");case 13:return e.child!==t&&t!==null?M("Suspense Fallback"):M("Suspense");case 19:return M("SuspenseList");case 0:case 15:return be(e.type,!1);case 11:return be(e.type.render,!1);case 1:return be(e.type,!0);case 31:return M("Activity");default:return""}}function nt(e){try{var t="",n=null;do t+=ce(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var St=Object.prototype.hasOwnProperty,ct=r.unstable_scheduleCallback,Ot=r.unstable_cancelCallback,vt=r.unstable_shouldYield,ot=r.unstable_requestPaint,zt=r.unstable_now,ai=r.unstable_getCurrentPriorityLevel,Vn=r.unstable_ImmediatePriority,Jt=r.unstable_UserBlockingPriority,Wt=r.unstable_NormalPriority,en=r.unstable_LowPriority,wt=r.unstable_IdlePriority,Ln=r.log,Et=r.unstable_setDisableYieldValue,tn=null,ft=null;function Vt(e){if(typeof Ln=="function"&&Et(e),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(tn,e)}catch{}}var pt=Math.clz32?Math.clz32:ba,qn=Math.log,$t=Math.LN2;function ba(e){return e>>>=0,e===0?32:31-(qn(e)/$t|0)|0}var X=256,ee=262144,Fn=4194304;function yt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Cn(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var o=0,s=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var g=i&134217727;return g!==0?(i=g&~s,i!==0?o=yt(i):(u&=g,u!==0?o=yt(u):n||(n=g&~e,n!==0&&(o=yt(n))))):(g=i&~s,g!==0?o=yt(g):u!==0?o=yt(u):n||(n=i&~e,n!==0&&(o=yt(n)))),o===0?0:t!==0&&t!==o&&(t&s)===0&&(s=o&-o,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:o}function nn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Pn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gn(){var e=Fn;return Fn<<=1,(Fn&62914560)===0&&(Fn=4194304),e}function Zn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function It(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gn(e,t,n,i,o,s){var u=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var g=e.entanglements,C=e.expirationTimes,L=e.hiddenUpdates;for(n=u&~n;0<n;){var K=31-pt(n),P=1<<K;g[K]=0,C[K]=-1;var I=L[K];if(I!==null)for(L[K]=null,K=0;K<I.length;K++){var H=I[K];H!==null&&(H.lane&=-536870913)}n&=~P}i!==0&&S(e,i,0),s!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=s&~(u&~t))}function S(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-pt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function ke(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-pt(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function Re(e,t){var n=t&-t;return n=(n&42)!==0?1:Me(n),(n&(e.suspendedLanes|t))!==0?0:n}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ge(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function De(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:Yf(e.type))}function Fe(e,t){var n=ue.p;try{return ue.p=e,t()}finally{ue.p=n}}var He=Math.random().toString(36).slice(2),Ie="__reactFiber$"+He,Ue="__reactProps$"+He,Ct="__reactContainer$"+He,pn="__reactEvents$"+He,kt="__reactListeners$"+He,Os="__reactHandles$"+He,xa="__reactResources$"+He,Kn="__reactMarker$"+He;function Ti(e){delete e[Ie],delete e[Ue],delete e[pn],delete e[kt],delete e[Os]}function Jn(e){var t=e[Ie];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ct]||n[Ie]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Af(e);e!==null;){if(n=e[Ie])return n;e=Af(e)}return t}e=n,n=e.parentNode}return null}function Wn(e){if(e=e[Ie]||e[Ct]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Sa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function ja(e){var t=e[xa];return t||(t=e[xa]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function b(e){e[Kn]=!0}var Y=new Set,ae={};function Ae(e,t){pe(e,t),pe(e+"Capture",t)}function pe(e,t){for(ae[e]=t,e=0;e<t.length;e++)Y.add(t[e])}var ie=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ce={},et={};function Qt(e){return St.call(et,e)?!0:St.call(Ce,e)?!1:ie.test(e)?et[e]=!0:(Ce[e]=!0,!1)}function qt(e,t,n){if(Qt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function $e(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ke(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function an(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(u){n=""+u,s.call(this,u)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hn(e){if(!e._valueTracker){var t=Pt(e)?"checked":"value";e._valueTracker=an(e,t,""+e[t])}}function Ni(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Pt(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function wa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ul=/[\n"\\]/g;function on(e){return e.replace(ul,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Is(e,t,n,i,o,s,u,g){e.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.type=u:e.removeAttribute("type"),t!=null?u==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):u!=="submit"&&u!=="reset"||e.removeAttribute("value"),t!=null?Us(e,u,ht(t)):n!=null?Us(e,u,ht(n)):i!=null&&e.removeAttribute("value"),o==null&&s!=null&&(e.defaultChecked=!!s),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+ht(g):e.removeAttribute("name")}function pu(e,t,n,i,o,s,u,g){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){hn(e);return}n=n!=null?""+ht(n):"",t=t!=null?""+ht(t):n,g||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=g?e.checked:!!i,e.defaultChecked=!!i,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.name=u),hn(e)}function Us(e,t,n){t==="number"&&wa(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function zi(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function hu(e,t,n){if(t!=null&&(t=""+ht(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+ht(n):""}function vu(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(c(92));if(Se(i)){if(1<i.length)throw Error(c(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=ht(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),hn(e)}function ki(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Gg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yu(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Gg.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function bu(e,t,n){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&yu(e,o,i)}else for(var s in t)t.hasOwnProperty(s)&&yu(e,s,t[s])}function Hs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dl(e){return Yg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ea(){}var Vs=null;function qs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,Di=null;function xu(e){var t=Wn(e);if(t&&(e=t.stateNode)){var n=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(Is(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+on(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[Ue]||null;if(!o)throw Error(c(90));Is(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Ni(i)}break e;case"textarea":hu(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&zi(e,!!n.multiple,t,!1)}}}var Gs=!1;function Su(e,t,n){if(Gs)return e(t,n);Gs=!0;try{var i=e(t);return i}finally{if(Gs=!1,(Ai!==null||Di!==null)&&(Jl(),Ai&&(t=Ai,e=Di,Di=Ai=null,xu(t),e)))for(t=0;t<e.length;t++)xu(e[t])}}function fo(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Ue]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ks=!1;if(ta)try{var go={};Object.defineProperty(go,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{Ks=!1}var _a=null,Ys=null,ml=null;function ju(){if(ml)return ml;var e,t=Ys,n=t.length,i,o="value"in _a?_a.value:_a.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var u=n-e;for(i=1;i<=u&&t[n-i]===o[s-i];i++);return ml=o.slice(e,1<i?1-i:void 0)}function fl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gl(){return!0}function wu(){return!1}function ln(e){function t(n,i,o,s,u){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(s):s[g]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gl:wu,this.isPropagationStopped=wu,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),t}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=ln(ii),po=p({},ii,{view:0,detail:0}),Xg=ln(po),Xs,$s,ho,hl=p({},po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ho&&(ho&&e.type==="mousemove"?(Xs=e.screenX-ho.screenX,$s=e.screenY-ho.screenY):$s=Xs=0,ho=e),Xs)},movementY:function(e){return"movementY"in e?e.movementY:$s}}),_u=ln(hl),$g=p({},hl,{dataTransfer:0}),Qg=ln($g),Pg=p({},po,{relatedTarget:0}),Qs=ln(Pg),Zg=p({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Jg=ln(Zg),Wg=p({},ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ep=ln(Wg),tp=p({},ii,{data:0}),Cu=ln(tp),np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ap={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function op(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ip[e])?!!t[e]:!1}function Ps(){return op}var lp=p({},po,{key:function(e){if(e.key){var t=np[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ap[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(e){return e.type==="keypress"?fl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sp=ln(lp),rp=p({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tu=ln(rp),cp=p({},po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),up=ln(cp),dp=p({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),mp=ln(dp),fp=p({},hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gp=ln(fp),pp=p({},ii,{newState:0,oldState:0}),hp=ln(pp),vp=[9,13,27,32],Zs=ta&&"CompositionEvent"in window,vo=null;ta&&"documentMode"in document&&(vo=document.documentMode);var yp=ta&&"TextEvent"in window&&!vo,Nu=ta&&(!Zs||vo&&8<vo&&11>=vo),zu=" ",ku=!1;function Au(e,t){switch(e){case"keyup":return vp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Du(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ei=!1;function bp(e,t){switch(e){case"compositionend":return Du(t);case"keypress":return t.which!==32?null:(ku=!0,zu);case"textInput":return e=t.data,e===zu&&ku?null:e;default:return null}}function xp(e,t){if(Ei)return e==="compositionend"||!Zs&&Au(e,t)?(e=ju(),ml=Ys=_a=null,Ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nu&&t.locale!=="ko"?null:t.data;default:return null}}var Sp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sp[e.type]:t==="textarea"}function Mu(e,t,n,i){Ai?Di?Di.push(i):Di=[i]:Ai=i,t=os(t,"onChange"),0<t.length&&(n=new pl("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var yo=null,bo=null;function jp(e){hf(e,0)}function vl(e){var t=Sa(e);if(Ni(t))return e}function Ru(e,t){if(e==="change")return t}var Bu=!1;if(ta){var Js;if(ta){var Ws="oninput"in document;if(!Ws){var Lu=document.createElement("div");Lu.setAttribute("oninput","return;"),Ws=typeof Lu.oninput=="function"}Js=Ws}else Js=!1;Bu=Js&&(!document.documentMode||9<document.documentMode)}function Fu(){yo&&(yo.detachEvent("onpropertychange",Ou),bo=yo=null)}function Ou(e){if(e.propertyName==="value"&&vl(bo)){var t=[];Mu(t,bo,e,qs(e)),Su(jp,t)}}function wp(e,t,n){e==="focusin"?(Fu(),yo=t,bo=n,yo.attachEvent("onpropertychange",Ou)):e==="focusout"&&Fu()}function _p(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vl(bo)}function Cp(e,t){if(e==="click")return vl(t)}function Tp(e,t){if(e==="input"||e==="change")return vl(t)}function Np(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vn=typeof Object.is=="function"?Object.is:Np;function xo(e,t){if(vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!St.call(t,o)||!vn(e[o],t[o]))return!1}return!0}function Iu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uu(e,t){var n=Iu(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Iu(n)}}function Hu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=wa(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wa(e.document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var zp=ta&&"documentMode"in document&&11>=document.documentMode,Mi=null,tr=null,So=null,nr=!1;function qu(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nr||Mi==null||Mi!==wa(i)||(i=Mi,"selectionStart"in i&&er(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),So&&xo(So,i)||(So=i,i=os(tr,"onSelect"),0<i.length&&(t=new pl("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Mi)))}function oi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ri={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},ar={},Gu={};ta&&(Gu=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function li(e){if(ar[e])return ar[e];if(!Ri[e])return e;var t=Ri[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gu)return ar[e]=t[n];return e}var Ku=li("animationend"),Yu=li("animationiteration"),Xu=li("animationstart"),kp=li("transitionrun"),Ap=li("transitionstart"),Dp=li("transitioncancel"),$u=li("transitionend"),Qu=new Map,ir="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ir.push("scrollEnd");function On(e,t){Qu.set(e,t),Ae(t,[e])}var yl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Tn=[],Bi=0,or=0;function bl(){for(var e=Bi,t=or=Bi=0;t<e;){var n=Tn[t];Tn[t++]=null;var i=Tn[t];Tn[t++]=null;var o=Tn[t];Tn[t++]=null;var s=Tn[t];if(Tn[t++]=null,i!==null&&o!==null){var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}s!==0&&Pu(n,o,s)}}function xl(e,t,n,i){Tn[Bi++]=e,Tn[Bi++]=t,Tn[Bi++]=n,Tn[Bi++]=i,or|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function lr(e,t,n,i){return xl(e,t,n,i),Sl(e)}function si(e,t){return xl(e,null,null,t),Sl(e)}function Pu(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var o=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(o=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,o&&t!==null&&(o=31-pt(n),e=s.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=n|536870912),s):null}function Sl(e){if(50<qo)throw qo=0,pc=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Li={};function Ep(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,t,n,i){return new Ep(e,t,n,i)}function sr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function na(e,t){var n=e.alternate;return n===null?(n=yn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Zu(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jl(e,t,n,i,o,s){var u=0;if(i=e,typeof e=="function")sr(e)&&(u=1);else if(typeof e=="string")u=Fh(e,n,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ne:return e=yn(31,n,t,o),e.elementType=Ne,e.lanes=s,e;case ne:return ri(n.children,o,s,t);case fe:u=8,o|=24;break;case se:return e=yn(12,n,t,o|2),e.elementType=se,e.lanes=s,e;case xe:return e=yn(13,n,t,o),e.elementType=xe,e.lanes=s,e;case de:return e=yn(19,n,t,o),e.elementType=de,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oe:u=10;break e;case te:u=9;break e;case ve:u=11;break e;case je:u=14;break e;case Q:u=16,i=null;break e}u=29,n=Error(c(130,e===null?"null":typeof e,"")),i=null}return t=yn(u,n,t,o),t.elementType=e,t.type=i,t.lanes=s,t}function ri(e,t,n,i){return e=yn(7,e,i,t),e.lanes=n,e}function rr(e,t,n){return e=yn(6,e,null,t),e.lanes=n,e}function Ju(e){var t=yn(18,null,null,0);return t.stateNode=e,t}function cr(e,t,n){return t=yn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wu=new WeakMap;function Nn(e,t){if(typeof e=="object"&&e!==null){var n=Wu.get(e);return n!==void 0?n:(t={value:e,source:t,stack:nt(t)},Wu.set(e,t),t)}return{value:e,source:t,stack:nt(t)}}var Fi=[],Oi=0,wl=null,jo=0,zn=[],kn=0,Ca=null,Yn=1,Xn="";function aa(e,t){Fi[Oi++]=jo,Fi[Oi++]=wl,wl=e,jo=t}function ed(e,t,n){zn[kn++]=Yn,zn[kn++]=Xn,zn[kn++]=Ca,Ca=e;var i=Yn;e=Xn;var o=32-pt(i)-1;i&=~(1<<o),n+=1;var s=32-pt(t)+o;if(30<s){var u=o-o%5;s=(i&(1<<u)-1).toString(32),i>>=u,o-=u,Yn=1<<32-pt(t)+o|n<<o|i,Xn=s+e}else Yn=1<<s|n<<o|i,Xn=e}function ur(e){e.return!==null&&(aa(e,1),ed(e,1,0))}function dr(e){for(;e===wl;)wl=Fi[--Oi],Fi[Oi]=null,jo=Fi[--Oi],Fi[Oi]=null;for(;e===Ca;)Ca=zn[--kn],zn[kn]=null,Xn=zn[--kn],zn[kn]=null,Yn=zn[--kn],zn[kn]=null}function td(e,t){zn[kn++]=Yn,zn[kn++]=Xn,zn[kn++]=Ca,Yn=t.id,Xn=t.overflow,Ca=e}var Gt=null,bt=null,tt=!1,Ta=null,An=!1,mr=Error(c(519));function Na(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wo(Nn(t,e)),mr}function nd(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Ie]=e,t[Ue]=i,n){case"dialog":Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":case"embed":Pe("load",t);break;case"video":case"audio":for(n=0;n<Ko.length;n++)Pe(Ko[n],t);break;case"source":Pe("error",t);break;case"img":case"image":case"link":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"input":Pe("invalid",t),pu(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Pe("invalid",t);break;case"textarea":Pe("invalid",t),vu(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||xf(t.textContent,n)?(i.popover!=null&&(Pe("beforetoggle",t),Pe("toggle",t)),i.onScroll!=null&&Pe("scroll",t),i.onScrollEnd!=null&&Pe("scrollend",t),i.onClick!=null&&(t.onclick=ea),t=!0):t=!1,t||Na(e,!0)}function ad(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:An=!1;return;case 27:case 3:An=!0;return;default:Gt=Gt.return}}function Ii(e){if(e!==Gt)return!1;if(!tt)return ad(e),tt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ac(e.type,e.memoizedProps)),n=!n),n&&bt&&Na(e),ad(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));bt=kf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));bt=kf(e)}else t===27?(t=bt,Ha(e.type)?(e=Bc,Bc=null,bt=e):bt=t):bt=Gt?En(e.stateNode.nextSibling):null;return!0}function ci(){bt=Gt=null,tt=!1}function fr(){var e=Ta;return e!==null&&(un===null?un=e:un.push.apply(un,e),Ta=null),e}function wo(e){Ta===null?Ta=[e]:Ta.push(e)}var gr=we(null),ui=null,ia=null;function za(e,t,n){Z(gr,t._currentValue),t._currentValue=n}function oa(e){e._currentValue=gr.current,R(gr)}function pr(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function hr(e,t,n,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){var u=o.child;s=s.firstContext;e:for(;s!==null;){var g=s;s=o;for(var C=0;C<t.length;C++)if(g.context===t[C]){s.lanes|=n,g=s.alternate,g!==null&&(g.lanes|=n),pr(s.return,n,e),i||(u=null);break e}s=g.next}}else if(o.tag===18){if(u=o.return,u===null)throw Error(c(341));u.lanes|=n,s=u.alternate,s!==null&&(s.lanes|=n),pr(u,n,e),u=null}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===e){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}}function Ui(e,t,n,i){e=null;for(var o=t,s=!1;o!==null;){if(!s){if((o.flags&524288)!==0)s=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var u=o.alternate;if(u===null)throw Error(c(387));if(u=u.memoizedProps,u!==null){var g=o.type;vn(o.pendingProps.value,u.value)||(e!==null?e.push(g):e=[g])}}else if(o===ye.current){if(u=o.alternate,u===null)throw Error(c(387));u.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Po):e=[Po])}o=o.return}e!==null&&hr(t,e,n,i),t.flags|=262144}function _l(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function di(e){ui=e,ia=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Kt(e){return id(ui,e)}function Cl(e,t){return ui===null&&di(e),id(e,t)}function id(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ia===null){if(e===null)throw Error(c(308));ia=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ia=ia.next=t;return n}var Mp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Rp=r.unstable_scheduleCallback,Bp=r.unstable_NormalPriority,Mt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vr(){return{controller:new Mp,data:new Map,refCount:0}}function _o(e){e.refCount--,e.refCount===0&&Rp(Bp,function(){e.controller.abort()})}var Co=null,yr=0,Hi=0,Vi=null;function Lp(e,t){if(Co===null){var n=Co=[];yr=0,Hi=Sc(),Vi={status:"pending",value:void 0,then:function(i){n.push(i)}}}return yr++,t.then(od,od),t}function od(){if(--yr===0&&Co!==null){Vi!==null&&(Vi.status="fulfilled");var e=Co;Co=null,Hi=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Fp(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var ld=F.S;F.S=function(e,t){qm=zt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Lp(e,t),ld!==null&&ld(e,t)};var mi=we(null);function br(){var e=mi.current;return e!==null?e:gt.pooledCache}function Tl(e,t){t===null?Z(mi,mi.current):Z(mi,t.pool)}function sd(){var e=br();return e===null?null:{parent:Mt._currentValue,pool:e}}var qi=Error(c(460)),xr=Error(c(474)),Nl=Error(c(542)),zl={then:function(){}};function rd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ea,ea),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,dd(e),e;default:if(typeof t.status=="string")t.then(ea,ea);else{if(e=gt,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,dd(e),e}throw gi=t,qi}}function fi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(gi=n,qi):n}}var gi=null;function ud(){if(gi===null)throw Error(c(459));var e=gi;return gi=null,e}function dd(e){if(e===qi||e===Nl)throw Error(c(483))}var Gi=null,To=0;function kl(e){var t=To;return To+=1,Gi===null&&(Gi=[]),cd(Gi,e,t)}function No(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Al(e,t){throw t.$$typeof===k?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function md(e){function t(D,N){if(e){var B=D.deletions;B===null?(D.deletions=[N],D.flags|=16):B.push(N)}}function n(D,N){if(!e)return null;for(;N!==null;)t(D,N),N=N.sibling;return null}function i(D){for(var N=new Map;D!==null;)D.key!==null?N.set(D.key,D):N.set(D.index,D),D=D.sibling;return N}function o(D,N){return D=na(D,N),D.index=0,D.sibling=null,D}function s(D,N,B){return D.index=B,e?(B=D.alternate,B!==null?(B=B.index,B<N?(D.flags|=67108866,N):B):(D.flags|=67108866,N)):(D.flags|=1048576,N)}function u(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function g(D,N,B,$){return N===null||N.tag!==6?(N=rr(B,D.mode,$),N.return=D,N):(N=o(N,B),N.return=D,N)}function C(D,N,B,$){var Ee=B.type;return Ee===ne?K(D,N,B.props.children,$,B.key):N!==null&&(N.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Q&&fi(Ee)===N.type)?(N=o(N,B.props),No(N,B),N.return=D,N):(N=jl(B.type,B.key,B.props,null,D.mode,$),No(N,B),N.return=D,N)}function L(D,N,B,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=cr(B,D.mode,$),N.return=D,N):(N=o(N,B.children||[]),N.return=D,N)}function K(D,N,B,$,Ee){return N===null||N.tag!==7?(N=ri(B,D.mode,$,Ee),N.return=D,N):(N=o(N,B),N.return=D,N)}function P(D,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=rr(""+N,D.mode,B),N.return=D,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case T:return B=jl(N.type,N.key,N.props,null,D.mode,B),No(B,N),B.return=D,B;case q:return N=cr(N,D.mode,B),N.return=D,N;case Q:return N=fi(N),P(D,N,B)}if(Se(N)||ze(N))return N=ri(N,D.mode,B,null),N.return=D,N;if(typeof N.then=="function")return P(D,kl(N),B);if(N.$$typeof===oe)return P(D,Cl(D,N),B);Al(D,N)}return null}function I(D,N,B,$){var Ee=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Ee!==null?null:g(D,N,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case T:return B.key===Ee?C(D,N,B,$):null;case q:return B.key===Ee?L(D,N,B,$):null;case Q:return B=fi(B),I(D,N,B,$)}if(Se(B)||ze(B))return Ee!==null?null:K(D,N,B,$,null);if(typeof B.then=="function")return I(D,N,kl(B),$);if(B.$$typeof===oe)return I(D,N,Cl(D,B),$);Al(D,B)}return null}function H(D,N,B,$,Ee){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return D=D.get(B)||null,g(N,D,""+$,Ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return D=D.get($.key===null?B:$.key)||null,C(N,D,$,Ee);case q:return D=D.get($.key===null?B:$.key)||null,L(N,D,$,Ee);case Q:return $=fi($),H(D,N,B,$,Ee)}if(Se($)||ze($))return D=D.get(B)||null,K(N,D,$,Ee,null);if(typeof $.then=="function")return H(D,N,B,kl($),Ee);if($.$$typeof===oe)return H(D,N,B,Cl(N,$),Ee);Al(N,$)}return null}function _e(D,N,B,$){for(var Ee=null,at=null,Te=N,qe=N=0,We=null;Te!==null&&qe<B.length;qe++){Te.index>qe?(We=Te,Te=null):We=Te.sibling;var it=I(D,Te,B[qe],$);if(it===null){Te===null&&(Te=We);break}e&&Te&&it.alternate===null&&t(D,Te),N=s(it,N,qe),at===null?Ee=it:at.sibling=it,at=it,Te=We}if(qe===B.length)return n(D,Te),tt&&aa(D,qe),Ee;if(Te===null){for(;qe<B.length;qe++)Te=P(D,B[qe],$),Te!==null&&(N=s(Te,N,qe),at===null?Ee=Te:at.sibling=Te,at=Te);return tt&&aa(D,qe),Ee}for(Te=i(Te);qe<B.length;qe++)We=H(Te,D,qe,B[qe],$),We!==null&&(e&&We.alternate!==null&&Te.delete(We.key===null?qe:We.key),N=s(We,N,qe),at===null?Ee=We:at.sibling=We,at=We);return e&&Te.forEach(function(Ya){return t(D,Ya)}),tt&&aa(D,qe),Ee}function Le(D,N,B,$){if(B==null)throw Error(c(151));for(var Ee=null,at=null,Te=N,qe=N=0,We=null,it=B.next();Te!==null&&!it.done;qe++,it=B.next()){Te.index>qe?(We=Te,Te=null):We=Te.sibling;var Ya=I(D,Te,it.value,$);if(Ya===null){Te===null&&(Te=We);break}e&&Te&&Ya.alternate===null&&t(D,Te),N=s(Ya,N,qe),at===null?Ee=Ya:at.sibling=Ya,at=Ya,Te=We}if(it.done)return n(D,Te),tt&&aa(D,qe),Ee;if(Te===null){for(;!it.done;qe++,it=B.next())it=P(D,it.value,$),it!==null&&(N=s(it,N,qe),at===null?Ee=it:at.sibling=it,at=it);return tt&&aa(D,qe),Ee}for(Te=i(Te);!it.done;qe++,it=B.next())it=H(Te,D,qe,it.value,$),it!==null&&(e&&it.alternate!==null&&Te.delete(it.key===null?qe:it.key),N=s(it,N,qe),at===null?Ee=it:at.sibling=it,at=it);return e&&Te.forEach(function($h){return t(D,$h)}),tt&&aa(D,qe),Ee}function mt(D,N,B,$){if(typeof B=="object"&&B!==null&&B.type===ne&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case T:e:{for(var Ee=B.key;N!==null;){if(N.key===Ee){if(Ee=B.type,Ee===ne){if(N.tag===7){n(D,N.sibling),$=o(N,B.props.children),$.return=D,D=$;break e}}else if(N.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Q&&fi(Ee)===N.type){n(D,N.sibling),$=o(N,B.props),No($,B),$.return=D,D=$;break e}n(D,N);break}else t(D,N);N=N.sibling}B.type===ne?($=ri(B.props.children,D.mode,$,B.key),$.return=D,D=$):($=jl(B.type,B.key,B.props,null,D.mode,$),No($,B),$.return=D,D=$)}return u(D);case q:e:{for(Ee=B.key;N!==null;){if(N.key===Ee)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){n(D,N.sibling),$=o(N,B.children||[]),$.return=D,D=$;break e}else{n(D,N);break}else t(D,N);N=N.sibling}$=cr(B,D.mode,$),$.return=D,D=$}return u(D);case Q:return B=fi(B),mt(D,N,B,$)}if(Se(B))return _e(D,N,B,$);if(ze(B)){if(Ee=ze(B),typeof Ee!="function")throw Error(c(150));return B=Ee.call(B),Le(D,N,B,$)}if(typeof B.then=="function")return mt(D,N,kl(B),$);if(B.$$typeof===oe)return mt(D,N,Cl(D,B),$);Al(D,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(n(D,N.sibling),$=o(N,B),$.return=D,D=$):(n(D,N),$=rr(B,D.mode,$),$.return=D,D=$),u(D)):n(D,N)}return function(D,N,B,$){try{To=0;var Ee=mt(D,N,B,$);return Gi=null,Ee}catch(Te){if(Te===qi||Te===Nl)throw Te;var at=yn(29,Te,null,D.mode);return at.lanes=$,at.return=D,at}}}var pi=md(!0),fd=md(!1),ka=!1;function Sr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(lt&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=Sl(e),Pu(e,null,n),t}return xl(e,i,t,n),Sl(e)}function zo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ke(e,n)}}function wr(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var u={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?o=s=u:s=s.next=u,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var _r=!1;function ko(){if(_r){var e=Vi;if(e!==null)throw e}}function Ao(e,t,n,i){_r=!1;var o=e.updateQueue;ka=!1;var s=o.firstBaseUpdate,u=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var C=g,L=C.next;C.next=null,u===null?s=L:u.next=L,u=C;var K=e.alternate;K!==null&&(K=K.updateQueue,g=K.lastBaseUpdate,g!==u&&(g===null?K.firstBaseUpdate=L:g.next=L,K.lastBaseUpdate=C))}if(s!==null){var P=o.baseState;u=0,K=L=C=null,g=s;do{var I=g.lane&-536870913,H=I!==g.lane;if(H?(Je&I)===I:(i&I)===I){I!==0&&I===Hi&&(_r=!0),K!==null&&(K=K.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var _e=e,Le=g;I=t;var mt=n;switch(Le.tag){case 1:if(_e=Le.payload,typeof _e=="function"){P=_e.call(mt,P,I);break e}P=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Le.payload,I=typeof _e=="function"?_e.call(mt,P,I):_e,I==null)break e;P=p({},P,I);break e;case 2:ka=!0}}I=g.callback,I!==null&&(e.flags|=64,H&&(e.flags|=8192),H=o.callbacks,H===null?o.callbacks=[I]:H.push(I))}else H={lane:I,tag:g.tag,payload:g.payload,callback:g.callback,next:null},K===null?(L=K=H,C=P):K=K.next=H,u|=I;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;H=g,g=H.next,H.next=null,o.lastBaseUpdate=H,o.shared.pending=null}}while(!0);K===null&&(C=P),o.baseState=C,o.firstBaseUpdate=L,o.lastBaseUpdate=K,s===null&&(o.shared.lanes=0),La|=u,e.lanes=u,e.memoizedState=P}}function gd(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function pd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)gd(n[e],t)}var Ki=we(null),Dl=we(0);function hd(e,t){e=ga,Z(Dl,e),Z(Ki,t),ga=e|t.baseLanes}function Cr(){Z(Dl,ga),Z(Ki,Ki.current)}function Tr(){ga=Dl.current,R(Ki),R(Dl)}var bn=we(null),Dn=null;function Ea(e){var t=e.alternate;Z(At,At.current&1),Z(bn,e),Dn===null&&(t===null||Ki.current!==null||t.memoizedState!==null)&&(Dn=e)}function Nr(e){Z(At,At.current),Z(bn,e),Dn===null&&(Dn=e)}function vd(e){e.tag===22?(Z(At,At.current),Z(bn,e),Dn===null&&(Dn=e)):Ma()}function Ma(){Z(At,At.current),Z(bn,bn.current)}function xn(e){R(bn),Dn===e&&(Dn=null),R(At)}var At=we(0);function El(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Mc(n)||Rc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=0,Ve=null,ut=null,Rt=null,Ml=!1,Yi=!1,hi=!1,Rl=0,Do=0,Xi=null,Op=0;function Tt(){throw Error(c(321))}function zr(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vn(e[n],t[n]))return!1;return!0}function kr(e,t,n,i,o,s){return la=s,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=e===null||e.memoizedState===null?em:Gr,hi=!1,s=n(i,o),hi=!1,Yi&&(s=bd(t,n,i,o)),yd(e),s}function yd(e){F.H=Ro;var t=ut!==null&&ut.next!==null;if(la=0,Rt=ut=Ve=null,Ml=!1,Do=0,Xi=null,t)throw Error(c(300));e===null||Bt||(e=e.dependencies,e!==null&&_l(e)&&(Bt=!0))}function bd(e,t,n,i){Ve=e;var o=0;do{if(Yi&&(Xi=null),Do=0,Yi=!1,25<=o)throw Error(c(301));if(o+=1,Rt=ut=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}F.H=tm,s=t(n,i)}while(Yi);return s}function Ip(){var e=F.H,t=e.useState()[0];return t=typeof t.then=="function"?Eo(t):t,e=e.useState()[0],(ut!==null?ut.memoizedState:null)!==e&&(Ve.flags|=1024),t}function Ar(){var e=Rl!==0;return Rl=0,e}function Dr(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Er(e){if(Ml){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ml=!1}la=0,Rt=ut=Ve=null,Yi=!1,Do=Rl=0,Xi=null}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ve.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function Dt(){if(ut===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=Rt===null?Ve.memoizedState:Rt.next;if(t!==null)Rt=t,ut=e;else{if(e===null)throw Ve.alternate===null?Error(c(467)):Error(c(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Rt===null?Ve.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function Bl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eo(e){var t=Do;return Do+=1,Xi===null&&(Xi=[]),e=cd(Xi,e,t),t=Ve,(Rt===null?t.memoizedState:Rt.next)===null&&(t=t.alternate,F.H=t===null||t.memoizedState===null?em:Gr),e}function Ll(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Eo(e);if(e.$$typeof===oe)return Kt(e)}throw Error(c(438,String(e)))}function Mr(e){var t=null,n=Ve.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=Ve.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Bl(),Ve.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Oe;return t.index++,n}function sa(e,t){return typeof t=="function"?t(e):t}function Fl(e){var t=Dt();return Rr(t,ut,e)}function Rr(e,t,n){var i=e.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=n;var o=e.baseQueue,s=i.pending;if(s!==null){if(o!==null){var u=o.next;o.next=s.next,s.next=u}t.baseQueue=o=s,i.pending=null}if(s=e.baseState,o===null)e.memoizedState=s;else{t=o.next;var g=u=null,C=null,L=t,K=!1;do{var P=L.lane&-536870913;if(P!==L.lane?(Je&P)===P:(la&P)===P){var I=L.revertLane;if(I===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),P===Hi&&(K=!0);else if((la&I)===I){L=L.next,I===Hi&&(K=!0);continue}else P={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(g=C=P,u=s):C=C.next=P,Ve.lanes|=I,La|=I;P=L.action,hi&&n(s,P),s=L.hasEagerState?L.eagerState:n(s,P)}else I={lane:P,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(g=C=I,u=s):C=C.next=I,Ve.lanes|=P,La|=P;L=L.next}while(L!==null&&L!==t);if(C===null?u=s:C.next=g,!vn(s,e.memoizedState)&&(Bt=!0,K&&(n=Vi,n!==null)))throw n;e.memoizedState=s,e.baseState=u,e.baseQueue=C,i.lastRenderedState=s}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Br(e){var t=Dt(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do s=e(s,u.action),u=u.next;while(u!==o);vn(s,t.memoizedState)||(Bt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function xd(e,t,n){var i=Ve,o=Dt(),s=tt;if(s){if(n===void 0)throw Error(c(407));n=n()}else n=t();var u=!vn((ut||o).memoizedState,n);if(u&&(o.memoizedState=n,Bt=!0),o=o.queue,Or(wd.bind(null,i,o,e),[e]),o.getSnapshot!==t||u||Rt!==null&&Rt.memoizedState.tag&1){if(i.flags|=2048,$i(9,{destroy:void 0},jd.bind(null,i,o,n,t),null),gt===null)throw Error(c(349));s||(la&127)!==0||Sd(i,t,n)}return n}function Sd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ve.updateQueue,t===null?(t=Bl(),Ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jd(e,t,n,i){t.value=n,t.getSnapshot=i,_d(t)&&Cd(e)}function wd(e,t,n){return n(function(){_d(t)&&Cd(e)})}function _d(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vn(e,n)}catch{return!0}}function Cd(e){var t=si(e,2);t!==null&&dn(t,e,2)}function Lr(e){var t=Zt();if(typeof e=="function"){var n=e;if(e=n(),hi){Vt(!0);try{n()}finally{Vt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:e},t}function Td(e,t,n,i){return e.baseState=n,Rr(e,ut,typeof i=="function"?i:sa)}function Up(e,t,n,i,o){if(Ul(e))throw Error(c(485));if(e=t.action,e!==null){var s={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){s.listeners.push(u)}};F.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,Nd(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Nd(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var s=F.T,u={};F.T=u;try{var g=n(o,i),C=F.S;C!==null&&C(u,g),zd(e,t,g)}catch(L){Fr(e,t,L)}finally{s!==null&&u.types!==null&&(s.types=u.types),F.T=s}}else try{s=n(o,i),zd(e,t,s)}catch(L){Fr(e,t,L)}}function zd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){kd(e,t,i)},function(i){return Fr(e,t,i)}):kd(e,t,n)}function kd(e,t,n){t.status="fulfilled",t.value=n,Ad(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Nd(e,n)))}function Fr(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Ad(t),t=t.next;while(t!==i)}e.action=null}function Ad(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Dd(e,t){return t}function Ed(e,t){if(tt){var n=gt.formState;if(n!==null){e:{var i=Ve;if(tt){if(bt){t:{for(var o=bt,s=An;o.nodeType!==8;){if(!s){o=null;break t}if(o=En(o.nextSibling),o===null){o=null;break t}}s=o.data,o=s==="F!"||s==="F"?o:null}if(o){bt=En(o.nextSibling),i=o.data==="F!";break e}}Na(i)}i=!1}i&&(t=n[0])}}return n=Zt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dd,lastRenderedState:t},n.queue=i,n=Zd.bind(null,Ve,i),i.dispatch=n,i=Lr(!1),s=qr.bind(null,Ve,!1,i.queue),i=Zt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,n=Up.bind(null,Ve,o,s,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function Md(e){var t=Dt();return Rd(t,ut,e)}function Rd(e,t,n){if(t=Rr(e,t,Dd)[0],e=Fl(sa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Eo(t)}catch(u){throw u===qi?Nl:u}else i=t;t=Dt();var o=t.queue,s=o.dispatch;return n!==t.memoizedState&&(Ve.flags|=2048,$i(9,{destroy:void 0},Hp.bind(null,o,n),null)),[i,s,e]}function Hp(e,t){e.action=t}function Bd(e){var t=Dt(),n=ut;if(n!==null)return Rd(t,n,e);Dt(),t=t.memoizedState,n=Dt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function $i(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=Ve.updateQueue,t===null&&(t=Bl(),Ve.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ld(){return Dt().memoizedState}function Ol(e,t,n,i){var o=Zt();Ve.flags|=e,o.memoizedState=$i(1|t,{destroy:void 0},n,i===void 0?null:i)}function Il(e,t,n,i){var o=Dt();i=i===void 0?null:i;var s=o.memoizedState.inst;ut!==null&&i!==null&&zr(i,ut.memoizedState.deps)?o.memoizedState=$i(t,s,n,i):(Ve.flags|=e,o.memoizedState=$i(1|t,s,n,i))}function Fd(e,t){Ol(8390656,8,e,t)}function Or(e,t){Il(2048,8,e,t)}function Vp(e){Ve.flags|=4;var t=Ve.updateQueue;if(t===null)t=Bl(),Ve.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Od(e){var t=Dt().memoizedState;return Vp({ref:t,nextImpl:e}),function(){if((lt&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function Id(e,t){return Il(4,2,e,t)}function Ud(e,t){return Il(4,4,e,t)}function Hd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vd(e,t,n){n=n!=null?n.concat([e]):null,Il(4,4,Hd.bind(null,t,e),n)}function Ir(){}function qd(e,t){var n=Dt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&zr(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Gd(e,t){var n=Dt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&zr(t,i[1]))return i[0];if(i=e(),hi){Vt(!0);try{e()}finally{Vt(!1)}}return n.memoizedState=[i,t],i}function Ur(e,t,n){return n===void 0||(la&1073741824)!==0&&(Je&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Km(),Ve.lanes|=e,La|=e,n)}function Kd(e,t,n,i){return vn(n,t)?n:Ki.current!==null?(e=Ur(e,n,i),vn(e,t)||(Bt=!0),e):(la&42)===0||(la&1073741824)!==0&&(Je&261930)===0?(Bt=!0,e.memoizedState=n):(e=Km(),Ve.lanes|=e,La|=e,t)}function Yd(e,t,n,i,o){var s=ue.p;ue.p=s!==0&&8>s?s:8;var u=F.T,g={};F.T=g,qr(e,!1,t,n);try{var C=o(),L=F.S;if(L!==null&&L(g,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=Fp(C,i);Mo(e,t,K,wn(e))}else Mo(e,t,i,wn(e))}catch(P){Mo(e,t,{then:function(){},status:"rejected",reason:P},wn())}finally{ue.p=s,u!==null&&g.types!==null&&(u.types=g.types),F.T=u}}function qp(){}function Hr(e,t,n,i){if(e.tag!==5)throw Error(c(476));var o=Xd(e).queue;Yd(e,o,t,re,n===null?qp:function(){return $d(e),n(i)})}function Xd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:re},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function $d(e){var t=Xd(e);t.next===null&&(t=e.alternate.memoizedState),Mo(e,t.next.queue,{},wn())}function Vr(){return Kt(Po)}function Qd(){return Dt().memoizedState}function Pd(){return Dt().memoizedState}function Gp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=wn();e=Aa(n);var i=Da(t,e,n);i!==null&&(dn(i,t,n),zo(i,t,n)),t={cache:vr()},e.payload=t;return}t=t.return}}function Kp(e,t,n){var i=wn();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ul(e)?Jd(t,n):(n=lr(e,t,n,i),n!==null&&(dn(n,e,i),Wd(n,t,i)))}function Zd(e,t,n){var i=wn();Mo(e,t,n,i)}function Mo(e,t,n,i){var o={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ul(e))Jd(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var u=t.lastRenderedState,g=s(u,n);if(o.hasEagerState=!0,o.eagerState=g,vn(g,u))return xl(e,t,o,0),gt===null&&bl(),!1}catch{}if(n=lr(e,t,o,i),n!==null)return dn(n,e,i),Wd(n,t,i),!0}return!1}function qr(e,t,n,i){if(i={lane:2,revertLane:Sc(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Ul(e)){if(t)throw Error(c(479))}else t=lr(e,n,i,2),t!==null&&dn(t,e,2)}function Ul(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function Jd(e,t){Yi=Ml=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wd(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ke(e,n)}}var Ro={readContext:Kt,use:Ll,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Ro.useEffectEvent=Tt;var em={readContext:Kt,use:Ll,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:Fd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ol(4194308,4,Hd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ol(4194308,4,e,t)},useInsertionEffect:function(e,t){Ol(4,2,e,t)},useMemo:function(e,t){var n=Zt();t=t===void 0?null:t;var i=e();if(hi){Vt(!0);try{e()}finally{Vt(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Zt();if(n!==void 0){var o=n(t);if(hi){Vt(!0);try{n(t)}finally{Vt(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=Kp.bind(null,Ve,e),[i.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:function(e){e=Lr(e);var t=e.queue,n=Zd.bind(null,Ve,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ir,useDeferredValue:function(e,t){var n=Zt();return Ur(n,e,t)},useTransition:function(){var e=Lr(!1);return e=Yd.bind(null,Ve,e.queue,!0,!1),Zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Ve,o=Zt();if(tt){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),gt===null)throw Error(c(349));(Je&127)!==0||Sd(i,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Fd(wd.bind(null,i,s,e),[e]),i.flags|=2048,$i(9,{destroy:void 0},jd.bind(null,i,s,n,t),null),n},useId:function(){var e=Zt(),t=gt.identifierPrefix;if(tt){var n=Xn,i=Yn;n=(i&~(1<<32-pt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Rl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Op++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Vr,useFormState:Ed,useActionState:Ed,useOptimistic:function(e){var t=Zt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=qr.bind(null,Ve,!0,n),n.dispatch=t,[e,t]},useMemoCache:Mr,useCacheRefresh:function(){return Zt().memoizedState=Gp.bind(null,Ve)},useEffectEvent:function(e){var t=Zt(),n={impl:e};return t.memoizedState=n,function(){if((lt&2)!==0)throw Error(c(440));return n.impl.apply(void 0,arguments)}}},Gr={readContext:Kt,use:Ll,useCallback:qd,useContext:Kt,useEffect:Or,useImperativeHandle:Vd,useInsertionEffect:Id,useLayoutEffect:Ud,useMemo:Gd,useReducer:Fl,useRef:Ld,useState:function(){return Fl(sa)},useDebugValue:Ir,useDeferredValue:function(e,t){var n=Dt();return Kd(n,ut.memoizedState,e,t)},useTransition:function(){var e=Fl(sa)[0],t=Dt().memoizedState;return[typeof e=="boolean"?e:Eo(e),t]},useSyncExternalStore:xd,useId:Qd,useHostTransitionStatus:Vr,useFormState:Md,useActionState:Md,useOptimistic:function(e,t){var n=Dt();return Td(n,ut,e,t)},useMemoCache:Mr,useCacheRefresh:Pd};Gr.useEffectEvent=Od;var tm={readContext:Kt,use:Ll,useCallback:qd,useContext:Kt,useEffect:Or,useImperativeHandle:Vd,useInsertionEffect:Id,useLayoutEffect:Ud,useMemo:Gd,useReducer:Br,useRef:Ld,useState:function(){return Br(sa)},useDebugValue:Ir,useDeferredValue:function(e,t){var n=Dt();return ut===null?Ur(n,e,t):Kd(n,ut.memoizedState,e,t)},useTransition:function(){var e=Br(sa)[0],t=Dt().memoizedState;return[typeof e=="boolean"?e:Eo(e),t]},useSyncExternalStore:xd,useId:Qd,useHostTransitionStatus:Vr,useFormState:Bd,useActionState:Bd,useOptimistic:function(e,t){var n=Dt();return ut!==null?Td(n,ut,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Mr,useCacheRefresh:Pd};tm.useEffectEvent=Od;function Kr(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:p({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yr={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=wn(),o=Aa(i);o.payload=t,n!=null&&(o.callback=n),t=Da(e,o,i),t!==null&&(dn(t,e,i),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=wn(),o=Aa(i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Da(e,o,i),t!==null&&(dn(t,e,i),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wn(),i=Aa(n);i.tag=2,t!=null&&(i.callback=t),t=Da(e,i,n),t!==null&&(dn(t,e,n),zo(t,e,n))}};function nm(e,t,n,i,o,s,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,u):t.prototype&&t.prototype.isPureReactComponent?!xo(n,i)||!xo(o,s):!0}function am(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Yr.enqueueReplaceState(t,t.state,null)}function vi(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=p({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function im(e){yl(e)}function om(e){console.error(e)}function lm(e){yl(e)}function Hl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function sm(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Xr(e,t,n){return n=Aa(n),n.tag=3,n.payload={element:null},n.callback=function(){Hl(e,t)},n}function rm(e){return e=Aa(e),e.tag=3,e}function cm(e,t,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var s=i.value;e.payload=function(){return o(s)},e.callback=function(){sm(t,n,i)}}var u=n.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(e.callback=function(){sm(t,n,i),typeof o!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var g=i.stack;this.componentDidCatch(i.value,{componentStack:g!==null?g:""})})}function Yp(e,t,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Ui(t,n,o,!0),n=bn.current,n!==null){switch(n.tag){case 31:case 13:return Dn===null?Wl():n.alternate===null&&Nt===0&&(Nt=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===zl?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),yc(e,i,o)),!1;case 22:return n.flags|=65536,i===zl?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),yc(e,i,o)),!1}throw Error(c(435,n.tag))}return yc(e,i,o),Wl(),!1}if(tt)return t=bn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==mr&&(e=Error(c(422),{cause:i}),wo(Nn(e,n)))):(i!==mr&&(t=Error(c(423),{cause:i}),wo(Nn(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Nn(i,n),o=Xr(e.stateNode,i,o),wr(e,o),Nt!==4&&(Nt=2)),!1;var s=Error(c(520),{cause:i});if(s=Nn(s,n),Vo===null?Vo=[s]:Vo.push(s),Nt!==4&&(Nt=2),t===null)return!0;i=Nn(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=Xr(n.stateNode,i,e),wr(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Fa===null||!Fa.has(s))))return n.flags|=65536,o&=-o,n.lanes|=o,o=rm(o),cm(o,e,n,i),wr(n,o),!1}n=n.return}while(n!==null);return!1}var $r=Error(c(461)),Bt=!1;function Yt(e,t,n,i){t.child=e===null?fd(t,null,n,i):pi(t,e.child,n,i)}function um(e,t,n,i,o){n=n.render;var s=t.ref;if("ref"in i){var u={};for(var g in i)g!=="ref"&&(u[g]=i[g])}else u=i;return di(t),i=kr(e,t,n,u,s,o),g=Ar(),e!==null&&!Bt?(Dr(e,t,o),ra(e,t,o)):(tt&&g&&ur(t),t.flags|=1,Yt(e,t,i,o),t.child)}function dm(e,t,n,i,o){if(e===null){var s=n.type;return typeof s=="function"&&!sr(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,mm(e,t,s,i,o)):(e=jl(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!nc(e,o)){var u=s.memoizedProps;if(n=n.compare,n=n!==null?n:xo,n(u,i)&&e.ref===t.ref)return ra(e,t,o)}return t.flags|=1,e=na(s,i),e.ref=t.ref,e.return=t,t.child=e}function mm(e,t,n,i,o){if(e!==null){var s=e.memoizedProps;if(xo(s,i)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=i=s,nc(e,o))(e.flags&131072)!==0&&(Bt=!0);else return t.lanes=e.lanes,ra(e,t,o)}return Qr(e,t,n,i,o)}function fm(e,t,n,i){var o=i.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~s}else i=0,t.child=null;return gm(e,t,s,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tl(t,s!==null?s.cachePool:null),s!==null?hd(t,s):Cr(),vd(t);else return i=t.lanes=536870912,gm(e,t,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(Tl(t,s.cachePool),hd(t,s),Ma(),t.memoizedState=null):(e!==null&&Tl(t,null),Cr(),Ma());return Yt(e,t,o,n),t.child}function Bo(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function gm(e,t,n,i,o){var s=br();return s=s===null?null:{parent:Mt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Tl(t,null),Cr(),vd(t),e!==null&&Ui(e,t,i,!0),t.childLanes=o,null}function Vl(e,t){return t=Gl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function pm(e,t,n){return pi(t,e.child,null,n),e=Vl(t,t.pendingProps),e.flags|=2,xn(t),t.memoizedState=null,e}function Xp(e,t,n){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(tt){if(i.mode==="hidden")return e=Vl(t,i),t.lanes=536870912,Bo(null,e);if(Nr(t),(e=bt)?(e=zf(e,An),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ca!==null?{id:Yn,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},n=Ju(e),n.return=t,t.child=n,Gt=t,bt=null)):e=null,e===null)throw Na(t);return t.lanes=536870912,null}return Vl(t,i)}var s=e.memoizedState;if(s!==null){var u=s.dehydrated;if(Nr(t),o)if(t.flags&256)t.flags&=-257,t=pm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(Bt||Ui(e,t,n,!1),o=(n&e.childLanes)!==0,Bt||o){if(i=gt,i!==null&&(u=Re(i,n),u!==0&&u!==s.retryLane))throw s.retryLane=u,si(e,u),dn(i,e,u),$r;Wl(),t=pm(e,t,n)}else e=s.treeContext,bt=En(u.nextSibling),Gt=t,tt=!0,Ta=null,An=!1,e!==null&&td(t,e),t=Vl(t,i),t.flags|=4096;return t}return e=na(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ql(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(c(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Qr(e,t,n,i,o){return di(t),n=kr(e,t,n,i,void 0,o),i=Ar(),e!==null&&!Bt?(Dr(e,t,o),ra(e,t,o)):(tt&&i&&ur(t),t.flags|=1,Yt(e,t,n,o),t.child)}function hm(e,t,n,i,o,s){return di(t),t.updateQueue=null,n=bd(t,i,n,o),yd(e),i=Ar(),e!==null&&!Bt?(Dr(e,t,s),ra(e,t,s)):(tt&&i&&ur(t),t.flags|=1,Yt(e,t,n,s),t.child)}function vm(e,t,n,i,o){if(di(t),t.stateNode===null){var s=Li,u=n.contextType;typeof u=="object"&&u!==null&&(s=Kt(u)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Yr,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Sr(t),u=n.contextType,s.context=typeof u=="object"&&u!==null?Kt(u):Li,s.state=t.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(Kr(t,n,u,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(u=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),u!==s.state&&Yr.enqueueReplaceState(s,s.state,null),Ao(t,i,s,o),ko(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var g=t.memoizedProps,C=vi(n,g);s.props=C;var L=s.context,K=n.contextType;u=Li,typeof K=="object"&&K!==null&&(u=Kt(K));var P=n.getDerivedStateFromProps;K=typeof P=="function"||typeof s.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,K||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(g||L!==u)&&am(t,s,i,u),ka=!1;var I=t.memoizedState;s.state=I,Ao(t,i,s,o),ko(),L=t.memoizedState,g||I!==L||ka?(typeof P=="function"&&(Kr(t,n,P,i),L=t.memoizedState),(C=ka||nm(t,n,C,i,I,L,u))?(K||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=L),s.props=i,s.state=L,s.context=u,i=C):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,jr(e,t),u=t.memoizedProps,K=vi(n,u),s.props=K,P=t.pendingProps,I=s.context,L=n.contextType,C=Li,typeof L=="object"&&L!==null&&(C=Kt(L)),g=n.getDerivedStateFromProps,(L=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==P||I!==C)&&am(t,s,i,C),ka=!1,I=t.memoizedState,s.state=I,Ao(t,i,s,o),ko();var H=t.memoizedState;u!==P||I!==H||ka||e!==null&&e.dependencies!==null&&_l(e.dependencies)?(typeof g=="function"&&(Kr(t,n,g,i),H=t.memoizedState),(K=ka||nm(t,n,K,i,I,H,C)||e!==null&&e.dependencies!==null&&_l(e.dependencies))?(L||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,H,C),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,H,C)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=H),s.props=i,s.state=H,s.context=C,i=K):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,ql(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=pi(t,e.child,null,o),t.child=pi(t,null,n,o)):Yt(e,t,n,o),t.memoizedState=s.state,e=t.child):e=ra(e,t,o),e}function ym(e,t,n,i){return ci(),t.flags|=256,Yt(e,t,n,i),t.child}var Pr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zr(e){return{baseLanes:e,cachePool:sd()}}function Jr(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=jn),e}function bm(e,t,n){var i=t.pendingProps,o=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(At.current&2)!==0),u&&(o=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,e===null){if(tt){if(o?Ea(t):Ma(),(e=bt)?(e=zf(e,An),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ca!==null?{id:Yn,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},n=Ju(e),n.return=t,t.child=n,Gt=t,bt=null)):e=null,e===null)throw Na(t);return Rc(e)?t.lanes=32:t.lanes=536870912,null}var g=i.children;return i=i.fallback,o?(Ma(),o=t.mode,g=Gl({mode:"hidden",children:g},o),i=ri(i,o,n,null),g.return=t,i.return=t,g.sibling=i,t.child=g,i=t.child,i.memoizedState=Zr(n),i.childLanes=Jr(e,u,n),t.memoizedState=Pr,Bo(null,i)):(Ea(t),Wr(t,g))}var C=e.memoizedState;if(C!==null&&(g=C.dehydrated,g!==null)){if(s)t.flags&256?(Ea(t),t.flags&=-257,t=ec(e,t,n)):t.memoizedState!==null?(Ma(),t.child=e.child,t.flags|=128,t=null):(Ma(),g=i.fallback,o=t.mode,i=Gl({mode:"visible",children:i.children},o),g=ri(g,o,n,null),g.flags|=2,i.return=t,g.return=t,i.sibling=g,t.child=i,pi(t,e.child,null,n),i=t.child,i.memoizedState=Zr(n),i.childLanes=Jr(e,u,n),t.memoizedState=Pr,t=Bo(null,i));else if(Ea(t),Rc(g)){if(u=g.nextSibling&&g.nextSibling.dataset,u)var L=u.dgst;u=L,i=Error(c(419)),i.stack="",i.digest=u,wo({value:i,source:null,stack:null}),t=ec(e,t,n)}else if(Bt||Ui(e,t,n,!1),u=(n&e.childLanes)!==0,Bt||u){if(u=gt,u!==null&&(i=Re(u,n),i!==0&&i!==C.retryLane))throw C.retryLane=i,si(e,i),dn(u,e,i),$r;Mc(g)||Wl(),t=ec(e,t,n)}else Mc(g)?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,bt=En(g.nextSibling),Gt=t,tt=!0,Ta=null,An=!1,e!==null&&td(t,e),t=Wr(t,i.children),t.flags|=4096);return t}return o?(Ma(),g=i.fallback,o=t.mode,C=e.child,L=C.sibling,i=na(C,{mode:"hidden",children:i.children}),i.subtreeFlags=C.subtreeFlags&65011712,L!==null?g=na(L,g):(g=ri(g,o,n,null),g.flags|=2),g.return=t,i.return=t,i.sibling=g,t.child=i,Bo(null,i),i=t.child,g=e.child.memoizedState,g===null?g=Zr(n):(o=g.cachePool,o!==null?(C=Mt._currentValue,o=o.parent!==C?{parent:C,pool:C}:o):o=sd(),g={baseLanes:g.baseLanes|n,cachePool:o}),i.memoizedState=g,i.childLanes=Jr(e,u,n),t.memoizedState=Pr,Bo(e.child,i)):(Ea(t),n=e.child,e=n.sibling,n=na(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(u=t.deletions,u===null?(t.deletions=[e],t.flags|=16):u.push(e)),t.child=n,t.memoizedState=null,n)}function Wr(e,t){return t=Gl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Gl(e,t){return e=yn(22,e,null,t),e.lanes=0,e}function ec(e,t,n){return pi(t,e.child,null,n),e=Wr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xm(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),pr(e.return,t,n)}function tc(e,t,n,i,o,s){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,treeForkCount:s}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=i,u.tail=n,u.tailMode=o,u.treeForkCount=s)}function Sm(e,t,n){var i=t.pendingProps,o=i.revealOrder,s=i.tail;i=i.children;var u=At.current,g=(u&2)!==0;if(g?(u=u&1|2,t.flags|=128):u&=1,Z(At,u),Yt(e,t,i,n),i=tt?jo:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xm(e,n,t);else if(e.tag===19)xm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&El(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),tc(t,!1,o,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&El(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}tc(t,!0,n,null,s,i);break;case"together":tc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function ra(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),La|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ui(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=na(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=na(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function nc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&_l(e)))}function $p(e,t,n){switch(t.tag){case 3:_(t,t.stateNode.containerInfo),za(t,Mt,e.memoizedState.cache),ci();break;case 27:case 5:E(t);break;case 4:_(t,t.stateNode.containerInfo);break;case 10:za(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Nr(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Ea(t),t.flags|=128,null):(n&t.child.childLanes)!==0?bm(e,t,n):(Ea(t),e=ra(e,t,n),e!==null?e.sibling:null);Ea(t);break;case 19:var o=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Ui(e,t,n,!1),i=(n&t.childLanes)!==0),o){if(i)return Sm(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Z(At,At.current),i)break;return null;case 22:return t.lanes=0,fm(e,t,n,t.pendingProps);case 24:za(t,Mt,e.memoizedState.cache)}return ra(e,t,n)}function jm(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Bt=!0;else{if(!nc(e,n)&&(t.flags&128)===0)return Bt=!1,$p(e,t,n);Bt=(e.flags&131072)!==0}else Bt=!1,tt&&(t.flags&1048576)!==0&&ed(t,jo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=fi(t.elementType),t.type=e,typeof e=="function")sr(e)?(i=vi(e,i),t.tag=1,t=vm(null,t,e,i,n)):(t.tag=0,t=Qr(null,t,e,i,n));else{if(e!=null){var o=e.$$typeof;if(o===ve){t.tag=11,t=um(null,t,e,i,n);break e}else if(o===je){t.tag=14,t=dm(null,t,e,i,n);break e}}throw t=W(e)||e,Error(c(306,t,""))}}return t;case 0:return Qr(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,o=vi(i,t.pendingProps),vm(e,t,i,o,n);case 3:e:{if(_(t,t.stateNode.containerInfo),e===null)throw Error(c(387));i=t.pendingProps;var s=t.memoizedState;o=s.element,jr(e,t),Ao(t,i,null,n);var u=t.memoizedState;if(i=u.cache,za(t,Mt,i),i!==s.cache&&hr(t,[Mt],n,!0),ko(),i=u.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=ym(e,t,i,n);break e}else if(i!==o){o=Nn(Error(c(424)),t),wo(o),t=ym(e,t,i,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,bt=En(e.firstChild),Gt=t,tt=!0,Ta=null,An=!0,n=fd(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ci(),i===o){t=ra(e,t,n);break e}Yt(e,t,i,n)}t=t.child}return t;case 26:return ql(e,t),e===null?(n=Rf(t.type,null,t.pendingProps,null))?t.memoizedState=n:tt||(n=t.type,e=t.pendingProps,i=ls(A.current).createElement(n),i[Ie]=t,i[Ue]=e,Xt(i,n,e),b(i),t.stateNode=i):t.memoizedState=Rf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return E(t),e===null&&tt&&(i=t.stateNode=Df(t.type,t.pendingProps,A.current),Gt=t,An=!0,o=bt,Ha(t.type)?(Bc=o,bt=En(i.firstChild)):bt=o),Yt(e,t,t.pendingProps.children,n),ql(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&tt&&((o=i=bt)&&(i=_h(i,t.type,t.pendingProps,An),i!==null?(t.stateNode=i,Gt=t,bt=En(i.firstChild),An=!1,o=!0):o=!1),o||Na(t)),E(t),o=t.type,s=t.pendingProps,u=e!==null?e.memoizedProps:null,i=s.children,Ac(o,s)?i=null:u!==null&&Ac(o,u)&&(t.flags|=32),t.memoizedState!==null&&(o=kr(e,t,Ip,null,null,n),Po._currentValue=o),ql(e,t),Yt(e,t,i,n),t.child;case 6:return e===null&&tt&&((e=n=bt)&&(n=Ch(n,t.pendingProps,An),n!==null?(t.stateNode=n,Gt=t,bt=null,e=!0):e=!1),e||Na(t)),null;case 13:return bm(e,t,n);case 4:return _(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=pi(t,null,i,n):Yt(e,t,i,n),t.child;case 11:return um(e,t,t.type,t.pendingProps,n);case 7:return Yt(e,t,t.pendingProps,n),t.child;case 8:return Yt(e,t,t.pendingProps.children,n),t.child;case 12:return Yt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,za(t,t.type,i.value),Yt(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,di(t),o=Kt(o),i=i(o),t.flags|=1,Yt(e,t,i,n),t.child;case 14:return dm(e,t,t.type,t.pendingProps,n);case 15:return mm(e,t,t.type,t.pendingProps,n);case 19:return Sm(e,t,n);case 31:return Xp(e,t,n);case 22:return fm(e,t,n,t.pendingProps);case 24:return di(t),i=Kt(Mt),e===null?(o=br(),o===null&&(o=gt,s=vr(),o.pooledCache=s,s.refCount++,s!==null&&(o.pooledCacheLanes|=n),o=s),t.memoizedState={parent:i,cache:o},Sr(t),za(t,Mt,o)):((e.lanes&n)!==0&&(jr(e,t),Ao(t,null,null,n),ko()),o=e.memoizedState,s=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),za(t,Mt,i)):(i=s.cache,za(t,Mt,i),i!==o.cache&&hr(t,[Mt],n,!0))),Yt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function ca(e){e.flags|=4}function ac(e,t,n,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Qm())e.flags|=8192;else throw gi=zl,xr}else e.flags&=-16777217}function wm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!If(t))if(Qm())e.flags|=8192;else throw gi=zl,xr}function Kl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?gn():536870912,e.lanes|=t,Ji|=t)}function Lo(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Qp(e,t,n){var i=t.pendingProps;switch(dr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(t),null;case 1:return xt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),oa(Mt),U(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ii(t)?ca(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,fr())),xt(t),null;case 26:var o=t.type,s=t.memoizedState;return e===null?(ca(t),s!==null?(xt(t),wm(t,s)):(xt(t),ac(t,o,null,i,n))):s?s!==e.memoizedState?(ca(t),xt(t),wm(t,s)):(xt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&ca(t),xt(t),ac(t,o,e,i,n)),null;case 27:if(V(t),n=A.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ca(t);else{if(!i){if(t.stateNode===null)throw Error(c(166));return xt(t),null}e=J.current,Ii(t)?nd(t):(e=Df(o,i,n),t.stateNode=e,ca(t))}return xt(t),null;case 5:if(V(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ca(t);else{if(!i){if(t.stateNode===null)throw Error(c(166));return xt(t),null}if(s=J.current,Ii(t))nd(t);else{var u=ls(A.current);switch(s){case 1:s=u.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:s=u.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":s=u.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":s=u.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":s=u.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?u.createElement("select",{is:i.is}):u.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?u.createElement(o,{is:i.is}):u.createElement(o)}}s[Ie]=t,s[Ue]=i;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=s;e:switch(Xt(s,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ca(t)}}return xt(t),ac(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ca(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(c(166));if(e=A.current,Ii(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,o=Gt,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[Ie]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||xf(e.nodeValue,n)),e||Na(t,!0)}else e=ls(e).createTextNode(i),e[Ie]=t,t.stateNode=e}return xt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Ii(t),n!==null){if(e===null){if(!i)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[Ie]=t}else ci(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;xt(t),e=!1}else n=fr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(xn(t),t):(xn(t),null);if((t.flags&128)!==0)throw Error(c(558))}return xt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Ii(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(c(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(c(317));o[Ie]=t}else ci(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;xt(t),o=!1}else o=fr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(xn(t),t):(xn(t),null)}return xn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==o&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Kl(t,t.updateQueue),xt(t),null);case 4:return U(),e===null&&Cc(t.stateNode.containerInfo),xt(t),null;case 10:return oa(t.type),xt(t),null;case 19:if(R(At),i=t.memoizedState,i===null)return xt(t),null;if(o=(t.flags&128)!==0,s=i.rendering,s===null)if(o)Lo(i,!1);else{if(Nt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=El(e),s!==null){for(t.flags|=128,Lo(i,!1),e=s.updateQueue,t.updateQueue=e,Kl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Zu(n,e),n=n.sibling;return Z(At,At.current&1|2),tt&&aa(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&zt()>Pl&&(t.flags|=128,o=!0,Lo(i,!1),t.lanes=4194304)}else{if(!o)if(e=El(s),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Kl(t,e),Lo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!tt)return xt(t),null}else 2*zt()-i.renderingStartTime>Pl&&n!==536870912&&(t.flags|=128,o=!0,Lo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=zt(),e.sibling=null,n=At.current,Z(At,o?n&1|2:n&1),tt&&aa(t,i.treeForkCount),e):(xt(t),null);case 22:case 23:return xn(t),Tr(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(xt(t),t.subtreeFlags&6&&(t.flags|=8192)):xt(t),n=t.updateQueue,n!==null&&Kl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&R(mi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),oa(Mt),xt(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function Pp(e,t){switch(dr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oa(Mt),U(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return V(t),null;case 31:if(t.memoizedState!==null){if(xn(t),t.alternate===null)throw Error(c(340));ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(xn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(At),null;case 4:return U(),null;case 10:return oa(t.type),null;case 22:case 23:return xn(t),Tr(),e!==null&&R(mi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return oa(Mt),null;case 25:return null;default:return null}}function _m(e,t){switch(dr(t),t.tag){case 3:oa(Mt),U();break;case 26:case 27:case 5:V(t);break;case 4:U();break;case 31:t.memoizedState!==null&&xn(t);break;case 13:xn(t);break;case 19:R(At);break;case 10:oa(t.type);break;case 22:case 23:xn(t),Tr(),e!==null&&R(mi);break;case 24:oa(Mt)}}function Fo(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var s=n.create,u=n.inst;i=s(),u.destroy=i}n=n.next}while(n!==o)}}catch(g){rt(t,t.return,g)}}function Ra(e,t,n){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var s=o.next;i=s;do{if((i.tag&e)===e){var u=i.inst,g=u.destroy;if(g!==void 0){u.destroy=void 0,o=t;var C=n,L=g;try{L()}catch(K){rt(o,C,K)}}}i=i.next}while(i!==s)}}catch(K){rt(t,t.return,K)}}function Cm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{pd(t,n)}catch(i){rt(e,e.return,i)}}}function Tm(e,t,n){n.props=vi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){rt(e,t,i)}}function Oo(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(o){rt(e,t,o)}}function $n(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){rt(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){rt(e,t,o)}else n.current=null}function Nm(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){rt(e,e.return,o)}}function ic(e,t,n){try{var i=e.stateNode;yh(i,e.type,n,t),i[Ue]=t}catch(o){rt(e,e.return,o)}}function zm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ha(e.type)||e.tag===4}function oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lc(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ea));else if(i!==4&&(i===27&&Ha(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(lc(e,t,n),e=e.sibling;e!==null;)lc(e,t,n),e=e.sibling}function Yl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Ha(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Yl(e,t,n),e=e.sibling;e!==null;)Yl(e,t,n),e=e.sibling}function km(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Xt(t,i,n),t[Ie]=e,t[Ue]=n}catch(s){rt(e,e.return,s)}}var ua=!1,Lt=!1,sc=!1,Am=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Zp(e,t){if(e=e.containerInfo,zc=fs,e=Vu(e),er(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var u=0,g=-1,C=-1,L=0,K=0,P=e,I=null;t:for(;;){for(var H;P!==n||o!==0&&P.nodeType!==3||(g=u+o),P!==s||i!==0&&P.nodeType!==3||(C=u+i),P.nodeType===3&&(u+=P.nodeValue.length),(H=P.firstChild)!==null;)I=P,P=H;for(;;){if(P===e)break t;if(I===n&&++L===o&&(g=u),I===s&&++K===i&&(C=u),(H=P.nextSibling)!==null)break;P=I,I=P.parentNode}P=H}n=g===-1||C===-1?null:{start:g,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(kc={focusedElem:e,selectionRange:n},fs=!1,Ut=t;Ut!==null;)if(t=Ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ut=e;else for(;Ut!==null;){switch(t=Ut,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,o=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var _e=vi(n.type,o);e=i.getSnapshotBeforeUpdate(_e,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(Le){rt(n,n.return,Le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ec(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ec(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,Ut=e;break}Ut=t.return}}function Dm(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ma(e,n),i&4&&Fo(5,n);break;case 1:if(ma(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(u){rt(n,n.return,u)}else{var o=vi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){rt(n,n.return,u)}}i&64&&Cm(n),i&512&&Oo(n,n.return);break;case 3:if(ma(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{pd(e,t)}catch(u){rt(n,n.return,u)}}break;case 27:t===null&&i&4&&km(n);case 26:case 5:ma(e,n),t===null&&i&4&&Nm(n),i&512&&Oo(n,n.return);break;case 12:ma(e,n);break;case 31:ma(e,n),i&4&&Rm(e,n);break;case 13:ma(e,n),i&4&&Bm(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=lh.bind(null,n),Th(e,n))));break;case 22:if(i=n.memoizedState!==null||ua,!i){t=t!==null&&t.memoizedState!==null||Lt,o=ua;var s=Lt;ua=i,(Lt=t)&&!s?fa(e,n,(n.subtreeFlags&8772)!==0):ma(e,n),ua=o,Lt=s}break;case 30:break;default:ma(e,n)}}function Em(e){var t=e.alternate;t!==null&&(e.alternate=null,Em(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ti(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var jt=null,sn=!1;function da(e,t,n){for(n=n.child;n!==null;)Mm(e,t,n),n=n.sibling}function Mm(e,t,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(tn,n)}catch{}switch(n.tag){case 26:Lt||$n(n,t),da(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Lt||$n(n,t);var i=jt,o=sn;Ha(n.type)&&(jt=n.stateNode,sn=!1),da(e,t,n),Xo(n.stateNode),jt=i,sn=o;break;case 5:Lt||$n(n,t);case 6:if(i=jt,o=sn,jt=null,da(e,t,n),jt=i,sn=o,jt!==null)if(sn)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(n.stateNode)}catch(s){rt(n,t,s)}else try{jt.removeChild(n.stateNode)}catch(s){rt(n,t,s)}break;case 18:jt!==null&&(sn?(e=jt,Tf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),lo(e)):Tf(jt,n.stateNode));break;case 4:i=jt,o=sn,jt=n.stateNode.containerInfo,sn=!0,da(e,t,n),jt=i,sn=o;break;case 0:case 11:case 14:case 15:Ra(2,n,t),Lt||Ra(4,n,t),da(e,t,n);break;case 1:Lt||($n(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Tm(n,t,i)),da(e,t,n);break;case 21:da(e,t,n);break;case 22:Lt=(i=Lt)||n.memoizedState!==null,da(e,t,n),Lt=i;break;default:da(e,t,n)}}function Rm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{lo(e)}catch(n){rt(t,t.return,n)}}}function Bm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{lo(e)}catch(n){rt(t,t.return,n)}}function Jp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Am),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Am),t;default:throw Error(c(435,e.tag))}}function Xl(e,t){var n=Jp(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var o=sh.bind(null,e,i);i.then(o,o)}})}function rn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],s=e,u=t,g=u;e:for(;g!==null;){switch(g.tag){case 27:if(Ha(g.type)){jt=g.stateNode,sn=!1;break e}break;case 5:jt=g.stateNode,sn=!1;break e;case 3:case 4:jt=g.stateNode.containerInfo,sn=!0;break e}g=g.return}if(jt===null)throw Error(c(160));Mm(s,u,o),jt=null,sn=!1,s=o.alternate,s!==null&&(s.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Lm(t,e),t=t.sibling}var In=null;function Lm(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(t,e),cn(e),i&4&&(Ra(3,e,e.return),Fo(3,e),Ra(5,e,e.return));break;case 1:rn(t,e),cn(e),i&512&&(Lt||n===null||$n(n,n.return)),i&64&&ua&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=In;if(rn(t,e),cn(e),i&512&&(Lt||n===null||$n(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":s=o.getElementsByTagName("title")[0],(!s||s[Kn]||s[Ie]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=o.createElement(i),o.head.insertBefore(s,o.querySelector("head > title"))),Xt(s,i,n),s[Ie]=e,b(s),i=s;break e;case"link":var u=Ff("link","href",o).get(i+(n.href||""));if(u){for(var g=0;g<u.length;g++)if(s=u[g],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){u.splice(g,1);break t}}s=o.createElement(i),Xt(s,i,n),o.head.appendChild(s);break;case"meta":if(u=Ff("meta","content",o).get(i+(n.content||""))){for(g=0;g<u.length;g++)if(s=u[g],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){u.splice(g,1);break t}}s=o.createElement(i),Xt(s,i,n),o.head.appendChild(s);break;default:throw Error(c(468,i))}s[Ie]=e,b(s),i=s}e.stateNode=i}else Of(o,e.type,e.stateNode);else e.stateNode=Lf(o,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Of(o,e.type,e.stateNode):Lf(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&ic(e,e.memoizedProps,n.memoizedProps)}break;case 27:rn(t,e),cn(e),i&512&&(Lt||n===null||$n(n,n.return)),n!==null&&i&4&&ic(e,e.memoizedProps,n.memoizedProps);break;case 5:if(rn(t,e),cn(e),i&512&&(Lt||n===null||$n(n,n.return)),e.flags&32){o=e.stateNode;try{ki(o,"")}catch(_e){rt(e,e.return,_e)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,ic(e,o,n!==null?n.memoizedProps:o)),i&1024&&(sc=!0);break;case 6:if(rn(t,e),cn(e),i&4){if(e.stateNode===null)throw Error(c(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(_e){rt(e,e.return,_e)}}break;case 3:if(cs=null,o=In,In=ss(t.containerInfo),rn(t,e),In=o,cn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{lo(t.containerInfo)}catch(_e){rt(e,e.return,_e)}sc&&(sc=!1,Fm(e));break;case 4:i=In,In=ss(e.stateNode.containerInfo),rn(t,e),cn(e),In=i;break;case 12:rn(t,e),cn(e);break;case 31:rn(t,e),cn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Xl(e,i)));break;case 13:rn(t,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ql=zt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Xl(e,i)));break;case 22:o=e.memoizedState!==null;var C=n!==null&&n.memoizedState!==null,L=ua,K=Lt;if(ua=L||o,Lt=K||C,rn(t,e),Lt=K,ua=L,cn(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||C||ua||Lt||yi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){C=n=t;try{if(s=C.stateNode,o)u=s.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{g=C.stateNode;var P=C.memoizedProps.style,I=P!=null&&P.hasOwnProperty("display")?P.display:null;g.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(_e){rt(C,C.return,_e)}}}else if(t.tag===6){if(n===null){C=t;try{C.stateNode.nodeValue=o?"":C.memoizedProps}catch(_e){rt(C,C.return,_e)}}}else if(t.tag===18){if(n===null){C=t;try{var H=C.stateNode;o?Nf(H,!0):Nf(C.stateNode,!1)}catch(_e){rt(C,C.return,_e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Xl(e,n))));break;case 19:rn(t,e),cn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Xl(e,i)));break;case 30:break;case 21:break;default:rn(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(zm(i)){n=i;break}i=i.return}if(n==null)throw Error(c(160));switch(n.tag){case 27:var o=n.stateNode,s=oc(e);Yl(e,s,o);break;case 5:var u=n.stateNode;n.flags&32&&(ki(u,""),n.flags&=-33);var g=oc(e);Yl(e,g,u);break;case 3:case 4:var C=n.stateNode.containerInfo,L=oc(e);lc(e,L,C);break;default:throw Error(c(161))}}catch(K){rt(e,e.return,K)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Fm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ma(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Dm(e,t.alternate,t),t=t.sibling}function yi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ra(4,t,t.return),yi(t);break;case 1:$n(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Tm(t,t.return,n),yi(t);break;case 27:Xo(t.stateNode);case 26:case 5:$n(t,t.return),yi(t);break;case 22:t.memoizedState===null&&yi(t);break;case 30:yi(t);break;default:yi(t)}e=e.sibling}}function fa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,s=t,u=s.flags;switch(s.tag){case 0:case 11:case 15:fa(o,s,n),Fo(4,s);break;case 1:if(fa(o,s,n),i=s,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(L){rt(i,i.return,L)}if(i=s,o=i.updateQueue,o!==null){var g=i.stateNode;try{var C=o.shared.hiddenCallbacks;if(C!==null)for(o.shared.hiddenCallbacks=null,o=0;o<C.length;o++)gd(C[o],g)}catch(L){rt(i,i.return,L)}}n&&u&64&&Cm(s),Oo(s,s.return);break;case 27:km(s);case 26:case 5:fa(o,s,n),n&&i===null&&u&4&&Nm(s),Oo(s,s.return);break;case 12:fa(o,s,n);break;case 31:fa(o,s,n),n&&u&4&&Rm(o,s);break;case 13:fa(o,s,n),n&&u&4&&Bm(o,s);break;case 22:s.memoizedState===null&&fa(o,s,n),Oo(s,s.return);break;case 30:break;default:fa(o,s,n)}t=t.sibling}}function rc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_o(n))}function cc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_o(e))}function Un(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Om(e,t,n,i),t=t.sibling}function Om(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Un(e,t,n,i),o&2048&&Fo(9,t);break;case 1:Un(e,t,n,i);break;case 3:Un(e,t,n,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_o(e)));break;case 12:if(o&2048){Un(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,u=s.id,g=s.onPostCommit;typeof g=="function"&&g(u,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){rt(t,t.return,C)}}else Un(e,t,n,i);break;case 31:Un(e,t,n,i);break;case 13:Un(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,u=t.alternate,t.memoizedState!==null?s._visibility&2?Un(e,t,n,i):Io(e,t):s._visibility&2?Un(e,t,n,i):(s._visibility|=2,Qi(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&rc(u,t);break;case 24:Un(e,t,n,i),o&2048&&cc(t.alternate,t);break;default:Un(e,t,n,i)}}function Qi(e,t,n,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,u=t,g=n,C=i,L=u.flags;switch(u.tag){case 0:case 11:case 15:Qi(s,u,g,C,o),Fo(8,u);break;case 23:break;case 22:var K=u.stateNode;u.memoizedState!==null?K._visibility&2?Qi(s,u,g,C,o):Io(s,u):(K._visibility|=2,Qi(s,u,g,C,o)),o&&L&2048&&rc(u.alternate,u);break;case 24:Qi(s,u,g,C,o),o&&L&2048&&cc(u.alternate,u);break;default:Qi(s,u,g,C,o)}t=t.sibling}}function Io(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:Io(n,i),o&2048&&rc(i.alternate,i);break;case 24:Io(n,i),o&2048&&cc(i.alternate,i);break;default:Io(n,i)}t=t.sibling}}var Uo=8192;function Pi(e,t,n){if(e.subtreeFlags&Uo)for(e=e.child;e!==null;)Im(e,t,n),e=e.sibling}function Im(e,t,n){switch(e.tag){case 26:Pi(e,t,n),e.flags&Uo&&e.memoizedState!==null&&Oh(n,In,e.memoizedState,e.memoizedProps);break;case 5:Pi(e,t,n);break;case 3:case 4:var i=In;In=ss(e.stateNode.containerInfo),Pi(e,t,n),In=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Uo,Uo=16777216,Pi(e,t,n),Uo=i):Pi(e,t,n));break;default:Pi(e,t,n)}}function Um(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ho(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ut=i,Vm(i,e)}Um(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hm(e),e=e.sibling}function Hm(e){switch(e.tag){case 0:case 11:case 15:Ho(e),e.flags&2048&&Ra(9,e,e.return);break;case 3:Ho(e);break;case 12:Ho(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$l(e)):Ho(e);break;default:Ho(e)}}function $l(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ut=i,Vm(i,e)}Um(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ra(8,t,t.return),$l(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,$l(t));break;default:$l(t)}e=e.sibling}}function Vm(e,t){for(;Ut!==null;){var n=Ut;switch(n.tag){case 0:case 11:case 15:Ra(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:_o(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ut=i;else e:for(n=e;Ut!==null;){i=Ut;var o=i.sibling,s=i.return;if(Em(i),i===n){Ut=null;break e}if(o!==null){o.return=s,Ut=o;break e}Ut=s}}}var Wp={getCacheForType:function(e){var t=Kt(Mt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Kt(Mt).controller.signal}},eh=typeof WeakMap=="function"?WeakMap:Map,lt=0,gt=null,Qe=null,Je=0,st=0,Sn=null,Ba=!1,Zi=!1,uc=!1,ga=0,Nt=0,La=0,bi=0,dc=0,jn=0,Ji=0,Vo=null,un=null,mc=!1,Ql=0,qm=0,Pl=1/0,Zl=null,Fa=null,Ft=0,Oa=null,Wi=null,pa=0,fc=0,gc=null,Gm=null,qo=0,pc=null;function wn(){return(lt&2)!==0&&Je!==0?Je&-Je:F.T!==null?Sc():De()}function Km(){if(jn===0)if((Je&536870912)===0||tt){var e=ee;ee<<=1,(ee&3932160)===0&&(ee=262144),jn=e}else jn=536870912;return e=bn.current,e!==null&&(e.flags|=32),jn}function dn(e,t,n){(e===gt&&(st===2||st===9)||e.cancelPendingCommit!==null)&&(eo(e,0),Ia(e,Je,jn,!1)),It(e,n),((lt&2)===0||e!==gt)&&(e===gt&&((lt&2)===0&&(bi|=n),Nt===4&&Ia(e,Je,jn,!1)),Qn(e))}function Ym(e,t,n){if((lt&6)!==0)throw Error(c(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||nn(e,t),o=i?ah(e,t):vc(e,t,!0),s=i;do{if(o===0){Zi&&!i&&Ia(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!th(n)){o=vc(e,t,!1),s=!1;continue}if(o===2){if(s=t,e.errorRecoveryDisabledLanes&s)var u=0;else u=e.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var g=e;o=Vo;var C=g.current.memoizedState.isDehydrated;if(C&&(eo(g,u).flags|=256),u=vc(g,u,!1),u!==2){if(uc&&!C){g.errorRecoveryDisabledLanes|=s,bi|=s,o=4;break e}s=un,un=o,s!==null&&(un===null?un=s:un.push.apply(un,s))}o=u}if(s=!1,o!==2)continue}}if(o===1){eo(e,0),Ia(e,t,0,!0);break}e:{switch(i=e,s=o,s){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Ia(i,t,jn,!Ba);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(o=Ql+300-zt(),10<o)){if(Ia(i,t,jn,!Ba),Cn(i,0,!0)!==0)break e;pa=t,i.timeoutHandle=_f(Xm.bind(null,i,n,un,Zl,mc,t,jn,bi,Ji,Ba,s,"Throttled",-0,0),o);break e}Xm(i,n,un,Zl,mc,t,jn,bi,Ji,Ba,s,null,-0,0)}}break}while(!0);Qn(e)}function Xm(e,t,n,i,o,s,u,g,C,L,K,P,I,H){if(e.timeoutHandle=-1,P=t.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},Im(t,s,P);var _e=(s&62914560)===s?Ql-zt():(s&4194048)===s?qm-zt():0;if(_e=Ih(P,_e),_e!==null){pa=s,e.cancelPendingCommit=_e(tf.bind(null,e,t,s,n,i,o,u,g,C,K,P,null,I,H)),Ia(e,s,u,!L);return}}tf(e,t,s,n,i,o,u,g,C)}function th(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],s=o.getSnapshot;o=o.value;try{if(!vn(s(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ia(e,t,n,i){t&=~dc,t&=~bi,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var s=31-pt(o),u=1<<s;i[s]=-1,o&=~u}n!==0&&S(e,n,t)}function Jl(){return(lt&6)===0?(Go(0),!1):!0}function hc(){if(Qe!==null){if(st===0)var e=Qe.return;else e=Qe,ia=ui=null,Er(e),Gi=null,To=0,e=Qe;for(;e!==null;)_m(e.alternate,e),e=e.return;Qe=null}}function eo(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Sh(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),pa=0,hc(),gt=e,Qe=n=na(e.current,null),Je=t,st=0,Sn=null,Ba=!1,Zi=nn(e,t),uc=!1,Ji=jn=dc=bi=La=Nt=0,un=Vo=null,mc=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-pt(i),s=1<<o;t|=e[o],i&=~s}return ga=t,bl(),n}function $m(e,t){Ve=null,F.H=Ro,t===qi||t===Nl?(t=ud(),st=3):t===xr?(t=ud(),st=4):st=t===$r?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Sn=t,Qe===null&&(Nt=1,Hl(e,Nn(t,e.current)))}function Qm(){var e=bn.current;return e===null?!0:(Je&4194048)===Je?Dn===null:(Je&62914560)===Je||(Je&536870912)!==0?e===Dn:!1}function Pm(){var e=F.H;return F.H=Ro,e===null?Ro:e}function Zm(){var e=F.A;return F.A=Wp,e}function Wl(){Nt=4,Ba||(Je&4194048)!==Je&&bn.current!==null||(Zi=!0),(La&134217727)===0&&(bi&134217727)===0||gt===null||Ia(gt,Je,jn,!1)}function vc(e,t,n){var i=lt;lt|=2;var o=Pm(),s=Zm();(gt!==e||Je!==t)&&(Zl=null,eo(e,t)),t=!1;var u=Nt;e:do try{if(st!==0&&Qe!==null){var g=Qe,C=Sn;switch(st){case 8:hc(),u=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(t=!0);var L=st;if(st=0,Sn=null,to(e,g,C,L),n&&Zi){u=0;break e}break;default:L=st,st=0,Sn=null,to(e,g,C,L)}}nh(),u=Nt;break}catch(K){$m(e,K)}while(!0);return t&&e.shellSuspendCounter++,ia=ui=null,lt=i,F.H=o,F.A=s,Qe===null&&(gt=null,Je=0,bl()),u}function nh(){for(;Qe!==null;)Jm(Qe)}function ah(e,t){var n=lt;lt|=2;var i=Pm(),o=Zm();gt!==e||Je!==t?(Zl=null,Pl=zt()+500,eo(e,t)):Zi=nn(e,t);e:do try{if(st!==0&&Qe!==null){t=Qe;var s=Sn;t:switch(st){case 1:st=0,Sn=null,to(e,t,s,1);break;case 2:case 9:if(rd(s)){st=0,Sn=null,Wm(t);break}t=function(){st!==2&&st!==9||gt!==e||(st=7),Qn(e)},s.then(t,t);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:rd(s)?(st=0,Sn=null,Wm(t)):(st=0,Sn=null,to(e,t,s,7));break;case 5:var u=null;switch(Qe.tag){case 26:u=Qe.memoizedState;case 5:case 27:var g=Qe;if(u?If(u):g.stateNode.complete){st=0,Sn=null;var C=g.sibling;if(C!==null)Qe=C;else{var L=g.return;L!==null?(Qe=L,es(L)):Qe=null}break t}}st=0,Sn=null,to(e,t,s,5);break;case 6:st=0,Sn=null,to(e,t,s,6);break;case 8:hc(),Nt=6;break e;default:throw Error(c(462))}}ih();break}catch(K){$m(e,K)}while(!0);return ia=ui=null,F.H=i,F.A=o,lt=n,Qe!==null?0:(gt=null,Je=0,bl(),Nt)}function ih(){for(;Qe!==null&&!vt();)Jm(Qe)}function Jm(e){var t=jm(e.alternate,e,ga);e.memoizedProps=e.pendingProps,t===null?es(e):Qe=t}function Wm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=hm(n,t,t.pendingProps,t.type,void 0,Je);break;case 11:t=hm(n,t,t.pendingProps,t.type.render,t.ref,Je);break;case 5:Er(t);default:_m(n,t),t=Qe=Zu(t,ga),t=jm(n,t,ga)}e.memoizedProps=e.pendingProps,t===null?es(e):Qe=t}function to(e,t,n,i){ia=ui=null,Er(t),Gi=null,To=0;var o=t.return;try{if(Yp(e,o,t,n,Je)){Nt=1,Hl(e,Nn(n,e.current)),Qe=null;return}}catch(s){if(o!==null)throw Qe=o,s;Nt=1,Hl(e,Nn(n,e.current)),Qe=null;return}t.flags&32768?(tt||i===1?e=!0:Zi||(Je&536870912)!==0?e=!1:(Ba=e=!0,(i===2||i===9||i===3||i===6)&&(i=bn.current,i!==null&&i.tag===13&&(i.flags|=16384))),ef(t,e)):es(t)}function es(e){var t=e;do{if((t.flags&32768)!==0){ef(t,Ba);return}e=t.return;var n=Qp(t.alternate,t,ga);if(n!==null){Qe=n;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);Nt===0&&(Nt=5)}function ef(e,t){do{var n=Pp(e.alternate,e);if(n!==null){n.flags&=32767,Qe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Qe=e;return}Qe=e=n}while(e!==null);Nt=6,Qe=null}function tf(e,t,n,i,o,s,u,g,C){e.cancelPendingCommit=null;do ts();while(Ft!==0);if((lt&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(s=t.lanes|t.childLanes,s|=or,Gn(e,n,s,u,g,C),e===gt&&(Qe=gt=null,Je=0),Wi=t,Oa=e,pa=n,fc=s,gc=o,Gm=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,rh(Wt,function(){return sf(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=F.T,F.T=null,o=ue.p,ue.p=2,u=lt,lt|=4;try{Zp(e,t,n)}finally{lt=u,ue.p=o,F.T=i}}Ft=1,nf(),af(),of()}}function nf(){if(Ft===1){Ft=0;var e=Oa,t=Wi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=F.T,F.T=null;var i=ue.p;ue.p=2;var o=lt;lt|=4;try{Lm(t,e);var s=kc,u=Vu(e.containerInfo),g=s.focusedElem,C=s.selectionRange;if(u!==g&&g&&g.ownerDocument&&Hu(g.ownerDocument.documentElement,g)){if(C!==null&&er(g)){var L=C.start,K=C.end;if(K===void 0&&(K=L),"selectionStart"in g)g.selectionStart=L,g.selectionEnd=Math.min(K,g.value.length);else{var P=g.ownerDocument||document,I=P&&P.defaultView||window;if(I.getSelection){var H=I.getSelection(),_e=g.textContent.length,Le=Math.min(C.start,_e),mt=C.end===void 0?Le:Math.min(C.end,_e);!H.extend&&Le>mt&&(u=mt,mt=Le,Le=u);var D=Uu(g,Le),N=Uu(g,mt);if(D&&N&&(H.rangeCount!==1||H.anchorNode!==D.node||H.anchorOffset!==D.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var B=P.createRange();B.setStart(D.node,D.offset),H.removeAllRanges(),Le>mt?(H.addRange(B),H.extend(N.node,N.offset)):(B.setEnd(N.node,N.offset),H.addRange(B))}}}}for(P=[],H=g;H=H.parentNode;)H.nodeType===1&&P.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<P.length;g++){var $=P[g];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}fs=!!zc,kc=zc=null}finally{lt=o,ue.p=i,F.T=n}}e.current=t,Ft=2}}function af(){if(Ft===2){Ft=0;var e=Oa,t=Wi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=F.T,F.T=null;var i=ue.p;ue.p=2;var o=lt;lt|=4;try{Dm(e,t.alternate,t)}finally{lt=o,ue.p=i,F.T=n}}Ft=3}}function of(){if(Ft===4||Ft===3){Ft=0,ot();var e=Oa,t=Wi,n=pa,i=Gm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ft=5:(Ft=0,Wi=Oa=null,lf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Fa=null),Ge(n),t=t.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(tn,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=F.T,o=ue.p,ue.p=2,F.T=null;try{for(var s=e.onRecoverableError,u=0;u<i.length;u++){var g=i[u];s(g.value,{componentStack:g.stack})}}finally{F.T=t,ue.p=o}}(pa&3)!==0&&ts(),Qn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===pc?qo++:(qo=0,pc=e):qo=0,Go(0)}}function lf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_o(t)))}function ts(){return nf(),af(),of(),sf()}function sf(){if(Ft!==5)return!1;var e=Oa,t=fc;fc=0;var n=Ge(pa),i=F.T,o=ue.p;try{ue.p=32>n?32:n,F.T=null,n=gc,gc=null;var s=Oa,u=pa;if(Ft=0,Wi=Oa=null,pa=0,(lt&6)!==0)throw Error(c(331));var g=lt;if(lt|=4,Hm(s.current),Om(s,s.current,u,n),lt=g,Go(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(tn,s)}catch{}return!0}finally{ue.p=o,F.T=i,lf(e,t)}}function rf(e,t,n){t=Nn(n,t),t=Xr(e.stateNode,t,2),e=Da(e,t,2),e!==null&&(It(e,2),Qn(e))}function rt(e,t,n){if(e.tag===3)rf(e,e,n);else for(;t!==null;){if(t.tag===3){rf(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Fa===null||!Fa.has(i))){e=Nn(n,e),n=rm(2),i=Da(t,n,2),i!==null&&(cm(n,i,t,e),It(i,2),Qn(i));break}}t=t.return}}function yc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new eh;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(uc=!0,o.add(n),e=oh.bind(null,e,t,n),t.then(e,e))}function oh(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gt===e&&(Je&n)===n&&(Nt===4||Nt===3&&(Je&62914560)===Je&&300>zt()-Ql?(lt&2)===0&&eo(e,0):dc|=n,Ji===Je&&(Ji=0)),Qn(e)}function cf(e,t){t===0&&(t=gn()),e=si(e,t),e!==null&&(It(e,t),Qn(e))}function lh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cf(e,n)}function sh(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(c(314))}i!==null&&i.delete(t),cf(e,n)}function rh(e,t){return ct(e,t)}var ns=null,no=null,bc=!1,as=!1,xc=!1,Ua=0;function Qn(e){e!==no&&e.next===null&&(no===null?ns=no=e:no=no.next=e),as=!0,bc||(bc=!0,uh())}function Go(e,t){if(!xc&&as){xc=!0;do for(var n=!1,i=ns;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var s=0;else{var u=i.suspendedLanes,g=i.pingedLanes;s=(1<<31-pt(42|e)+1)-1,s&=o&~(u&~g),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,ff(i,s))}else s=Je,s=Cn(i,i===gt?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(s&3)===0||nn(i,s)||(n=!0,ff(i,s));i=i.next}while(n);xc=!1}}function ch(){uf()}function uf(){as=bc=!1;var e=0;Ua!==0&&xh()&&(e=Ua);for(var t=zt(),n=null,i=ns;i!==null;){var o=i.next,s=df(i,t);s===0?(i.next=null,n===null?ns=o:n.next=o,o===null&&(no=n)):(n=i,(e!==0||(s&3)!==0)&&(as=!0)),i=o}Ft!==0&&Ft!==5||Go(e),Ua!==0&&(Ua=0)}function df(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var u=31-pt(s),g=1<<u,C=o[u];C===-1?((g&n)===0||(g&i)!==0)&&(o[u]=Pn(g,t)):C<=t&&(e.expiredLanes|=g),s&=~g}if(t=gt,n=Je,n=Cn(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(st===2||st===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ot(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||nn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Ot(i),Ge(n)){case 2:case 8:n=Jt;break;case 32:n=Wt;break;case 268435456:n=wt;break;default:n=Wt}return i=mf.bind(null,e),n=ct(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Ot(i),e.callbackPriority=2,e.callbackNode=null,2}function mf(e,t){if(Ft!==0&&Ft!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ts()&&e.callbackNode!==n)return null;var i=Je;return i=Cn(e,e===gt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Ym(e,i,t),df(e,zt()),e.callbackNode!=null&&e.callbackNode===n?mf.bind(null,e):null)}function ff(e,t){if(ts())return null;Ym(e,t,!0)}function uh(){jh(function(){(lt&6)!==0?ct(Vn,ch):uf()})}function Sc(){if(Ua===0){var e=Hi;e===0&&(e=X,X<<=1,(X&261888)===0&&(X=256)),Ua=e}return Ua}function gf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:dl(""+e)}function pf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function dh(e,t,n,i,o){if(t==="submit"&&n&&n.stateNode===o){var s=gf((o[Ue]||null).action),u=i.submitter;u&&(t=(t=u[Ue]||null)?gf(t.formAction):u.getAttribute("formAction"),t!==null&&(s=t,u=null));var g=new pl("action","action",null,i,o);e.push({event:g,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ua!==0){var C=u?pf(o,u):new FormData(o);Hr(n,{pending:!0,data:C,method:o.method,action:s},null,C)}}else typeof s=="function"&&(g.preventDefault(),C=u?pf(o,u):new FormData(o),Hr(n,{pending:!0,data:C,method:o.method,action:s},s,C))},currentTarget:o}]})}}for(var jc=0;jc<ir.length;jc++){var wc=ir[jc],mh=wc.toLowerCase(),fh=wc[0].toUpperCase()+wc.slice(1);On(mh,"on"+fh)}On(Ku,"onAnimationEnd"),On(Yu,"onAnimationIteration"),On(Xu,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(kp,"onTransitionRun"),On(Ap,"onTransitionStart"),On(Dp,"onTransitionCancel"),On($u,"onTransitionEnd"),pe("onMouseEnter",["mouseout","mouseover"]),pe("onMouseLeave",["mouseout","mouseover"]),pe("onPointerEnter",["pointerout","pointerover"]),pe("onPointerLeave",["pointerout","pointerover"]),Ae("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ae("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ae("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ae("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ko));function hf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var u=i.length-1;0<=u;u--){var g=i[u],C=g.instance,L=g.currentTarget;if(g=g.listener,C!==s&&o.isPropagationStopped())break e;s=g,o.currentTarget=L;try{s(o)}catch(K){yl(K)}o.currentTarget=null,s=C}else for(u=0;u<i.length;u++){if(g=i[u],C=g.instance,L=g.currentTarget,g=g.listener,C!==s&&o.isPropagationStopped())break e;s=g,o.currentTarget=L;try{s(o)}catch(K){yl(K)}o.currentTarget=null,s=C}}}}function Pe(e,t){var n=t[pn];n===void 0&&(n=t[pn]=new Set);var i=e+"__bubble";n.has(i)||(vf(t,e,2,!1),n.add(i))}function _c(e,t,n){var i=0;t&&(i|=4),vf(n,e,i,t)}var is="_reactListening"+Math.random().toString(36).slice(2);function Cc(e){if(!e[is]){e[is]=!0,Y.forEach(function(n){n!=="selectionchange"&&(gh.has(n)||_c(n,!1,e),_c(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[is]||(t[is]=!0,_c("selectionchange",!1,t))}}function vf(e,t,n,i){switch(Yf(t)){case 2:var o=Vh;break;case 8:o=qh;break;default:o=Uc}n=o.bind(null,t,n,e),o=void 0,!Ks||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Tc(e,t,n,i,o){var s=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var u=i.tag;if(u===3||u===4){var g=i.stateNode.containerInfo;if(g===o)break;if(u===4)for(u=i.return;u!==null;){var C=u.tag;if((C===3||C===4)&&u.stateNode.containerInfo===o)return;u=u.return}for(;g!==null;){if(u=Jn(g),u===null)return;if(C=u.tag,C===5||C===6||C===26||C===27){i=s=u;continue e}g=g.parentNode}}i=i.return}Su(function(){var L=s,K=qs(n),P=[];e:{var I=Qu.get(e);if(I!==void 0){var H=pl,_e=e;switch(e){case"keypress":if(fl(n)===0)break e;case"keydown":case"keyup":H=sp;break;case"focusin":_e="focus",H=Qs;break;case"focusout":_e="blur",H=Qs;break;case"beforeblur":case"afterblur":H=Qs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=_u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=up;break;case Ku:case Yu:case Xu:H=Jg;break;case $u:H=mp;break;case"scroll":case"scrollend":H=Xg;break;case"wheel":H=gp;break;case"copy":case"cut":case"paste":H=ep;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Tu;break;case"toggle":case"beforetoggle":H=hp}var Le=(t&4)!==0,mt=!Le&&(e==="scroll"||e==="scrollend"),D=Le?I!==null?I+"Capture":null:I;Le=[];for(var N=L,B;N!==null;){var $=N;if(B=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||B===null||D===null||($=fo(N,D),$!=null&&Le.push(Yo(N,$,B))),mt)break;N=N.return}0<Le.length&&(I=new H(I,_e,null,n,K),P.push({event:I,listeners:Le}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",I&&n!==Vs&&(_e=n.relatedTarget||n.fromElement)&&(Jn(_e)||_e[Ct]))break e;if((H||I)&&(I=K.window===K?K:(I=K.ownerDocument)?I.defaultView||I.parentWindow:window,H?(_e=n.relatedTarget||n.toElement,H=L,_e=_e?Jn(_e):null,_e!==null&&(mt=h(_e),Le=_e.tag,_e!==mt||Le!==5&&Le!==27&&Le!==6)&&(_e=null)):(H=null,_e=L),H!==_e)){if(Le=_u,$="onMouseLeave",D="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Le=Tu,$="onPointerLeave",D="onPointerEnter",N="pointer"),mt=H==null?I:Sa(H),B=_e==null?I:Sa(_e),I=new Le($,N+"leave",H,n,K),I.target=mt,I.relatedTarget=B,$=null,Jn(K)===L&&(Le=new Le(D,N+"enter",_e,n,K),Le.target=B,Le.relatedTarget=mt,$=Le),mt=$,H&&_e)t:{for(Le=ph,D=H,N=_e,B=0,$=D;$;$=Le($))B++;$=0;for(var Ee=N;Ee;Ee=Le(Ee))$++;for(;0<B-$;)D=Le(D),B--;for(;0<$-B;)N=Le(N),$--;for(;B--;){if(D===N||N!==null&&D===N.alternate){Le=D;break t}D=Le(D),N=Le(N)}Le=null}else Le=null;H!==null&&yf(P,I,H,Le,!1),_e!==null&&mt!==null&&yf(P,mt,_e,Le,!0)}}e:{if(I=L?Sa(L):window,H=I.nodeName&&I.nodeName.toLowerCase(),H==="select"||H==="input"&&I.type==="file")var at=Ru;else if(Eu(I))if(Bu)at=Tp;else{at=_p;var Te=wp}else H=I.nodeName,!H||H.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?L&&Hs(L.elementType)&&(at=Ru):at=Cp;if(at&&(at=at(e,L))){Mu(P,at,n,K);break e}Te&&Te(e,I,L),e==="focusout"&&L&&I.type==="number"&&L.memoizedProps.value!=null&&Us(I,"number",I.value)}switch(Te=L?Sa(L):window,e){case"focusin":(Eu(Te)||Te.contentEditable==="true")&&(Mi=Te,tr=L,So=null);break;case"focusout":So=tr=Mi=null;break;case"mousedown":nr=!0;break;case"contextmenu":case"mouseup":case"dragend":nr=!1,qu(P,n,K);break;case"selectionchange":if(zp)break;case"keydown":case"keyup":qu(P,n,K)}var qe;if(Zs)e:{switch(e){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Ei?Au(e,n)&&(We="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(We="onCompositionStart");We&&(Nu&&n.locale!=="ko"&&(Ei||We!=="onCompositionStart"?We==="onCompositionEnd"&&Ei&&(qe=ju()):(_a=K,Ys="value"in _a?_a.value:_a.textContent,Ei=!0)),Te=os(L,We),0<Te.length&&(We=new Cu(We,e,null,n,K),P.push({event:We,listeners:Te}),qe?We.data=qe:(qe=Du(n),qe!==null&&(We.data=qe)))),(qe=yp?bp(e,n):xp(e,n))&&(We=os(L,"onBeforeInput"),0<We.length&&(Te=new Cu("onBeforeInput","beforeinput",null,n,K),P.push({event:Te,listeners:We}),Te.data=qe)),dh(P,e,L,n,K)}hf(P,t)})}function Yo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function os(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,s=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||s===null||(o=fo(e,n),o!=null&&i.unshift(Yo(e,o,s)),o=fo(e,t),o!=null&&i.push(Yo(e,o,s))),e.tag===3)return i;e=e.return}return[]}function ph(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yf(e,t,n,i,o){for(var s=t._reactName,u=[];n!==null&&n!==i;){var g=n,C=g.alternate,L=g.stateNode;if(g=g.tag,C!==null&&C===i)break;g!==5&&g!==26&&g!==27||L===null||(C=L,o?(L=fo(n,s),L!=null&&u.unshift(Yo(n,L,C))):o||(L=fo(n,s),L!=null&&u.push(Yo(n,L,C)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var hh=/\r\n?/g,vh=/\u0000|\uFFFD/g;function bf(e){return(typeof e=="string"?e:""+e).replace(hh,`
`).replace(vh,"")}function xf(e,t){return t=bf(t),bf(e)===t}function dt(e,t,n,i,o,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ki(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ki(e,""+i);break;case"className":$e(e,"class",i);break;case"tabIndex":$e(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":$e(e,n,i);break;case"style":bu(e,i,s);break;case"data":if(t!=="object"){$e(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=dl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&dt(e,t,"name",o.name,o,null),dt(e,t,"formEncType",o.formEncType,o,null),dt(e,t,"formMethod",o.formMethod,o,null),dt(e,t,"formTarget",o.formTarget,o,null)):(dt(e,t,"encType",o.encType,o,null),dt(e,t,"method",o.method,o,null),dt(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=dl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=ea);break;case"onScroll":i!=null&&Pe("scroll",e);break;case"onScrollEnd":i!=null&&Pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(c(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=dl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Pe("beforetoggle",e),Pe("toggle",e),qt(e,"popover",i);break;case"xlinkActuate":Ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Ke(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Ke(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Ke(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Ke(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":qt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Kg.get(n)||n,qt(e,n,i))}}function Nc(e,t,n,i,o,s){switch(n){case"style":bu(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(c(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"children":typeof i=="string"?ki(e,i):(typeof i=="number"||typeof i=="bigint")&&ki(e,""+i);break;case"onScroll":i!=null&&Pe("scroll",e);break;case"onScrollEnd":i!=null&&Pe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ae.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),s=e[Ue]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,o),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):qt(e,n,i)}}}function Xt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",e),Pe("load",e);var i=!1,o=!1,s;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(u!=null)switch(s){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:dt(e,t,s,u,n,null)}}o&&dt(e,t,"srcSet",n.srcSet,n,null),i&&dt(e,t,"src",n.src,n,null);return;case"input":Pe("invalid",e);var g=s=u=o=null,C=null,L=null;for(i in n)if(n.hasOwnProperty(i)){var K=n[i];if(K!=null)switch(i){case"name":o=K;break;case"type":u=K;break;case"checked":C=K;break;case"defaultChecked":L=K;break;case"value":s=K;break;case"defaultValue":g=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(c(137,t));break;default:dt(e,t,i,K,n,null)}}pu(e,s,g,C,L,u,o,!1);return;case"select":Pe("invalid",e),i=u=s=null;for(o in n)if(n.hasOwnProperty(o)&&(g=n[o],g!=null))switch(o){case"value":s=g;break;case"defaultValue":u=g;break;case"multiple":i=g;default:dt(e,t,o,g,n,null)}t=s,n=u,e.multiple=!!i,t!=null?zi(e,!!i,t,!1):n!=null&&zi(e,!!i,n,!0);return;case"textarea":Pe("invalid",e),s=o=i=null;for(u in n)if(n.hasOwnProperty(u)&&(g=n[u],g!=null))switch(u){case"value":i=g;break;case"defaultValue":o=g;break;case"children":s=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(c(91));break;default:dt(e,t,u,g,n,null)}vu(e,i,o,s);return;case"option":for(C in n)n.hasOwnProperty(C)&&(i=n[C],i!=null)&&(C==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":dt(e,t,C,i,n,null));return;case"dialog":Pe("beforetoggle",e),Pe("toggle",e),Pe("cancel",e),Pe("close",e);break;case"iframe":case"object":Pe("load",e);break;case"video":case"audio":for(i=0;i<Ko.length;i++)Pe(Ko[i],e);break;case"image":Pe("error",e),Pe("load",e);break;case"details":Pe("toggle",e);break;case"embed":case"source":case"link":Pe("error",e),Pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in n)if(n.hasOwnProperty(L)&&(i=n[L],i!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:dt(e,t,L,i,n,null)}return;default:if(Hs(t)){for(K in n)n.hasOwnProperty(K)&&(i=n[K],i!==void 0&&Nc(e,t,K,i,n,void 0));return}}for(g in n)n.hasOwnProperty(g)&&(i=n[g],i!=null&&dt(e,t,g,i,n,null))}function yh(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,s=null,u=null,g=null,C=null,L=null,K=null;for(H in n){var P=n[H];if(n.hasOwnProperty(H)&&P!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=P;default:i.hasOwnProperty(H)||dt(e,t,H,null,i,P)}}for(var I in i){var H=i[I];if(P=n[I],i.hasOwnProperty(I)&&(H!=null||P!=null))switch(I){case"type":s=H;break;case"name":o=H;break;case"checked":L=H;break;case"defaultChecked":K=H;break;case"value":u=H;break;case"defaultValue":g=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(c(137,t));break;default:H!==P&&dt(e,t,I,H,i,P)}}Is(e,u,g,C,L,K,s,o);return;case"select":H=u=g=I=null;for(s in n)if(C=n[s],n.hasOwnProperty(s)&&C!=null)switch(s){case"value":break;case"multiple":H=C;default:i.hasOwnProperty(s)||dt(e,t,s,null,i,C)}for(o in i)if(s=i[o],C=n[o],i.hasOwnProperty(o)&&(s!=null||C!=null))switch(o){case"value":I=s;break;case"defaultValue":g=s;break;case"multiple":u=s;default:s!==C&&dt(e,t,o,s,i,C)}t=g,n=u,i=H,I!=null?zi(e,!!n,I,!1):!!i!=!!n&&(t!=null?zi(e,!!n,t,!0):zi(e,!!n,n?[]:"",!1));return;case"textarea":H=I=null;for(g in n)if(o=n[g],n.hasOwnProperty(g)&&o!=null&&!i.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:dt(e,t,g,null,i,o)}for(u in i)if(o=i[u],s=n[u],i.hasOwnProperty(u)&&(o!=null||s!=null))switch(u){case"value":I=o;break;case"defaultValue":H=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(c(91));break;default:o!==s&&dt(e,t,u,o,i,s)}hu(e,I,H);return;case"option":for(var _e in n)I=n[_e],n.hasOwnProperty(_e)&&I!=null&&!i.hasOwnProperty(_e)&&(_e==="selected"?e.selected=!1:dt(e,t,_e,null,i,I));for(C in i)I=i[C],H=n[C],i.hasOwnProperty(C)&&I!==H&&(I!=null||H!=null)&&(C==="selected"?e.selected=I&&typeof I!="function"&&typeof I!="symbol":dt(e,t,C,I,i,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in n)I=n[Le],n.hasOwnProperty(Le)&&I!=null&&!i.hasOwnProperty(Le)&&dt(e,t,Le,null,i,I);for(L in i)if(I=i[L],H=n[L],i.hasOwnProperty(L)&&I!==H&&(I!=null||H!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(c(137,t));break;default:dt(e,t,L,I,i,H)}return;default:if(Hs(t)){for(var mt in n)I=n[mt],n.hasOwnProperty(mt)&&I!==void 0&&!i.hasOwnProperty(mt)&&Nc(e,t,mt,void 0,i,I);for(K in i)I=i[K],H=n[K],!i.hasOwnProperty(K)||I===H||I===void 0&&H===void 0||Nc(e,t,K,I,i,H);return}}for(var D in n)I=n[D],n.hasOwnProperty(D)&&I!=null&&!i.hasOwnProperty(D)&&dt(e,t,D,null,i,I);for(P in i)I=i[P],H=n[P],!i.hasOwnProperty(P)||I===H||I==null&&H==null||dt(e,t,P,I,i,H)}function Sf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var o=n[i],s=o.transferSize,u=o.initiatorType,g=o.duration;if(s&&g&&Sf(u)){for(u=0,g=o.responseEnd,i+=1;i<n.length;i++){var C=n[i],L=C.startTime;if(L>g)break;var K=C.transferSize,P=C.initiatorType;K&&Sf(P)&&(C=C.responseEnd,u+=K*(C<g?1:(g-L)/(C-L)))}if(--i,t+=8*(s+u)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var zc=null,kc=null;function ls(e){return e.nodeType===9?e:e.ownerDocument}function jf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ac(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dc=null;function xh(){var e=window.event;return e&&e.type==="popstate"?e===Dc?!1:(Dc=e,!0):(Dc=null,!1)}var _f=typeof setTimeout=="function"?setTimeout:void 0,Sh=typeof clearTimeout=="function"?clearTimeout:void 0,Cf=typeof Promise=="function"?Promise:void 0,jh=typeof queueMicrotask=="function"?queueMicrotask:typeof Cf<"u"?function(e){return Cf.resolve(null).then(e).catch(wh)}:_f;function wh(e){setTimeout(function(){throw e})}function Ha(e){return e==="head"}function Tf(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(o),lo(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Xo(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Xo(n);for(var s=n.firstChild;s;){var u=s.nextSibling,g=s.nodeName;s[Kn]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=u}}else n==="body"&&Xo(e.ownerDocument.body);n=o}while(n);lo(t)}function Nf(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Ec(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ec(n),Ti(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function _h(e,t,n,i){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Kn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=En(e.nextSibling),e===null)break}return null}function Ch(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=En(e.nextSibling),e===null))return null;return e}function zf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=En(e.nextSibling),e===null))return null;return e}function Mc(e){return e.data==="$?"||e.data==="$~"}function Rc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Th(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Bc=null;function kf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return En(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Af(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Df(e,t,n){switch(t=ls(n),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Xo(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ti(e)}var Mn=new Map,Ef=new Set;function ss(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ha=ue.d;ue.d={f:Nh,r:zh,D:kh,C:Ah,L:Dh,m:Eh,X:Rh,S:Mh,M:Bh};function Nh(){var e=ha.f(),t=Jl();return e||t}function zh(e){var t=Wn(e);t!==null&&t.tag===5&&t.type==="form"?$d(t):ha.r(e)}var ao=typeof document>"u"?null:document;function Mf(e,t,n){var i=ao;if(i&&typeof t=="string"&&t){var o=on(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Ef.has(o)||(Ef.add(o),e={rel:e,crossOrigin:n,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),Xt(t,"link",e),b(t),i.head.appendChild(t)))}}function kh(e){ha.D(e),Mf("dns-prefetch",e,null)}function Ah(e,t){ha.C(e,t),Mf("preconnect",e,t)}function Dh(e,t,n){ha.L(e,t,n);var i=ao;if(i&&e&&t){var o='link[rel="preload"][as="'+on(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+on(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+on(n.imageSizes)+'"]')):o+='[href="'+on(e)+'"]';var s=o;switch(t){case"style":s=io(e);break;case"script":s=oo(e)}Mn.has(s)||(e=p({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Mn.set(s,e),i.querySelector(o)!==null||t==="style"&&i.querySelector($o(s))||t==="script"&&i.querySelector(Qo(s))||(t=i.createElement("link"),Xt(t,"link",e),b(t),i.head.appendChild(t)))}}function Eh(e,t){ha.m(e,t);var n=ao;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+on(i)+'"][href="'+on(e)+'"]',s=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=oo(e)}if(!Mn.has(s)&&(e=p({rel:"modulepreload",href:e},t),Mn.set(s,e),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qo(s)))return}i=n.createElement("link"),Xt(i,"link",e),b(i),n.head.appendChild(i)}}}function Mh(e,t,n){ha.S(e,t,n);var i=ao;if(i&&e){var o=ja(i).hoistableStyles,s=io(e);t=t||"default";var u=o.get(s);if(!u){var g={loading:0,preload:null};if(u=i.querySelector($o(s)))g.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Mn.get(s))&&Lc(e,n);var C=u=i.createElement("link");b(C),Xt(C,"link",e),C._p=new Promise(function(L,K){C.onload=L,C.onerror=K}),C.addEventListener("load",function(){g.loading|=1}),C.addEventListener("error",function(){g.loading|=2}),g.loading|=4,rs(u,t,i)}u={type:"stylesheet",instance:u,count:1,state:g},o.set(s,u)}}}function Rh(e,t){ha.X(e,t);var n=ao;if(n&&e){var i=ja(n).hoistableScripts,o=oo(e),s=i.get(o);s||(s=n.querySelector(Qo(o)),s||(e=p({src:e,async:!0},t),(t=Mn.get(o))&&Fc(e,t),s=n.createElement("script"),b(s),Xt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(o,s))}}function Bh(e,t){ha.M(e,t);var n=ao;if(n&&e){var i=ja(n).hoistableScripts,o=oo(e),s=i.get(o);s||(s=n.querySelector(Qo(o)),s||(e=p({src:e,async:!0,type:"module"},t),(t=Mn.get(o))&&Fc(e,t),s=n.createElement("script"),b(s),Xt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(o,s))}}function Rf(e,t,n,i){var o=(o=A.current)?ss(o):null;if(!o)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=io(n.href),n=ja(o).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=io(n.href);var s=ja(o).hoistableStyles,u=s.get(e);if(u||(o=o.ownerDocument||o,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,u),(s=o.querySelector($o(e)))&&!s._p&&(u.instance=s,u.state.loading=5),Mn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Mn.set(e,n),s||Lh(o,e,n,u.state))),t&&i===null)throw Error(c(528,""));return u}if(t&&i!==null)throw Error(c(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=oo(n),n=ja(o).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function io(e){return'href="'+on(e)+'"'}function $o(e){return'link[rel="stylesheet"]['+e+"]"}function Bf(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Lh(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Xt(t,"link",n),b(t),e.head.appendChild(t))}function oo(e){return'[src="'+on(e)+'"]'}function Qo(e){return"script[async]"+e}function Lf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+on(n.href)+'"]');if(i)return t.instance=i,b(i),i;var o=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),b(i),Xt(i,"style",o),rs(i,n.precedence,e),t.instance=i;case"stylesheet":o=io(n.href);var s=e.querySelector($o(o));if(s)return t.state.loading|=4,t.instance=s,b(s),s;i=Bf(n),(o=Mn.get(o))&&Lc(i,o),s=(e.ownerDocument||e).createElement("link"),b(s);var u=s;return u._p=new Promise(function(g,C){u.onload=g,u.onerror=C}),Xt(s,"link",i),t.state.loading|=4,rs(s,n.precedence,e),t.instance=s;case"script":return s=oo(n.src),(o=e.querySelector(Qo(s)))?(t.instance=o,b(o),o):(i=n,(o=Mn.get(s))&&(i=p({},n),Fc(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),b(o),Xt(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,rs(i,n.precedence,e));return t.instance}function rs(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,s=o,u=0;u<i.length;u++){var g=i[u];if(g.dataset.precedence===t)s=g;else if(s!==o)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Lc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var cs=null;function Ff(e,t,n){if(cs===null){var i=new Map,o=cs=new Map;o.set(n,i)}else o=cs,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var s=n[o];if(!(s[Kn]||s[Ie]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var u=s.getAttribute(t)||"";u=e+u;var g=i.get(u);g?g.push(s):i.set(u,[s])}}return i}function Of(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Fh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function If(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Oh(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=io(i.href),s=t.querySelector($o(o));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=us.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,b(s);return}s=t.ownerDocument||t,i=Bf(i),(o=Mn.get(o))&&Lc(i,o),s=s.createElement("link"),b(s);var u=s;u._p=new Promise(function(g,C){u.onload=g,u.onerror=C}),Xt(s,"link",i),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=us.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Oc=0;function Ih(e,t){return e.stylesheets&&e.count===0&&ms(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&ms(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Oc===0&&(Oc=62500*bh());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ms(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Oc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function us(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ms(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ds=null;function ms(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ds=new Map,t.forEach(Uh,e),ds=null,us.call(e))}function Uh(e,t){if(!(t.state.loading&4)){var n=ds.get(e);if(n)var i=n.get(null);else{n=new Map,ds.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<o.length;s++){var u=o[s];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(n.set(u.dataset.precedence,u),i=u)}i&&n.set(null,i)}o=t.instance,u=o.getAttribute("data-precedence"),s=n.get(u)||i,s===i&&n.set(null,o),n.set(u,o),this.count++,i=us.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),s?s.parentNode.insertBefore(o,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Po={$$typeof:oe,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Hh(e,t,n,i,o,s,u,g,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=s,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Uf(e,t,n,i,o,s,u,g,C,L,K,P){return e=new Hh(e,t,n,u,C,L,K,P,g),t=1,s===!0&&(t|=24),s=yn(3,null,null,t),e.current=s,s.stateNode=e,t=vr(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Sr(s),e}function Hf(e){return e?(e=Li,e):Li}function Vf(e,t,n,i,o,s){o=Hf(o),i.context===null?i.context=o:i.pendingContext=o,i=Aa(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Da(e,i,t),n!==null&&(dn(n,e,t),zo(n,e,t))}function qf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ic(e,t){qf(e,t),(e=e.alternate)&&qf(e,t)}function Gf(e){if(e.tag===13||e.tag===31){var t=si(e,67108864);t!==null&&dn(t,e,67108864),Ic(e,67108864)}}function Kf(e){if(e.tag===13||e.tag===31){var t=wn();t=Me(t);var n=si(e,t);n!==null&&dn(n,e,t),Ic(e,t)}}var fs=!0;function Vh(e,t,n,i){var o=F.T;F.T=null;var s=ue.p;try{ue.p=2,Uc(e,t,n,i)}finally{ue.p=s,F.T=o}}function qh(e,t,n,i){var o=F.T;F.T=null;var s=ue.p;try{ue.p=8,Uc(e,t,n,i)}finally{ue.p=s,F.T=o}}function Uc(e,t,n,i){if(fs){var o=Hc(i);if(o===null)Tc(e,t,i,gs,n),Xf(e,i);else if(Kh(o,e,t,n,i))i.stopPropagation();else if(Xf(e,i),t&4&&-1<Gh.indexOf(e)){for(;o!==null;){var s=Wn(o);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var u=yt(s.pendingLanes);if(u!==0){var g=s;for(g.pendingLanes|=2,g.entangledLanes|=2;u;){var C=1<<31-pt(u);g.entanglements[1]|=C,u&=~C}Qn(s),(lt&6)===0&&(Pl=zt()+500,Go(0))}}break;case 31:case 13:g=si(s,2),g!==null&&dn(g,s,2),Jl(),Ic(s,2)}if(s=Hc(i),s===null&&Tc(e,t,i,gs,n),s===o)break;o=s}o!==null&&i.stopPropagation()}else Tc(e,t,i,null,n)}}function Hc(e){return e=qs(e),Vc(e)}var gs=null;function Vc(e){if(gs=null,e=Jn(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=x(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return gs=e,null}function Yf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ai()){case Vn:return 2;case Jt:return 8;case Wt:case en:return 32;case wt:return 268435456;default:return 32}default:return 32}}var qc=!1,Va=null,qa=null,Ga=null,Zo=new Map,Jo=new Map,Ka=[],Gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xf(e,t){switch(e){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":Zo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(t.pointerId)}}function Wo(e,t,n,i,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Wn(t),t!==null&&Gf(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Kh(e,t,n,i,o){switch(t){case"focusin":return Va=Wo(Va,e,t,n,i,o),!0;case"dragenter":return qa=Wo(qa,e,t,n,i,o),!0;case"mouseover":return Ga=Wo(Ga,e,t,n,i,o),!0;case"pointerover":var s=o.pointerId;return Zo.set(s,Wo(Zo.get(s)||null,e,t,n,i,o)),!0;case"gotpointercapture":return s=o.pointerId,Jo.set(s,Wo(Jo.get(s)||null,e,t,n,i,o)),!0}return!1}function $f(e){var t=Jn(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,Fe(e.priority,function(){Kf(n)});return}}else if(t===31){if(t=x(n),t!==null){e.blockedOn=t,Fe(e.priority,function(){Kf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ps(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hc(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Vs=i,n.target.dispatchEvent(i),Vs=null}else return t=Wn(n),t!==null&&Gf(t),e.blockedOn=n,!1;t.shift()}return!0}function Qf(e,t,n){ps(e)&&n.delete(t)}function Yh(){qc=!1,Va!==null&&ps(Va)&&(Va=null),qa!==null&&ps(qa)&&(qa=null),Ga!==null&&ps(Ga)&&(Ga=null),Zo.forEach(Qf),Jo.forEach(Qf)}function hs(e,t){e.blockedOn===t&&(e.blockedOn=null,qc||(qc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Yh)))}var vs=null;function Pf(e){vs!==e&&(vs=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vs===e&&(vs=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(Vc(i||n)===null)continue;break}var s=Wn(n);s!==null&&(e.splice(t,3),t-=3,Hr(s,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function lo(e){function t(C){return hs(C,e)}Va!==null&&hs(Va,e),qa!==null&&hs(qa,e),Ga!==null&&hs(Ga,e),Zo.forEach(t),Jo.forEach(t);for(var n=0;n<Ka.length;n++){var i=Ka[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Ka.length&&(n=Ka[0],n.blockedOn===null);)$f(n),n.blockedOn===null&&Ka.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],s=n[i+1],u=o[Ue]||null;if(typeof s=="function")u||Pf(n);else if(u){var g=null;if(s&&s.hasAttribute("formAction")){if(o=s,u=s[Ue]||null)g=u.formAction;else if(Vc(o)!==null)continue}else g=u.action;typeof g=="function"?n[i+1]=g:(n.splice(i,3),i-=3),Pf(n)}}}function Zf(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(u){return o=u})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Gc(e){this._internalRoot=e}ys.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var n=t.current,i=wn();Vf(n,i,e,t,null,null)},ys.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vf(e.current,2,null,e,null,null),Jl(),t[Ct]=null}};function ys(e){this._internalRoot=e}ys.prototype.unstable_scheduleHydration=function(e){if(e){var t=De();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ka.length&&t!==0&&t<Ka[n].priority;n++);Ka.splice(n,0,e),n===0&&$f(e)}};var Jf=l.version;if(Jf!=="19.2.0")throw Error(c(527,Jf,"19.2.0"));ue.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=j(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Xh={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bs.isDisabled&&bs.supportsFiber)try{tn=bs.inject(Xh),ft=bs}catch{}}return tl.createRoot=function(e,t){if(!y(e))throw Error(c(299));var n=!1,i="",o=im,s=om,u=lm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Uf(e,1,!1,null,null,n,i,null,o,s,u,Zf),e[Ct]=t.current,Cc(e),new Gc(t)},tl.hydrateRoot=function(e,t,n){if(!y(e))throw Error(c(299));var i=!1,o="",s=im,u=om,g=lm,C=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.formState!==void 0&&(C=n.formState)),t=Uf(e,1,!0,t,n??null,i,o,C,s,u,g,Zf),t.context=Hf(null),n=t.current,i=wn(),i=Me(i),o=Aa(i),o.callback=null,Da(n,o,i),n=i,t.current.lanes=n,It(t,n),Qn(t),e[Ct]=t.current,Cc(e),new ys(t)},tl.version="19.2.0",tl}var ig;function a0(){if(ig)return Yc.exports;ig=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(l){console.error(l)}}return r(),Yc.exports=n0(),Yc.exports}var i0=a0();const o0="modulepreload",l0=function(r){return"/"+r},og={},Xe=function(l,d,c){let y=Promise.resolve();if(d&&d.length>0){let w=function(j){return Promise.all(j.map(v=>Promise.resolve(v).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),x=f?.nonce||f?.getAttribute("nonce");y=w(d.map(j=>{if(j=l0(j),j in og)return;og[j]=!0;const v=j.endsWith(".css"),p=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${j}"]${p}`))return;const k=document.createElement("link");if(k.rel=v?"stylesheet":o0,v||(k.as="script"),k.crossOrigin="",k.href=j,x&&k.setAttribute("nonce",x),document.head.appendChild(k),v)return new Promise((T,q)=>{k.addEventListener("load",T),k.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${j}`)))})}))}function h(f){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=f,window.dispatchEvent(x),!x.defaultPrevented)throw f}return y.then(f=>{for(const x of f||[])x.status==="rejected"&&h(x.reason);return l().catch(h)})},Bn={protein:{animal:1,plant:.6},iron:{heme:1,nonHeme:.1},vitaminA:{retinol:1,carotenoids:.05},vitaminK:{mk4:1,k1:.1},zinc:{animal:1,plant:.3}},_s={vitaminC:{base:10,carbPenalty:1.5,highCarbRequirement:100},iron:{male:{base:8},female:{base:18}}},Ja={SUGAR_CARBS:"sugar_carbs",SEED_OILS:"seed_oils",ALCOHOL:"alcohol",OXALATES:"oxalates"},s0={ADAPTED:"adapted",TRANSITIONING:"transitioning"},r0={HEALING:"healing",PERFORMANCE:"performance",WEIGHT_LOSS:"weight_loss",AUTOIMMUNE_HEALING:"autoimmune_healing"},c0={STRICT_CARNIVORE:"strict_carnivore",KETOVORE:"ketovore",LION_DIET:"lion_diet"};function u0(r){const{base:l,carbPenalty:d,highCarbRequirement:c}=_s.vitaminC,y=l+r*d;return Math.min(y,c)}function d0(r){return r.reduce((l,d)=>l+(d.nutrients?.vitaminC||0),0)*1}function m0(r){return r.reduce((l,d)=>{const c=d.nutrients?.vitaminK||0,y=d.type==="animal"||d.type==="ruminant"||d.type==="dairy"?Bn.vitaminK.mk4:Bn.vitaminK.k1;return l+c*y},0)}function f0(r){return r.reduce((l,d)=>{const c=d.nutrients?.hemeIron||0,y=d.nutrients?.nonHemeIron||0,h=c*Bn.iron.heme,f=y*Bn.iron.nonHeme;return l+h+f},0)}function g0(r){return r.reduce((l,d)=>{const c=d.nutrients?.zinc||0,y=d.type==="animal"||d.type==="ruminant"||d.type==="dairy"?Bn.zinc.animal:Bn.zinc.plant;return l+c*y},0)}function p0(r){return r.reduce((l,d)=>{const c=d.nutrients?.vitaminA||0,y=d.type==="animal"||d.type==="ruminant"||d.type==="dairy"?Bn.vitaminA.retinol:Bn.vitaminA.carotenoids;return l+c*y},0)}function h0(r){return r.reduce((l,d)=>l+(d.nutrients?.netCarbs||d.nutrients?.carbs||0),0)}function v0(r){return r.reduce((l,d)=>l+(d.nutrients?.fiber||0),0)}function y0(r){return r.reduce((l,d)=>l+(d.nutrients?.sodium||0),0)}function b0(r){return r.reduce((l,d)=>l+(d.nutrients?.magnesium||0),0)}function x0(r){return r.reduce((l,d)=>l+(d.nutrients?.fat||0),0)}function S0(r){return!r||r==="male"?_s.iron.male.base:_s.iron.female.base}function j0(r){return r.reduce((l,d)=>{const c=d.nutrients?.protein||0;let y=1;d.type==="dairy"&&d.item.toLowerCase().includes("egg")&&(d.eggCookingMethod==="raw"?y=.513:d.eggCookingMethod==="cooked"&&(y=.909));const h=d.type==="animal"||d.type==="ruminant"||d.type==="dairy"?Bn.protein.animal:Bn.protein.plant;return l+c*h*y},0)}function w0(r){return r.reduce((l,d)=>l+(d.nutrients?.protein||0),0)}function _0(r){return r.filter(l=>l.type==="animal"||l.type==="ruminant"||l.type==="dairy").reduce((l,d)=>{const c=d.nutrients?.protein||0,y=d.type==="animal"||d.type==="ruminant"||d.type==="dairy"?Bn.protein.animal:Bn.protein.plant;let h=1;return d.type==="dairy"&&d.eggCookingMethod==="raw"&&(h=.5),l+c*y*h},0)}function C0(r){return!r||r<=0?100:r*1.5}function Rn(r,l){const d=h0(r),c=d0(r),y=u0(d),h=m0(r),f=f0(r),x=S0(l?.gender),w=g0(r),j=v0(r),v=y0(r),p=b0(r),k=j0(r),T=_0(r),q=w0(r),ne=C0(l?.weight),fe=x0(r),se=r.reduce((X,ee)=>X+(ee.nutrients?.vitaminB12||0),0),te=r.reduce((X,ee)=>X+(ee.nutrients?.vitaminB1||0),0),oe=r.reduce((X,ee)=>X+(ee.nutrients?.vitaminB2||0),0),ve=r.reduce((X,ee)=>X+(ee.nutrients?.vitaminB3||0),0),xe=r.reduce((X,ee)=>X+(ee.nutrients?.vitaminB6||0),0),de=r.reduce((X,ee)=>X+(ee.nutrients?.vitaminE||0),0),je=r.reduce((X,ee)=>X+(ee.nutrients?.calcium||0),0),Q=r.reduce((X,ee)=>X+(ee.nutrients?.phosphorus||0),0),Ne=r.reduce((X,ee)=>X+(ee.nutrients?.selenium||0),0),Oe=r.reduce((X,ee)=>X+(ee.nutrients?.copper||0),0),O=r.reduce((X,ee)=>X+(ee.nutrients?.manganese||0),0),ze=p0(r),z=r.reduce((X,ee)=>X+(ee.nutrients?.vitaminA||0),0),W=r.reduce((X,ee)=>X+(ee.nutrients?.vitaminD||0),0),Se=r.reduce((X,ee)=>X+(ee.nutrients?.vitaminK2||0),0),F=r.reduce((X,ee)=>X+(ee.nutrients?.choline||0),0),ue=r.reduce((X,ee)=>X+(ee.nutrients?.potassium||0),0),re=r.reduce((X,ee)=>X+(ee.nutrients?.omega3||0),0),ge=r.reduce((X,ee)=>X+(ee.nutrients?.omega6||0),0),he=T0(ge,re),we=N0(r),R=r.reduce((X,ee)=>X+(ee.nutrients?.iodine||0),0),Z=Q>0?je/Q:0,J=k0(je,W),le=r.reduce((X,ee)=>X+(ee.nutrients?.glycine||0),0),A=r.reduce((X,ee)=>X+(ee.nutrients?.methionine||0),0),ye=A>0?le/A:0,_=z0(v,p),U=r.reduce((X,ee)=>X+(ee.nutrients?.vitaminB7||0),0),E=r.some(X=>X.biotinBlocked===!0),V=r.reduce((X,ee)=>X+(ee.nutrients?.taurine||0),0),me=r.reduce((X,ee)=>X+(ee.nutrients?.vitaminB5||0),0),Be=r.reduce((X,ee)=>X+(ee.nutrients?.vitaminB9||0),0),M=r.reduce((X,ee)=>X+(ee.nutrients?.chromium||0),0),G=r.reduce((X,ee)=>X+(ee.nutrients?.molybdenum||0),0),be=r.reduce((X,ee)=>X+(ee.nutrients?.fluoride||0),0),ce=r.reduce((X,ee)=>X+(ee.nutrients?.chloride||0),0),nt=r.reduce((X,ee)=>X+(ee.nutrients?.boron||0),0),St=r.reduce((X,ee)=>X+(ee.nutrients?.nickel||0),0),ct=r.reduce((X,ee)=>X+(ee.nutrients?.silicon||0),0),Ot=r.reduce((X,ee)=>X+(ee.nutrients?.vanadium||0),0),vt=r.reduce((X,ee)=>X+(ee.nutrients?.phytates||0),0),ot=r.reduce((X,ee)=>X+(ee.nutrients?.polyphenols||0),0),zt=r.reduce((X,ee)=>X+(ee.nutrients?.flavonoids||0),0),ai=r.reduce((X,ee)=>X+(ee.nutrients?.anthocyanins||0),0),Vn=r.reduce((X,ee)=>X+(ee.nutrients?.oxalates||0),0),Jt=r.reduce((X,ee)=>X+(ee.nutrients?.lectins||0),0),Wt=r.reduce((X,ee)=>X+(ee.nutrients?.saponins||0),0),en=r.reduce((X,ee)=>X+(ee.nutrients?.goitrogens||0),0),wt=r.reduce((X,ee)=>X+(ee.nutrients?.tannins||0),0),Ln=r.reduce((X,ee)=>X+(ee.nutrients?.trypsinInhibitors||0),0),Et=r.reduce((X,ee)=>X+(ee.nutrients?.proteaseInhibitors||0),0),tn=r.reduce((X,ee)=>X+(ee.nutrients?.cyanogenicGlycosides||0),0),ft=r.reduce((X,ee)=>X+(ee.nutrients?.solanine||0),0),Vt=r.reduce((X,ee)=>X+(ee.nutrients?.chaconine||0),0),pt=r.filter(X=>X.type==="plant").reduce((X,ee)=>X+(ee.nutrients?.protein||0),0),qn=r.filter(X=>X.type==="plant").reduce((X,ee)=>X+(ee.nutrients?.fat||0),0),$t=[];(pt>0||j>0||r.some(X=>X.type==="plant"))&&$t.push("plant_food"),d>20&&$t.push("high_carbs");const ba=$t.length>0;return{netCarbs:d,effectiveVitC:c,vitCRequirement:y,effectiveVitK:h,effectiveIron:f,ironRequirement:x,effectiveZinc:w,fiberTotal:j,sodiumTotal:v,magnesiumTotal:p,effectiveProtein:k,animalEffectiveProtein:T,proteinTotal:q,proteinRequirement:ne,fatTotal:fe,effectiveFat:we,effectiveVitaminA:ze,effectiveCalcium:J,omegaRatio:he.ratio,omegaRatioStatus:he.status,inflammationScore:he.inflammationScore,electrolyteBalance:_,vitaminB12Total:se,vitaminB1Total:te,vitaminB2Total:oe,vitaminB3Total:ve,vitaminB6Total:xe,vitaminETotal:de,calciumTotal:je,phosphorusTotal:Q,seleniumTotal:Ne,copperTotal:Oe,manganeseTotal:O,vitaminATotal:z,vitaminDTotal:W,vitaminK2Total:Se,cholineTotal:F,potassiumTotal:ue,omega3Total:re,omega6Total:ge,iodineTotal:R,calciumPhosphorusRatio:Z,glycineTotal:le,methionineTotal:A,glycineMethionineRatio:ye,vitaminB7Total:U,biotinBlocked:E,taurineTotal:V,vitaminB5Total:me,vitaminB9Total:Be,chromiumTotal:M,molybdenumTotal:G,fluorideTotal:be,chlorideTotal:ce,boronTotal:nt,nickelTotal:St,siliconTotal:ct,vanadiumTotal:Ot,phytatesTotal:vt,polyphenolsTotal:ot,flavonoidsTotal:zt,anthocyaninsTotal:ai,oxalatesTotal:Vn,lectinsTotal:Jt,saponinsTotal:Wt,goitrogensTotal:en,tanninsTotal:wt,trypsinInhibitorsTotal:Ln,proteaseInhibitorsTotal:Et,cyanogenicGlycosidesTotal:tn,solanineTotal:ft,chaconineTotal:Vt,plantProteinTotal:pt,vegetableOilTotal:qn,hasViolation:ba,violationTypes:$t}}function T0(r,l){if(l===0)return{ratio:0,status:"danger",inflammationScore:100};const d=r/l;let c;return d<2?c="excellent":d<4?c="good":d<10?c="warning":c="danger",{ratio:d,status:c,inflammationScore:d}}function N0(r){return r.reduce((l,d)=>{const c=d.nutrients?.fat||0,y=d.nutrients?.omega6||0,h=d.nutrients?.omega3||0;let f=c;return(h>0&&y/h>10||h===0&&y>0)&&(f=c*.8),l+f},0)}function z0(r,l){return r>5e3&&l<300?{isBalanced:!1,warning:""}:{isBalanced:!0}}function k0(r,l){return l<1e3?r*.5:r}function so(r){const l={isActive:!0,fastingTargetHours:16,activities:[],dietRecommendations:[],supplements:[],warnings:[]};switch(r){case Ja.SUGAR_CARBS:return{...l,violationType:r,fastingTargetHours:18,activities:["Sprint/HIIT (Force glycogen burn)"],dietRecommendations:["Zero Carb / High Fat next day","Focus on ruminant meat"],protocolId:"sugar_carbs_detox_18h"};case Ja.SEED_OILS:return{...l,violationType:r,fastingTargetHours:20,activities:[],dietRecommendations:["Ruminant Fat only (No chicken/pork for 2 days)","Focus on beef tallow, lamb fat"],supplements:["Vitamin E (optional) - to protect cell membranes"],protocolId:"oil_detox_18h"};case Ja.ALCOHOL:return{...l,violationType:r,fastingTargetHours:12,activities:[],dietRecommendations:["Bone Broth (Glycine) for liver support","Eggs (Choline) for liver support"],supplements:[],warnings:["Keep fasting short (12-14h) to prioritize nutrient repair"],protocolId:"alcohol_recovery_12h"};case Ja.OXALATES:return{...l,violationType:r,fastingTargetHours:14,activities:[],dietRecommendations:["Add Calcium (Cheese/Bone powder) to bind oxalate in gut","Citric acid (Lemon water) - helps prevent stones"],supplements:[],warnings:["Do NOT fast too long (promotes oxalate dumping)"],protocolId:"oxalate_mitigation_14h"};default:return{...l,violationType:r,protocolId:"generic_recovery"}}}function lg(r){const l=r.toLowerCase();return l.includes("tempura")||l.includes("fried")||l.includes("dressing")||l.includes("mayonnaise")||l.includes("vegetable oil")||l.includes("canola")||l.includes("soybean oil")?Ja.SEED_OILS:l.includes("bread")||l.includes("rice")||l.includes("pasta")||l.includes("sugar")||l.includes("cake")||l.includes("cookie")||l.includes("fruit")||l.includes("candy")?Ja.SUGAR_CARBS:l.includes("spinach")||l.includes("almond")||l.includes("cashew")||l.includes("rhubarb")||l.includes("beet")?Ja.OXALATES:l.includes("alcohol")||l.includes("beer")||l.includes("wine")||l.includes("sake")||l.includes("whiskey")?Ja.ALCOHOL:null}function sg(r,l){const d=new Date;return new Date(d.getTime()+r*60*60*1e3).toISOString()}class xg extends Error{constructor(l,d,c){super(l),this.code=d,this.context=c,this.name="AppError"}}function Wa(r,l){return r instanceof xg?r.message:r instanceof Error?r.message.includes("fetch")||r.message.includes("network")||r.message.includes("Network")?"":r.message.includes("auth")||r.message.includes("unauthorized")||r.message.includes("")?"":r.message.includes("validation")||r.message.includes("invalid")||r.message.includes("")?"":r.message.includes("API")||r.message.includes("500")||r.message.includes("503")?"":r.message.includes("storage")||r.message.includes("localStorage")||r.message.includes("")?"":r.message||"":typeof r=="string"?r:""}function A0(r,l){}const D0=Object.freeze(Object.defineProperty({__proto__:null,AppError:xg,getUserFriendlyErrorMessage:Wa,logError:A0},Symbol.toStringTag,{value:"Module"}));async function rg(r){return console.warn("OpenAI API key not found. Using static algorithm."),null}const Es=null,Ms=()=>Es!==null;function mo(){let r=localStorage.getItem("primal_logic_user_id");return r||(r=`anon_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("primal_logic_user_id",r)),r}const uo={DAILY_LOGS:"@primal_logic:daily_logs",USER_PROFILE:"@primal_logic:user_profile",CURRENT_DATE:"@primal_logic:current_date"};async function Rs(r){mo(),await E0(r),jg()}async function E0(r){try{const l=localStorage.getItem(uo.DAILY_LOGS);let d=[];if(l)try{d=JSON.parse(l)}catch{d=[]}const c=d.findIndex(y=>y.date===r.date);c>=0?d[c]=r:d.push(r),localStorage.setItem(uo.DAILY_LOGS,JSON.stringify(d)),Hn=null}catch(l){throw l}}async function iu(r){return mo(),M0(r)}async function M0(r){try{return(await ya()).find(d=>d.date===r)||null}catch{return null}}let Hn=null;function Sg(){Hn=null}let $a=null,tu=0;const R0=2e3;function jg(){$a=null,tu=0}let Xa=!1,cg=0;const B0=1e3;async function ya(){const r=Date.now();if(Xa||r-cg<B0){if(Hn)return Hn;if($a)return $a;if(Xa){if(await new Promise(l=>setTimeout(l,500)),Hn)return Hn;if($a)return $a}return[]}Xa=!0,cg=r;try{const l=localStorage.getItem("settings_debug_mode");if(l==="true"||l!==null&&JSON.parse(l)===!0){if(Hn)return Xa=!1,Hn;const{generateDebugData:f}=await Xe(async()=>{const{generateDebugData:x}=await import("./debugData-CQ_c7XxN.js");return{generateDebugData:x}},__vite__mapDeps([0,1,2,3]));return Hn=f(),Xa=!1,Hn}const c=Date.now();if($a&&c-tu<R0)return Xa=!1,$a;Hn=null;const y=mo();let h;return Ms()&&Es||(h=L0()),$a=h,tu=Date.now(),Xa=!1,h}finally{Xa=!1}}function L0(){try{const r=localStorage.getItem(uo.DAILY_LOGS);return r?JSON.parse(r):[]}catch{return[]}}async function zs(){const r=new Date().toISOString().split("T")[0],l=await iu(r),d=localStorage.getItem("settings_debug_mode");if((d==="true"||d!==null&&JSON.parse(d)===!0)&&!l){const{generateDebugData:y}=await Xe(async()=>{const{generateDebugData:f}=await import("./debugData-CQ_c7XxN.js");return{generateDebugData:f}},__vite__mapDeps([0,1,2,3]));return y().find(f=>f.date===r)||null}return l}async function F0(r){try{const l=localStorage.getItem("settings_debug_mode");(l==="true"||l!==null&&JSON.parse(l)===!0)&&Sg();const y=(await ya()).filter(f=>f.date!==r),h=mo();Ms(),localStorage.setItem(uo.DAILY_LOGS,JSON.stringify(y))}catch(l){throw l}}async function wg(r){mo();try{localStorage.setItem(uo.USER_PROFILE,JSON.stringify(r))}catch(l){throw l}}async function ou(){const r=localStorage.getItem("settings_debug_mode");if(r==="true"||r!==null&&JSON.parse(r)===!0){const{generateDebugProfile:d}=await Xe(async()=>{const{generateDebugProfile:c}=await import("./debugData-CQ_c7XxN.js");return{generateDebugProfile:c}},__vite__mapDeps([0,1,2,3]));return d()}return mo(),O0()}function O0(){try{const r=localStorage.getItem(uo.USER_PROFILE);return r?JSON.parse(r):null}catch{return null}}async function _g(){}async function lu(){try{const r=await ya(),l=await ou(),d={version:"1.0",exportDate:new Date().toISOString(),dailyLogs:r,userProfile:l};return JSON.stringify(d,null,2)}catch{throw new Error("")}}async function Cg(r){try{const l=JSON.parse(r);if(!l.version||!l.dailyLogs||!Array.isArray(l.dailyLogs))throw new Error("");const d=await lu();if(localStorage.setItem("primal_logic_backup_"+Date.now(),d),l.dailyLogs&&l.dailyLogs.length>0)for(const c of l.dailyLogs)await Rs(c);l.userProfile&&await wg(l.userProfile)}catch(l){throw new Error(""+(l instanceof Error?l.message:""))}}const nu=Object.freeze(Object.defineProperty({__proto__:null,clearDailyLogsCache:jg,clearDebugDataCache:Sg,deleteDailyLog:F0,exportAllData:lu,getDailyLogByDate:iu,getDailyLogs:ya,getTodayLog:zs,getUserProfile:ou,importAllData:Cg,saveDailyLog:Rs,saveUserProfile:wg,syncLocalStorageToSupabase:_g},Symbol.toStringTag,{value:"Module"})),I0={gender:"male",height:170,weight:70,age:30,activityLevel:"moderate",goal:r0.HEALING,metabolicStatus:s0.TRANSITIONING,mode:c0.LION_DIET},Tg=m.createContext(void 0);function U0({children:r}){const[l,d]=m.useState(null),[c,y]=m.useState({name:"Susam",gender:"male",age:30,height:170,weight:70,activityLevel:"moderate",dietType:"lion",...I0}),[h,f]=m.useState(!1),[x,w]=m.useState(null),j=m.useRef(null);m.useEffect(()=>{if(!c||!l||!l.fuel||l.fuel.length===0){j.current=c;return}if(c!==j.current){const z=Rn(l.fuel,c),W=JSON.stringify(z),Se=JSON.stringify(l.calculatedMetrics||{});W!==Se&&d(F=>!F||F.date!==l.date?F:{...F,calculatedMetrics:z}),j.current=c}},[c,l?.date]);const v=m.useCallback(async()=>{try{f(!0),w(null);const z=await ou();z&&y(z)}catch(z){const W=z instanceof Error?z.message:"";w(W)}finally{f(!1)}},[]),p=m.useCallback(()=>{w(null)},[]),k=m.useCallback(async()=>{try{f(!0),w(null);const z=await zs();z?(!z.calculatedMetrics&&z.fuel&&z.fuel.length>0&&c&&(z.calculatedMetrics=Rn(z.fuel,c)),d(z)):d(null)}catch(z){const W=z instanceof Error?z.message:"";w(W)}finally{f(!1)}},[c]),T=m.useCallback(async()=>{try{f(!0),w(null),await _g()}catch(z){const W=z instanceof Error?z.message:"";w(W)}finally{f(!1)}},[]),q=m.useRef(!1);m.useEffect(()=>{q.current||(q.current=!0,v())},[]);const ne=m.useRef(!1);m.useEffect(()=>{if(c&&c!==j.current){const z=!ne.current;j.current=c,z&&(ne.current=!0,k().catch(W=>{}))}},[c]);const fe=m.useRef(!1),se=m.useRef(null),te=m.useRef(0),oe=m.useRef(null),ve=m.useRef(!1);m.useEffect(()=>{if(!ve.current){ve.current=!0,l&&(se.current=l.date);return}if(l&&!fe.current){const z=l.date!==se.current,Se=Date.now()-te.current;z&&Se>500&&(oe.current&&clearTimeout(oe.current),fe.current=!0,se.current=l.date,oe.current=setTimeout(()=>{Rs(l).then(()=>{te.current=Date.now(),fe.current=!1}).catch(F=>{fe.current=!1})},500))}else l||(se.current=null,fe.current=!1,oe.current&&(clearTimeout(oe.current),oe.current=null));return()=>{oe.current&&clearTimeout(oe.current)}},[l?.date]),m.useEffect(()=>{const z=()=>{setTimeout(async()=>{try{f(!0);const W=await zs();d(W||null)}catch{}finally{f(!1)}},100)};return window.addEventListener("foodAdded",z),()=>{window.removeEventListener("foodAdded",z)}},[c]);const xe=m.useCallback(z=>{d(W=>{const Se=new Date().toISOString().split("T")[0];if(!W||W.date!==Se){const he={date:Se,status:{sleepScore:80,sunMinutes:30,activityLevel:"moderate"},fuel:[z],calculatedMetrics:Rn([z],c)},we=lg(z.item);return we&&(rg({userProfile:c?{gender:c.gender,goal:c.goal,metabolicStatus:c.metabolicStatus}:void 0,foodItem:z.item}).then(R=>{d(R?Z=>!Z||Z.date!==he.date?Z:{...Z,recoveryProtocol:{violationType:we,isActive:!0,fastingTargetHours:R.protocol.fastingTargetHours,activities:R.protocol.activities,dietRecommendations:R.protocol.dietRecommendations,supplements:R.protocol.supplements,warnings:R.protocol.warnings,protocolId:`ai_${we}_${Date.now()}`}}:Z=>!Z||Z.date!==he.date?Z:{...Z,recoveryProtocol:so(we)})}).catch(()=>{d(R=>!R||R.date!==he.date?R:{...R,recoveryProtocol:so(we)})}),he.recoveryProtocol=so(we)),setTimeout(()=>{window.dispatchEvent(new CustomEvent("foodAdded"))},0),he}const F=[...W.fuel,z],ue=Rn(F,c);setTimeout(()=>{window.dispatchEvent(new CustomEvent("foodAdded"))},0);const re=lg(z.item);let ge=W.recoveryProtocol;return re&&(rg({userProfile:c?{gender:c.gender,goal:c.goal,metabolicStatus:c.metabolicStatus}:void 0,foodItem:z.item}).then(he=>{d(he?we=>!we||we.date!==W.date?we:{...we,recoveryProtocol:{violationType:re,isActive:!0,fastingTargetHours:he.protocol.fastingTargetHours,activities:he.protocol.activities,dietRecommendations:he.protocol.dietRecommendations,supplements:he.protocol.supplements,warnings:he.protocol.warnings,protocolId:`ai_${re}_${Date.now()}`}}:we=>!we||we.date!==W.date?we:{...we,recoveryProtocol:so(re)})}).catch(()=>{d(he=>!he||he.date!==W.date?he:{...he,recoveryProtocol:so(re)})}),ge=so(re)),{...W,fuel:F,calculatedMetrics:ue,recoveryProtocol:ge}})},[c]),de=m.useCallback(z=>{d(W=>W?{...W,status:z}:{date:new Date().toISOString().split("T")[0],status:z,fuel:[],calculatedMetrics:Rn([],c)})},[c]),je=m.useCallback(z=>{d(W=>W?{...W,diary:z}:{date:new Date().toISOString().split("T")[0],status:{sleepScore:80,sunMinutes:30,activityLevel:"moderate"},fuel:[],calculatedMetrics:Rn([],c),diary:z})},[c]),Q=m.useCallback((z,W)=>{d(Se=>Se?{...Se,weight:z,bodyFatPercentage:W}:{date:new Date().toISOString().split("T")[0],status:{sleepScore:80,sunMinutes:30,activityLevel:"moderate"},fuel:[],calculatedMetrics:Rn([],c),weight:z,bodyFatPercentage:W}),window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},[c]),Ne=m.useCallback(z=>{d(W=>W?{...W,recoveryProtocol:z}:{date:new Date().toISOString().split("T")[0],status:{sleepScore:80,sunMinutes:30,activityLevel:"moderate"},fuel:[],calculatedMetrics:Rn([],c),recoveryProtocol:z})},[c]),Oe=m.useCallback(()=>{d(null)},[]),O=m.useCallback(z=>{d(W=>{if(!W)return null;const Se=W.fuel.filter((ue,re)=>re!==z),F=Rn(Se,c);return{...W,fuel:Se,calculatedMetrics:F}}),window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},[c]),ze=m.useCallback((z,W)=>{d(Se=>{if(!Se)return null;const F=Se.fuel.map((re,ge)=>ge===z?W:re),ue=Rn(F,c);return{...Se,fuel:F,calculatedMetrics:ue}}),window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},[c]);return a.jsx(Tg.Provider,{value:{dailyLog:l,userProfile:c,isLoading:h,error:x,addFood:xe,removeFood:O,updateFood:ze,updateStatus:de,updateDiary:je,updateWeight:Q,setRecoveryProtocol:Ne,clearDailyLog:Oe,loadTodayLog:k,loadUserProfile:v,setError:w,clearError:p,syncLocalStorageToSupabase:T},children:r})}function ti(){const r=m.useContext(Tg);if(r===void 0)throw new Error("useApp must be used within an AppProvider");return r}const H0=m.createContext(void 0);function V0({children:r}){const[l,d]=m.useState([]),[c,y]=m.useState(null),h=m.useCallback(j=>{d(v=>[...v,j])},[]),f=m.useCallback(j=>{d(v=>v.filter((p,k)=>k!==j))},[]),x=m.useCallback(j=>{y(j)},[]),w=m.useCallback(()=>{y(null)},[]);return a.jsx(H0.Provider,{value:{selectedFoods:l,currentNutrients:c,addFood:h,removeFood:f,updatePreview:x,clearPreview:w},children:r})}const ug={ja:{"common.back":"","common.save":"","common.cancel":"","common.delete":"","common.edit":"","common.close":"","common.confirm":"","common.loading":"...","common.error":"","common.backAriaLabel":"","common.languageChangeFailed":"","common.days":"","common.consecutive":"","common.items":"","common.send":"","common.current":"","common.locale":"ja-JP","language.title":"","language.description":"","language.japanese":"","language.english":"English","language.french":"Franais","language.german":"Deutsch","language.chinese":"","gift.title":"Gift","gift.subtitle":"","gift.description":"Gift","gift.currentStatus":"","gift.totalAmount":"Gift","gift.newUsers":"","gift.discountPerUser":"","gift.messageLabel":"","gift.messagePlaceholder":"...","gift.messagePrivacy":"/","gift.messagePublic":"","gift.messagePrivate":"","gift.purchaseButton":"3,980 1","gift.purchaseNote":" 100%","gift.purchaseSuccess":"Gift","gift.myMessages":"","gift.myMessagesDescription":"Gift","gift.communityMessages":"","gift.communityMessagesDescription":"Gift","gift.publicMessages":"","gift.noMessages":"","gift.viewPastMessages":"","gift.modeAmount":"","gift.modePeople":"","gift.amountLabel":"Gift","gift.amountHint":" 1","gift.amountPeopleEquivalent":"","gift.peopleLabel":"","gift.peopleHint":"","gift.total":"","gift.people":"","gift.perPerson":"/","gift.sendGift":"Gift","gift.currency":"","gift.reply":"","gift.replyPlaceholder":"...","labs.description":"","labs.diary":"","labs.diaryDescription":"","labs.stats":"","labs.statsDescription":"","labs.community":"","labs.communityDescription":"","labs.shop":"","labs.shopDescription":"UI","labs.gift":"Gift","labs.giftDescription":"100%","labs.streakTracker":"","labs.streakTrackerDescription":"","labs.tips":"Tips","labs.viewTipsList":"Tips","labs.tipsHistory":"Tips","labs.noTipsHistory":"Tips","labs.tipsList":"Tips","labs.tipsListAll":"","labs.tipsListSaved":"","labs.noSavedTips":"Tips","labs.tipBack":" ","labs.tipNext":" ","labs.tipShare":" Share","labs.tipSaved":"","labs.tipSave":"","labs.appIconGenerator":"","home.addFood":"","home.myFoods":"","home.myFoodsTitle":"","home.addToMyFoods":"","home.history":"","home.today":"","home.yesterday":"","home.noFoods":"","home.noHistory":"","home.selectAmount":"","home.amount":"","home.unit":"","home.add":"","home.cancel":"","home.gram":"g","home.piece":"","home.addFromPhoto":"","home.barcodeScan":"","home.recipe":"","home.noMyFoodsRegistered":"","home.beef":"","home.pork":"","home.chicken":"","home.food":"","home.select":"","home.confirmAdd":"","home.originalAmount":"","home.changeAmount":"","profile.title":"","profile.userSettings":"","profile.userSettingsDescription":"","profile.debugMode":"","profile.debugModeDescription":"30","profile.debugModeOn":" ON: ","profile.debugModeOff":"OFF: ","profile.customFood":"","profile.customFoodDescription":"AI","profile.uiSettings":"UI","profile.uiSettingsDescription":"","profile.languageSettings":"","profile.nutrientTargets":"","profile.saltSettings":"","profile.saltType":"","profile.tableSalt":"","profile.seaSalt":"","profile.himalayanSalt":"","profile.celticSalt":"","profile.perShave":"","profile.carbTargetSettings":"","profile.dataManagement":"","profile.account":"","profile.accountDescription":"","profile.exportData":"","profile.exportDescription":"JSON","profile.importData":"","profile.importDescription":"JSON","profile.deleteData":"","profile.deleteDescription":"","profile.exportSuccess":"","profile.exportFailed":"","profile.importSuccess":"","profile.importFailed":"","profile.importConfirm":"","profile.navigateToUserSettings":"","profile.navigateToLanguage":"","profile.openCustomFood":"","profile.navigateToUISettings":"UI","profile.navigateToSaltSettings":"","profile.navigateToCarbTargetSettings":"","profile.navigateToAccount":"","profile.navigateToDataExport":"","profile.navigateToDataDelete":"","profile.navigateToFeedback":"","profile.navigateToPrivacyPolicy":"","profile.navigateToTermsOfService":"","settings.title":"","settings.general":"","settings.display":"","settings.notifications":"","settings.data":"","settings.about":"","settings.hideSection":"","history.title":"","history.noData":"","history.noDataDescription":"","history.date":"","history.food":"","history.amount":"","history.foodsEaten":"","history.reAdd":"","history.deleteConfirm":"","history.deleteFailed":"","history.7days":"7","history.30days":"30","history.all":"","history.summary":"","history.viewDetails":"","history.past7days":"7","history.past30days":"30","history.allPeriod":"","history.summaryOf":"","history.averageProtein":"","history.averageFat":"","history.recordedDays":"","history.days":"","history.violationRate":"","history.noLogs":"","history.items":"","history.violation":"","history.recovery":"","stats.title":"","stats.nutrientTrends":"","stats.weightTrends":"","stats.noData":"","diary.title":"","diary.physicalCondition":"","diary.mental":"","diary.physicalAbility":"","diary.save":"","diary.saving":"...","diary.saveFailed":"","diary.placeholder":"","diary.pastDiary":"","diary.noEntries":"","community.title":"","community.comingSoon":"","community.description":"","community.showConcept":"","community.conceptTitle":"","community.concept1":"","community.concept2":"AI","community.concept3":"","community.concept3Desc":"DiscordRedditX","community.concept4":"","community.concept4Desc":"AI","community.concept5":"","community.concept5Desc":"","community.concept6":"","community.concept6Desc":"","community.conversations":"","community.insights":"","community.patterns":"","community.consultation":"","community.conversationsTitle":"","community.comingSoonWarning":"","community.comingSoonDescription":"","community.conversationsDescription":"","community.threadDetail":"","community.insightsTitle":"","community.insightsDescription":"","community.insightsNote":" ","community.patternsTitle":"","community.patternsDescription":"","community.sampleSize":"","community.consultationTitle":"","community.consultationSubtitle":"","community.consultationDesc1":"","community.consultationDesc2":"","community.consultationDesc3":"","community.consultationDesc4":"AI","community.consultationNote":" ","community.exportData":"JSON","community.exportFailed":"","streak.title":"","streak.currentStreak":"","streak.phase":"","streak.days":"","customFood.title":"","customFood.add":"","customFood.edit":"","customFood.foodName":"","customFood.foodNameDescription":"AI","customFood.foodNamePlaceholder":"...","customFood.displayName":"","customFood.displayNameDescription":"","customFood.displayNamePlaceholder":"...","customFood.aiSuggest":"AI","customFood.analyzing":"...","customFood.nutrients":"","customFood.nutrientsPer100g":"100g","customFood.nutrientsDetailed":"","customFood.foodType":"","customFood.foodTypeAnimal":"","customFood.foodTypePlant":"","customFood.foodTypeTrash":"","customFood.nutrientsRequired":"","customFood.protein":"","customFood.fat":"","customFood.carbs":"","customFood.showDetails":"","customFood.hideDetails":"","customFood.additionalInfoNeeded":"","customFood.answerPlaceholder":"...","customFood.reanalyzing":"...","customFood.reanalyzeWithAnswer":"","customFood.nextTip":"Tips ","customFood.enterFoodName":"","customFood.analyzeFailed":"AI","customFood.saveFailed":"","customFood.saving":"...","customFood.save":"","customFood.cancel":"","customFood.antiNutrients":"","customFood.sodium":"","customFood.magnesium":"","customFood.potassium":"","customFood.zinc":"","customFood.iron":"","customFood.vitaminA":"A","customFood.vitaminD":"D","customFood.vitaminK2":"K2","customFood.vitaminB12":"B12","customFood.vitaminB7":"B7","customFood.choline":"","customFood.iodine":"","customFood.omega3":"3","customFood.omega6":"6","customFood.calcium":"","customFood.phosphorus":"","customFood.glycine":"","customFood.methionine":"","customFood.taurine":"","customFood.vitaminB5":"B5","customFood.vitaminB9":"B9","customFood.chromium":"","customFood.molybdenum":"","customFood.fluoride":"","customFood.chloride":"","customFood.boron":"","customFood.nickel":"","customFood.silicon":"","customFood.vanadium":"","customFood.phytates":"","customFood.oxalates":"","customFood.lectins":"","customFood.antiNutrientsDetailed":"","customFood.polyphenols":"","customFood.flavonoids":"","customFood.saponins":"","customFood.goitrogens":"","customFood.tannins":"","customFood.addToTodayLog":"","butcher.saltType":"","butcher.quantity":"","butcher.grind":"","butcher.perGrind":"1 (g)","butcher.resetToDefault":" (0.5g)","butcher.nutrientBreakdown":"","butcher.sortByPriority":"","butcher.sortByDeficiency":"","butcher.omega36Ratio":"3/6","butcher.omega6ExcessWarning":"6","butcher.omega6ExcessRisk":" 6","butcher.optimalRatioRange":" 1:1  1:4","butcher.biotinBlockedHint":"B7","butcher.magnesiumHint":": ","butcher.photoAnalysisFailed":"","butcher.piece":"","butcher.grindUnit":"","butcher.avoidZone":" Avoid Zone","butcher.collapse":" ","butcher.showMore":" ","butcher.add":"","butcher.plantProtein":"","butcher.vegetableOil":"","butcher.fiber":"","butcher.netCarbs":"NetCarbs","butcher.phytates":"","butcher.polyphenols":"","butcher.flavonoids":"","butcher.oxalates":"","butcher.lectins":"","butcher.saponins":"","butcher.goitrogens":"","butcher.tannins":"","shop.title":"","shop.pixelArtUI":"UI","shop.pixelArtUIDescription":"","shop.customization":"","shop.comingSoon":"","shop.debugMode":": ","shop.uiCustomization":"UI","shop.enablePixelArtUI":"UI","shop.disablePixelArtUI":"UI","shop.purchased":"","shop.freeDebugMode":"","shop.purchase":"","shop.purchaseSuccess":"{name}","shop.purchaseSuccessDebug":"{name}","shop.paymentPending":"","shop.enablePixelArtUISuccess":"UI","shop.disablePixelArtUISuccess":"UI","shop.paymentComingSoon":"{name}: {price}","recipe.title":"","recipe.createNew":"+ ","recipe.noRecipes":"","recipe.noRecipesDescription":"","recipe.use":"","recipe.edit":"","recipe.delete":"","recipe.createTitle":"","recipe.editTitle":"","recipe.name":"","recipe.nameRequired":"","recipe.description":"","recipe.descriptionPlaceholder":": ","recipe.foods":":","recipe.addFood":"+ ","recipe.noFoods":"","recipe.containsFoods":":","recipe.foodNamePrompt":":","recipe.amountPrompt":"g:","recipe.invalidAmount":"","recipe.saveFailed":"","recipe.deleteConfirm":"","recipe.deleteFailed":"","recipe.added":"{name}","recipe.namePlaceholder":": ","recipe.back":" ","recipe.cancel":"","recipe.save":"","input.title":"","input.search":"","input.searchPlaceholder":"...","input.noResults":"","auth.title":"","auth.email":"","auth.password":"","auth.login":"","auth.signup":"","auth.logout":"","nav.home":"","nav.homeAriaLabel":"","nav.profile":"","nav.profileAriaLabel":"","nav.mainNavigationAriaLabel":"","nav.history":"","nav.labs":"","nav.historyAriaLabel":"","nav.labsAriaLabel":"","common.processing":"...","common.yes":"","common.no":"","common.ok":"OK"},en:{"common.back":"Back","common.save":"Save","common.cancel":"Cancel","common.delete":"Delete","common.edit":"Edit","common.close":"Close","common.confirm":"Confirm","common.loading":"Loading...","common.error":"An error occurred","common.backAriaLabel":"Back","common.languageChangeFailed":"Failed to change language","common.days":"days","common.consecutive":"consecutive","common.items":"items","common.send":"Send","common.current":"Current","common.locale":"en-US","language.title":"Language Settings","language.description":"Select the display language for the app.","language.japanese":"","language.english":"English","language.french":"Franais","language.german":"Deutsch","language.chinese":"","gift.title":"Gift","gift.subtitle":"Support new members","gift.description":"Your Gift will become a discount for new users.","gift.currentStatus":"Current Status","gift.totalAmount":"Total Gift Amount","gift.newUsers":"New Users","gift.discountPerUser":"Current Discount","gift.messageLabel":"Message (optional)","gift.messagePlaceholder":"Enter a message for new users...","gift.messagePrivacy":"Privacy","gift.messagePublic":"Public","gift.messagePrivate":"Private","gift.purchaseButton":"Give 3,980 for 1 month","gift.purchaseNote":" 100% will be converted to discounts for new users","gift.purchaseSuccess":"Thank you for your contribution!","gift.myMessages":"My Messages","gift.myMessagesDescription":"Messages you wrote when sending Gifts in the past","gift.communityMessages":"Messages from the Community","gift.communityMessagesDescription":"Public messages written by other users when they sent Gifts","gift.publicMessages":"Public Messages","gift.noMessages":"No messages yet","gift.viewMessages":"View Messages","gift.viewPastMessages":"View Past Messages","gift.modeAmount":"Specify Amount","gift.modePeople":"Specify Number of People","gift.amountLabel":"Gift Amount (JPY)","gift.amountHint":" You can specify in 1 yen increments","gift.amountPeopleEquivalent":"people","gift.peopleLabel":"How many people to send to","gift.peopleHint":"Note:","gift.total":"Total","gift.people":"people","gift.perPerson":"/person","gift.sendGift":"Send Gift","gift.currency":"","gift.reply":"Reply","gift.replyPlaceholder":"Enter your reply...","labs.description":"Features implemented while deciding if they are essential","labs.diary":"Diary","labs.diaryDescription":"Record physical condition, mental state, physical abilities, etc.","labs.stats":"Statistics & Charts","labs.statsDescription":"Display nutrient trends and weight trends in charts","labs.community":"Community","labs.communityDescription":"Data-driven community features","labs.shop":"Shop","labs.shopDescription":"Purchase pixel art UI and other customization items.","labs.gift":"Gift","labs.giftDescription":"Support new members. 100% will be converted to discounts for new users.","labs.streakTracker":"Habit Tracker","labs.streakTrackerDescription":"Check streak","labs.tips":"Tips","labs.viewTipsList":"View Tips List","labs.tipsHistory":"Tips History & Favorites","labs.noTipsHistory":"No tips history yet","labs.tipsList":"Tips List","labs.tipsListAll":"All","labs.tipsListSaved":"Saved","labs.noSavedTips":"No saved tips yet","labs.tipBack":" Back","labs.tipNext":"Next ","labs.tipShare":" Share","labs.tipSaved":"Saved","labs.tipSave":"Save","labs.appIconGenerator":"App Icon Generator","home.addFood":"Add Food","home.myFoods":"My Foods","home.myFoodsTitle":"My Foods","home.addToMyFoods":"Add to My Foods","home.history":"History","home.addFromPhoto":"Add from Photo","home.barcodeScan":"Barcode Scan","home.recipe":"Recipe","home.noMyFoodsRegistered":"Not registered yet. You can register from history with the  button or create a new one from the create button.","home.today":"Today","home.yesterday":"Yesterday","home.noFoods":"No foods added yet","home.noHistory":"No history yet","home.selectAmount":"Select Amount","home.amount":"Amount","home.unit":"Unit","home.add":"Add","home.gram":"g","home.piece":"piece","profile.title":"Profile","profile.userSettings":"User Settings","profile.userSettingsDescription":"Basic information, goals, metabolic status, etc.","profile.debugMode":"Debug Mode","profile.debugModeDescription":"Show dummy data (30 days of sample data)","profile.debugModeOn":" Debug Mode ON: Dummy data is displayed","profile.debugModeOff":"Debug Mode OFF: Actual data is displayed","profile.customFood":"Custom Food Registration","profile.customFoodDescription":"Enter food name, AI suggests, edit and save","profile.uiSettings":"UI Settings","profile.uiSettingsDescription":"Font size, display settings, etc.","profile.languageSettings":"Language Settings","profile.nutrientTargets":"Nutrient Target Customization","profile.saltSettings":"Salt Settings","profile.saltType":"Salt Type","profile.tableSalt":"Table Salt","profile.seaSalt":"Sea Salt","profile.himalayanSalt":"Himalayan Salt","profile.celticSalt":"Celtic Salt","profile.perShave":"per shave","profile.carbTargetSettings":"Carb Target Settings","profile.dataManagement":"Data Management","profile.account":"Account","profile.accountDescription":"Account information and authentication settings","profile.exportData":"Export Data","profile.exportDescription":"Download all data in JSON format","profile.importData":"Import Data","profile.importDescription":"Import data in JSON format","profile.deleteData":"Delete Data","profile.deleteDescription":"Delete all data (cannot be undone)","profile.exportSuccess":"Data export succeeded","profile.exportFailed":"Data export failed","profile.importSuccess":"Data import succeeded","profile.importFailed":"Data import failed","profile.importConfirm":"Existing data will be overwritten. Continue?","profile.navigateToUserSettings":"Navigate to user settings screen","profile.navigateToLanguage":"Navigate to language settings screen","profile.openCustomFood":"Open custom food registration screen","profile.navigateToUISettings":"Navigate to UI settings screen","profile.navigateToSaltSettings":"Navigate to salt settings screen","profile.navigateToCarbTargetSettings":"Navigate to carbohydrate target settings screen","profile.navigateToAccount":"Navigate to account screen","profile.navigateToDataExport":"Navigate to data export screen","profile.navigateToDataDelete":"Navigate to data delete screen","profile.navigateToFeedback":"Navigate to feedback screen","profile.navigateToPrivacyPolicy":"Navigate to privacy policy screen","profile.navigateToTermsOfService":"Navigate to terms of service screen","settings.title":"Settings","settings.general":"General","settings.display":"Display","settings.notifications":"Notifications","settings.data":"Data","settings.about":"About","settings.hideSection":"Hide this section","history.title":"History","history.noData":"No data yet","history.date":"Date","history.food":"Food","history.amount":"Amount","history.7days":"7 days","history.30days":"30 days","history.all":"All","history.summary":"Summary","history.viewDetails":"View Details","history.past7days":"Past 7 days","history.past30days":"Past 30 days","history.allPeriod":"All period","history.summaryOf":"Summary of","history.averageProtein":"Average Protein","history.averageFat":"Average Fat","history.recordedDays":"Recorded Days","history.days":"days","history.violationRate":"Violation Rate","history.noLogs":"No logs","history.items":"items","history.violation":"Violation","history.recovery":"Recovery","stats.title":"Statistics & Charts","stats.nutrientTrends":"Nutrient Trends","stats.weightTrends":"Weight Trends","stats.noData":"No data yet","diary.title":"Diary","diary.physicalCondition":"Physical Condition","diary.mental":"Mental","diary.physicalAbility":"Physical Ability","diary.save":"Save","diary.noEntries":"No diary entries yet","community.title":"Community","community.comingSoon":"Coming Soon","community.description":"Data-driven community features","community.showConcept":"Show design concept","community.conceptTitle":"Community Design Concept","community.concept1":"Not just a place to make friends, but a huge laboratory where everyone becomes a subject.","community.concept2":"Your records are anonymized and integrated as collective intelligence. AI and specialists analyze this data to help your survival strategy.","community.concept3":"Superior to existing communities","community.concept3Desc":"Provides features from Discord, Reddit, X, etc.","community.concept4":"Conversation recording and utilization","community.concept4Desc":"All conversations in the community are saved to a database, and AI responds based on past conversations","community.concept5":"Collective intelligence","community.concept5Desc":"Extract practical patterns from anonymized data","community.concept6":"Data-driven","community.concept6Desc":'Consult with specialists using "medical records" instead of "conversations"',"community.conversations":"Conversations","community.insights":"Collective Intelligence","community.patterns":"Practice Patterns","community.consultation":"Specialist Consultation","community.conversationsTitle":"Community Conversations","community.comingSoonWarning":"Coming Soon","community.comingSoonDescription":"Community features will be implemented gradually, prioritizing security and performance. Currently showing mock data.","community.conversationsDescription":"User conversations are analyzed as data and become collective intelligence. You can make friends, or just contribute as data.","community.threadDetail":"Thread detail screen (preparing)","community.insightsTitle":"Community Collective Intelligence","community.insightsDescription":"Insights extracted from anonymized practice data. Your records also automatically contribute to collective intelligence.","community.insightsNote":" Initially, there may not be enough useful information due to limited data. As more users join, more useful collective intelligence will be generated.","community.patternsTitle":"Practice Patterns","community.patternsDescription":"Practical patterns extracted from your logs. In the future, they will be extracted from the entire community data.","community.sampleSize":"Sample size","community.consultationTitle":"Data-Driven Specialist Consultation","community.consultationSubtitle":'Consult using "medical records" instead of "conversations"',"community.consultationDesc1":'In traditional communities, you had to explain to doctors one by one: "What did you eat yesterday?" "What are your symptoms?"',"community.consultationDesc2":"In this app, by simply sharing your in-app stats (diet, excretion, weight trend graphs) with doctors, you can receive immediate surgical-level advice.","community.consultationDesc3":`Doctors don't need to ask "what did you eat" and can make immediate judgments by looking at data, enabling efficient and accurate medical care.`,"community.consultationDesc4":"Also, since AI automatically answers previously asked questions, you don't need to repeat the same questions.","community.consultationNote":" You can make friends, but it's not just that. Your conversations and data are integrated as collective intelligence and help other users' survival strategies.","community.exportData":"Export Data (JSON format)","community.exportFailed":"Failed to export data.","streak.title":"Habit Tracker","streak.currentStreak":"Current Streak","streak.phase":"Phase","streak.days":"days","customFood.title":"Custom Food Registration","customFood.add":"Custom Food Registration","customFood.edit":"Edit Custom Food","customFood.foodName":"Food Name","customFood.foodNameDescription":"Enter food name and press AI Suggest button","customFood.foodNamePlaceholder":"Enter food name...","customFood.displayName":"Display Name","customFood.displayNameDescription":"Name used for search and display (can be same as food name)","customFood.displayNamePlaceholder":"Enter display name...","customFood.aiSuggest":"AI Suggest","customFood.analyzing":"Analyzing...","customFood.nutrients":"Nutrients","customFood.nutrientsPer100g":"Nutrients per 100g","customFood.nutrientsDetailed":"Nutrients (Detailed)","customFood.foodType":"Food Type","customFood.foodTypeAnimal":"Animal","customFood.foodTypePlant":"Plant","customFood.foodTypeTrash":"Avoid","customFood.nutrientsRequired":"Nutrients (Required) - Review & Edit","customFood.protein":"Protein","customFood.fat":"Fat","customFood.carbs":"Carbs","customFood.showDetails":"Show Details","customFood.hideDetails":"Hide Details","customFood.additionalInfoNeeded":"Additional information needed","customFood.answerPlaceholder":"Enter answer...","customFood.reanalyzing":"Re-analyzing...","customFood.reanalyzeWithAnswer":"Re-analyze with Answer","customFood.nextTip":"Next Tip ","customFood.enterFoodName":"Please enter food name","customFood.analyzeFailed":"AI analysis failed","customFood.saveFailed":"Save failed","customFood.saving":"Saving...","customFood.save":"Save","customFood.cancel":"Cancel","customFood.antiNutrients":"Anti-nutrients","customFood.sodium":"Sodium","customFood.magnesium":"Magnesium","customFood.potassium":"Potassium","customFood.zinc":"Zinc","customFood.iron":"Iron","customFood.vitaminA":"Vitamin A","customFood.vitaminD":"Vitamin D","customFood.vitaminK2":"Vitamin K2","customFood.vitaminB12":"Vitamin B12","customFood.vitaminB7":"Vitamin B7 (Biotin)","customFood.choline":"Choline","customFood.iodine":"Iodine","customFood.omega3":"Omega-3","customFood.omega6":"Omega-6","customFood.calcium":"Calcium","customFood.phosphorus":"Phosphorus","customFood.glycine":"Glycine","customFood.methionine":"Methionine","customFood.taurine":"Taurine","customFood.vitaminB5":"Vitamin B5","customFood.vitaminB9":"Vitamin B9","customFood.chromium":"Chromium","customFood.molybdenum":"Molybdenum","customFood.fluoride":"Fluoride","customFood.chloride":"Chloride","customFood.boron":"Boron","customFood.nickel":"Nickel","customFood.silicon":"Silicon","customFood.vanadium":"Vanadium","customFood.phytates":"Phytates","customFood.oxalates":"Oxalates","customFood.lectins":"Lectins","customFood.antiNutrientsDetailed":"Anti-nutrients (Detailed)","customFood.polyphenols":"Polyphenols","customFood.flavonoids":"Flavonoids","customFood.saponins":"Saponins","customFood.goitrogens":"Goitrogens","customFood.tannins":"Tannins","customFood.addToTodayLog":"Add to today's log","butcher.saltType":"Salt Type","butcher.quantity":"Quantity","butcher.grind":"grind","butcher.perGrind":"Amount per grind (g)","butcher.resetToDefault":"Reset to default (0.5g)","butcher.nutrientBreakdown":"Nutrient Breakdown","butcher.sortByPriority":"By Priority","butcher.sortByDeficiency":"By Deficiency","butcher.omega36Ratio":"Omega 3/6 Ratio","butcher.omega6ExcessWarning":"Excess omega-6 causes inflammation. It is recommended to increase grass-fed beef and seafood.","butcher.omega6ExcessRisk":"Excess omega-6 (inflammation risk) Please add fish or fish eggs","butcher.optimalRatioRange":"Within recommended ratio range (1:1 to 1:4)","butcher.biotinBlockedHint":"Since you are consuming raw eggs, vitamin B7 (biotin) absorption may be inhibited. It is recommended to consume cooked eggs.","butcher.magnesiumHint":"Current: Slightly deficient. Can be supplemented with mineral water or salt","butcher.photoAnalysisFailed":"Photo analysis failed. Please try again.","butcher.piece":"piece","butcher.grindUnit":"grind","butcher.avoidZone":" Avoid Zone (Things to Avoid)","butcher.collapse":" Collapse","butcher.showMore":" Show More (Antinutrients)","butcher.add":"Add","butcher.plantProtein":"Plant Protein","butcher.vegetableOil":"Vegetable Oil","butcher.fiber":"Fiber","butcher.netCarbs":"Net Carbs","butcher.phytates":"Phytates","butcher.polyphenols":"Polyphenols","butcher.flavonoids":"Flavonoids","butcher.oxalates":"Oxalates","butcher.lectins":"Lectins","butcher.saponins":"Saponins","butcher.goitrogens":"Goitrogens","butcher.tannins":"Tannins","shop.title":"Shop","shop.pixelArtUI":"Pixel Art UI","shop.customization":"Customization Items","shop.comingSoon":"Coming Soon","shop.purchaseSuccess":"{name} purchased!","shop.purchaseSuccessDebug":"{name} purchased (Debug Mode)","shop.paymentPending":"Payment feature is currently under development. Please wait.","shop.enablePixelArtUISuccess":"Pixel Art UI enabled. Reloading page...","shop.disablePixelArtUISuccess":"Pixel Art UI disabled. Reloading page...","shop.paymentComingSoon":"Payment processing coming soon ({name}: {price})","recipe.title":"Recipe","recipe.createNew":"+ Create New Recipe","recipe.noRecipes":"No recipes","recipe.noRecipesDescription":"You can save frequently eaten combinations as recipes","recipe.use":"Use","recipe.edit":"Edit","recipe.delete":"Delete","recipe.createTitle":"Create New Recipe","recipe.editTitle":"Edit Recipe","recipe.name":"Recipe Name","recipe.nameRequired":"Please enter recipe name","recipe.description":"Description (Optional)","recipe.descriptionPlaceholder":"Example: Frequently eaten breakfast combination","recipe.foods":"Foods:","recipe.addFood":"+ Add Food","recipe.noFoods":"No foods","recipe.containsFoods":"Contains Foods:","recipe.foodNamePrompt":"Please enter food name:","recipe.amountPrompt":"Please enter amount (g):","recipe.invalidAmount":"Please enter a valid amount","recipe.saveFailed":"Failed to save recipe","recipe.deleteConfirm":"Delete this recipe?","recipe.deleteFailed":"Failed to delete recipe","recipe.added":"Added {name}","recipe.namePlaceholder":"Example: Breakfast Set","recipe.back":" Back","recipe.cancel":"Cancel","recipe.save":"Save","input.title":"Food Input","input.search":"Search","input.searchPlaceholder":"Search by food name...","input.noResults":"No search results","auth.title":"Login","auth.email":"Email","auth.password":"Password","auth.login":"Login","auth.signup":"Sign Up","auth.logout":"Logout","nav.home":"Home","nav.homeAriaLabel":"Home screen","nav.profile":"Settings","nav.profileAriaLabel":"Settings screen","nav.mainNavigationAriaLabel":"Main navigation","nav.history":"History","nav.labs":"Other","nav.historyAriaLabel":"History screen","nav.labsAriaLabel":"Other screen","common.processing":"Processing...","common.yes":"Yes","common.no":"No","common.ok":"OK"},fr:{"common.back":"Retour","common.save":"Enregistrer","common.cancel":"Annuler","common.delete":"Supprimer","common.edit":"Modifier","common.close":"Fermer","common.confirm":"Confirmer","common.loading":"Chargement...","common.error":"Une erreur est survenue","common.backAriaLabel":"Retour","common.languageChangeFailed":"chec du changement de langue","common.days":"jours","common.consecutive":"conscutifs","common.items":"lments","common.send":"Envoyer","common.current":"Actuel","common.locale":"fr-FR","language.title":"Paramtres de langue","language.description":"Slectionnez la langue d'affichage de l'application.","language.japanese":"","language.english":"English","language.french":"Franais","language.german":"Deutsch","language.chinese":"","gift.title":"Cadeau","gift.subtitle":"Soutenez les nouveaux membres","gift.description":"Votre cadeau deviendra une rduction pour les nouveaux utilisateurs.","gift.currentStatus":"Statut actuel","gift.totalAmount":"Montant total des cadeaux","gift.newUsers":"Nouveaux utilisateurs","gift.discountPerUser":"Rduction actuelle","gift.messageLabel":"Message (optionnel)","gift.messagePlaceholder":"Entrez un message pour les nouveaux utilisateurs...","gift.messagePrivacy":"Confidentialit","gift.messagePublic":"Public","gift.messagePrivate":"Priv","gift.purchaseButton":"Offrir 3,980 pour 1 mois","gift.purchaseNote":" 100% sera converti en rductions pour les nouveaux utilisateurs","gift.purchaseSuccess":"Merci pour votre contribution !","gift.myMessages":"Mes messages","gift.myMessagesDescription":"Messages que vous avez crits lors de l'envoi de cadeaux dans le pass","gift.communityMessages":"Messages de la communaut","gift.communityMessagesDescription":"Messages publics crits par d'autres utilisateurs lors de l'envoi de cadeaux","gift.publicMessages":"Messages publics","gift.noMessages":"Aucun message pour le moment","gift.viewMessages":"Voir les messages","gift.viewPastMessages":"Voir les messages passs","gift.modeAmount":"Spcifier le montant","gift.modePeople":"Spcifier le nombre de personnes","gift.amountLabel":"Montant du cadeau (JPY)","gift.amountHint":" Vous pouvez spcifier par incrments de 1 yen","gift.amountPeopleEquivalent":"personnes","gift.peopleLabel":"Combien de personnes envoyer","gift.peopleHint":"Note:","gift.total":"Total","gift.people":"personnes","gift.perPerson":"/personne","gift.sendGift":"Envoyer le cadeau","gift.currency":"","gift.reply":"Rpondre","gift.replyPlaceholder":"Entrez votre rponse...","labs.description":"Fonctionnalits implmentes en dcidant si elles sont essentielles","labs.diary":"Journal","labs.diaryDescription":"Enregistrer l'tat physique, mental, capacits physiques, etc.","labs.stats":"Statistiques et graphiques","labs.statsDescription":"Afficher les tendances nutritionnelles et les tendances de poids dans des graphiques","labs.community":"Communaut","labs.communityDescription":"Fonctionnalits communautaires bases sur les donnes","labs.shop":"Boutique","labs.shopDescription":"Achetez des UI en pixel art et d'autres articles de personnalisation.","labs.gift":"Cadeau","labs.giftDescription":"Soutenez les nouveaux membres. 100% sera converti en rductions pour les nouveaux utilisateurs.","labs.streakTracker":"Suivi des habitudes","labs.streakTrackerDescription":"Vrifier la srie","labs.tips":"Conseils","labs.viewTipsList":"Voir la liste des conseils","labs.tipsHistory":"Historique et favoris des conseils","labs.noTipsHistory":"Aucun historique de conseils pour le moment","labs.tipsList":"Liste des conseils","labs.tipsListAll":"Tous","labs.tipsListSaved":"Enregistrs","labs.noSavedTips":"Aucun conseil enregistr pour le moment","labs.tipBack":" Retour","labs.tipNext":"Suivant ","labs.tipShare":" Partager","labs.tipSaved":"Enregistr","labs.tipSave":"Enregistrer","labs.appIconGenerator":"Gnrateur d'icne d'application","history.title":"Historique","history.noData":"Aucune donne pour le moment","history.date":"Date","history.food":"Aliment","history.amount":"Quantit","history.7days":"7 jours","history.30days":"30 jours","history.all":"Tout","history.summary":"Rsum","history.viewDetails":"Voir les dtails","history.past7days":"7 derniers jours","history.past30days":"30 derniers jours","history.allPeriod":"Toute la priode","history.summaryOf":"Rsum de","history.averageProtein":"Protines moyennes","history.averageFat":"Graisses moyennes","history.recordedDays":"Jours enregistrs","history.days":"jours","history.violationRate":"Taux de violation","history.noLogs":"Aucun journal","history.items":"articles","history.violation":"Violation","history.recovery":"Rcupration","nav.home":"Accueil","nav.homeAriaLabel":"cran d'accueil","nav.profile":"Paramtres","nav.profileAriaLabel":"cran de paramtres","nav.mainNavigationAriaLabel":"Navigation principale","nav.history":"Historique","nav.labs":"Autre","nav.historyAriaLabel":"cran d'historique","nav.labsAriaLabel":"cran autre","home.addFood":"Ajouter un aliment","home.myFoods":"Mes aliments","home.myFoodsTitle":"Mes aliments","home.addToMyFoods":"Ajouter  mes aliments","home.history":"Historique","home.addFromPhoto":"Ajouter depuis une photo","home.barcodeScan":"Scanner le code-barres","home.recipe":"Recette","home.noMyFoodsRegistered":"Pas encore enregistr. Vous pouvez enregistrer depuis l'historique avec le bouton  ou en crer un nouveau depuis le bouton de cration.","home.today":"Aujourd'hui","home.yesterday":"Hier","home.noFoods":"Aucun aliment ajout pour le moment","home.noHistory":"Aucun historique pour le moment","home.selectAmount":"Slectionner la quantit","home.amount":"Quantit","home.unit":"Unit","home.add":"Ajouter","home.gram":"g","home.piece":"pice","profile.title":"Profil","profile.userSettings":"Paramtres utilisateur","profile.userSettingsDescription":"Informations de base, objectifs, tat mtabolique, etc.","profile.debugMode":"Mode dbogage","profile.debugModeDescription":"Afficher des donnes fictives (30 jours de donnes d'chantillon)","profile.debugModeOn":" Mode dbogage ON: Les donnes fictives sont affiches","profile.debugModeOff":"Mode dbogage OFF: Les donnes relles sont affiches","profile.customFood":"Enregistrement d'aliment personnalis","profile.customFoodDescription":"Entrez le nom de l'aliment, l'IA suggre, modifiez et enregistrez","profile.uiSettings":"Paramtres UI","profile.uiSettingsDescription":"Taille de police, paramtres d'affichage, etc.","profile.languageSettings":"Paramtres de langue","profile.nutrientTargets":"Personnalisation des objectifs nutritionnels","profile.saltSettings":"Paramtres de sel","profile.saltType":"Type de sel","profile.tableSalt":"Sel de table","profile.seaSalt":"Sel de mer","profile.himalayanSalt":"Sel de l'Himalaya","profile.celticSalt":"Sel celtique","profile.perShave":"par tour","profile.carbTargetSettings":"Paramtres d'objectif de glucides","profile.dataManagement":"Gestion des donnes","profile.account":"Compte","profile.accountDescription":"Informations de compte et paramtres d'authentification","profile.exportData":"Exporter les donnes","profile.exportDescription":"Tlcharger toutes les donnes au format JSON","profile.importData":"Importer les donnes","profile.importDescription":"Importer des donnes au format JSON","profile.deleteData":"Supprimer les donnes","profile.deleteDescription":"Supprimer toutes les donnes (ne peut pas tre annul)","profile.exportSuccess":"Exportation des donnes russie","profile.exportFailed":"Exportation des donnes choue","profile.importSuccess":"Importation des donnes russie","profile.importFailed":"Importation des donnes choue","profile.importConfirm":"Les donnes existantes seront crases. Continuer?","profile.navigateToUserSettings":"Naviguer vers l'cran des paramtres utilisateur","profile.navigateToLanguage":"Naviguer vers l'cran des paramtres de langue","profile.openCustomFood":"Ouvrir l'cran d'enregistrement d'aliment personnalis","profile.navigateToUISettings":"Naviguer vers l'cran des paramtres UI","profile.navigateToSaltSettings":"Naviguer vers l'cran des paramtres de sel","profile.navigateToCarbTargetSettings":"Naviguer vers l'cran des paramtres d'objectif de glucides","profile.navigateToAccount":"Naviguer vers l'cran du compte","profile.navigateToDataExport":"Naviguer vers l'cran d'exportation des donnes","profile.navigateToDataDelete":"Naviguer vers l'cran de suppression des donnes","profile.navigateToFeedback":"Naviguer vers l'cran de commentaires","profile.navigateToPrivacyPolicy":"Naviguer vers l'cran de la politique de confidentialit","profile.navigateToTermsOfService":"Naviguer vers l'cran des conditions d'utilisation","community.title":"Communaut","community.comingSoon":"Bientt disponible","community.description":"Fonctionnalits communautaires bases sur les donnes","community.showConcept":"Afficher le concept de conception","community.conceptTitle":"Concept de conception de la communaut","community.concept1":"Non seulement un lieu pour se faire des amis, mais un norme laboratoire o tout le monde devient un sujet.","community.concept2":"Vos enregistrements sont anonymiss et intgrs comme intelligence collective. L'IA et les spcialistes analysent ces donnes pour aider votre stratgie de survie.","community.concept3":"Suprieur aux communauts existantes","community.concept3Desc":"Fournit des fonctionnalits de Discord, Reddit, X, etc.","community.concept4":"Enregistrement et utilisation des conversations","community.concept4Desc":"Toutes les conversations dans la communaut sont enregistres dans une base de donnes, et l'IA rpond en fonction des conversations passes","community.concept5":"Intelligence collective","community.concept5Desc":"Extraire des modles pratiques des donnes anonymises","community.concept6":"Ax sur les donnes","community.concept6Desc":'Consulter des spcialistes en utilisant "dossiers mdicaux" au lieu de "conversations"',"community.conversations":"Conversations","community.insights":"Intelligence collective","community.patterns":"Modles de pratique","community.consultation":"Consultation spcialise","community.conversationsTitle":"Conversations communautaires","community.comingSoonWarning":"Bientt disponible","community.comingSoonDescription":"Les fonctionnalits communautaires seront implmentes progressivement, en privilgiant la scurit et les performances. Affichage actuellement des donnes fictives.","community.conversationsDescription":"Les conversations des utilisateurs sont analyses comme donnes et deviennent une intelligence collective. Vous pouvez vous faire des amis, ou simplement contribuer comme donnes.","community.threadDetail":"cran de dtail du fil (en prparation)","community.insightsTitle":"Intelligence collective de la communaut","community.insightsDescription":"Insights extraits des donnes de pratique anonymises. Vos enregistrements contribuent galement automatiquement  l'intelligence collective.","community.insightsNote":" Au dbut, il peut ne pas y avoir suffisamment d'informations utiles en raison de donnes limites.  mesure que plus d'utilisateurs rejoignent, une intelligence collective plus utile sera gnre.","community.patternsTitle":"Modles de pratique","community.patternsDescription":"Modles pratiques extraits de vos journaux.  l'avenir, ils seront extraits des donnes de toute la communaut.","community.sampleSize":"Taille de l'chantillon","community.consultationTitle":"Consultation spcialise axe sur les donnes","community.consultationSubtitle":'Consulter en utilisant "dossiers mdicaux" au lieu de "conversations"',"community.consultationDesc1":`Dans les communauts traditionnelles, vous deviez expliquer aux mdecins un par un: "Qu'avez-vous mang hier?" "Quels sont vos symptmes?"`,"community.consultationDesc2":"Dans cette application, en partageant simplement vos statistiques dans l'application (graphiques de tendances de rgime, d'excrtion, de poids) avec les mdecins, vous pouvez recevoir des conseils immdiats de niveau chirurgical.","community.consultationDesc3":`Les mdecins n'ont pas besoin de demander "qu'avez-vous mang" et peuvent faire des jugements immdiats en regardant les donnes, permettant des soins mdicaux efficaces et prcis.`,"community.consultationDesc4":"De plus, puisque l'IA rpond automatiquement aux questions prcdemment poses, vous n'avez pas besoin de rpter les mmes questions.","community.consultationNote":" Vous pouvez vous faire des amis, mais ce n'est pas seulement a. Vos conversations et donnes sont intgres comme intelligence collective et aident les stratgies de survie d'autres utilisateurs.","community.exportData":"Exporter les donnes (format JSON)","community.exportFailed":"chec de l'exportation des donnes.","butcher.saltType":"Type de sel","butcher.quantity":"Quantit","butcher.grind":"tour","butcher.perGrind":"Quantit par tour (g)","butcher.resetToDefault":"Rinitialiser par dfaut (0.5g)","butcher.nutrientBreakdown":"Rpartition des nutriments","butcher.sortByPriority":"Par priorit","butcher.sortByDeficiency":"Par carence","butcher.omega36Ratio":"Ratio Omga 3/6","butcher.omega6ExcessWarning":"L'excs d'omga-6 cause l'inflammation. Il est recommand d'augmenter le buf nourri  l'herbe et les fruits de mer.","butcher.omega6ExcessRisk":"Excs d'omga-6 (risque d'inflammation) Veuillez ajouter du poisson ou des ufs de poisson","butcher.optimalRatioRange":"Dans la plage de ratio recommande (1:1  1:4)","butcher.biotinBlockedHint":"Comme vous consommez des ufs crus, l'absorption de la vitamine B7 (biotine) peut tre inhibe. Il est recommand de consommer des ufs cuits.","butcher.magnesiumHint":"Actuel: Lgrement dficient. Peut tre complt avec de l'eau minrale ou du sel","butcher.photoAnalysisFailed":"L'analyse de la photo a chou. Veuillez ressayer.","butcher.piece":"pice","butcher.grindUnit":"tour","butcher.avoidZone":" Zone  viter (Choses  viter)","butcher.collapse":" Rduire","butcher.showMore":" Voir plus (Antinutriments)","butcher.add":"Ajouter","butcher.plantProtein":"Protine vgtale","butcher.vegetableOil":"Huile vgtale","butcher.fiber":"Fibre","butcher.netCarbs":"Glucides nets","butcher.phytates":"Phytates","butcher.polyphenols":"Polyphnols","butcher.flavonoids":"Flavonodes","butcher.oxalates":"Oxalates","butcher.lectins":"Lectines","butcher.saponins":"Saponines","butcher.goitrogens":"Goitrognes","butcher.tannins":"Tanins","shop.title":"Boutique","shop.pixelArtUI":"UI Pixel Art","shop.customization":"Articles de personnalisation","shop.comingSoon":"Bientt disponible","shop.purchaseSuccess":"{name} achet !","shop.purchaseSuccessDebug":"{name} achet (Mode Debug)","shop.paymentPending":"La fonctionnalit de paiement est actuellement en cours de dveloppement. Veuillez patienter.","shop.enablePixelArtUISuccess":"UI Pixel Art active. Rechargement de la page...","shop.disablePixelArtUISuccess":"UI Pixel Art dsactive. Rechargement de la page...","shop.paymentComingSoon":"Traitement des paiements  venir ({name}: {price})","settings.title":"Paramtres","settings.general":"Gnral","settings.display":"Affichage","settings.notifications":"Notifications","settings.data":"Donnes","settings.about":" propos","settings.hideSection":"Masquer cette section","recipe.title":"Recette","recipe.createNew":"+ Crer une nouvelle recette","recipe.noRecipes":"Aucune recette","recipe.noRecipesDescription":"Vous pouvez enregistrer des combinaisons frquemment consommes comme recettes","recipe.use":"Utiliser","recipe.edit":"Modifier","recipe.delete":"Supprimer","recipe.createTitle":"Crer une nouvelle recette","recipe.editTitle":"Modifier la recette","recipe.name":"Nom de la recette","recipe.nameRequired":"Veuillez entrer le nom de la recette","recipe.description":"Description (optionnelle)","recipe.descriptionPlaceholder":"Exemple: Combinaison de petit-djeuner frquemment consomme","recipe.foods":"Aliments:","recipe.addFood":"+ Ajouter un aliment","recipe.noFoods":"Aucun aliment","recipe.containsFoods":"Aliments contenus:","recipe.foodNamePrompt":"Veuillez entrer le nom de l'aliment:","recipe.amountPrompt":"Veuillez entrer la quantit (g):","recipe.invalidAmount":"Veuillez entrer une quantit valide","recipe.saveFailed":"chec de l'enregistrement de la recette","recipe.deleteConfirm":"Supprimer cette recette?","recipe.deleteFailed":"chec de la suppression de la recette","recipe.added":"{name} ajout","recipe.namePlaceholder":"Exemple: Petit-djeuner","recipe.back":" Retour","recipe.cancel":"Annuler","recipe.save":"Enregistrer"},de:{"common.back":"Zurck","common.save":"Speichern","common.cancel":"Abbrechen","common.delete":"Lschen","common.edit":"Bearbeiten","common.close":"Schlieen","common.confirm":"Besttigen","common.loading":"Ldt...","common.error":"Ein Fehler ist aufgetreten","common.backAriaLabel":"Zurck","common.languageChangeFailed":"Sprachnderung fehlgeschlagen","common.days":"Tage","common.consecutive":"hintereinander","common.items":"Elemente","common.send":"Senden","common.current":"Aktuell","common.locale":"de-DE","language.title":"Spracheinstellungen","language.description":"Whlen Sie die Anzeigesprache fr die App.","language.japanese":"","language.english":"English","language.french":"Franais","language.german":"Deutsch","language.chinese":"","gift.title":"Geschenk","gift.subtitle":"Neue Mitglieder untersttzen","gift.description":"Ihr Geschenk wird zu einem Rabatt fr neue Benutzer.","gift.currentStatus":"Aktueller Status","gift.totalAmount":"Gesamtbetrag der Geschenke","gift.newUsers":"Neue Benutzer","gift.discountPerUser":"Aktueller Rabatt","gift.messageLabel":"Nachricht (optional)","gift.messagePlaceholder":"Geben Sie eine Nachricht fr neue Benutzer ein...","gift.messagePrivacy":"Datenschutz","gift.messagePublic":"ffentlich","gift.messagePrivate":"Privat","gift.purchaseButton":"3,980 fr 1 Monat geben","gift.purchaseNote":" 100% wird in Rabatte fr neue Benutzer umgewandelt","gift.purchaseSuccess":"Vielen Dank fr Ihren Beitrag!","gift.myMessages":"Meine Nachrichten","gift.myMessagesDescription":"Nachrichten, die Sie beim Versenden von Geschenken in der Vergangenheit geschrieben haben","gift.communityMessages":"Nachrichten von der Gemeinschaft","gift.communityMessagesDescription":"ffentliche Nachrichten, die von anderen Benutzern beim Versenden von Geschenken geschrieben wurden","gift.publicMessages":"ffentliche Nachrichten","gift.noMessages":"Noch keine Nachrichten","gift.viewMessages":"Nachrichten anzeigen","gift.viewPastMessages":"Vergangene Nachrichten anzeigen","gift.modeAmount":"Betrag angeben","gift.modePeople":"Anzahl der Personen angeben","gift.amountLabel":"Geschenkbetrag (JPY)","gift.amountHint":" Sie knnen in 1-Yen-Schritten angeben","gift.amountPeopleEquivalent":"Personen","gift.peopleLabel":"An wie viele Personen senden","gift.peopleHint":"Hinweis:","gift.total":"Gesamt","gift.people":"Personen","gift.perPerson":"/Person","gift.sendGift":"Geschenk senden","gift.currency":"","gift.reply":"Antworten","gift.replyPlaceholder":"Geben Sie Ihre Antwort ein...","labs.description":"Funktionen, die implementiert wurden, whrend entschieden wurde, ob sie wesentlich sind","labs.diary":"Tagebuch","labs.diaryDescription":"Krperlichen Zustand, geistigen Zustand, krperliche Fhigkeiten usw. aufzeichnen","labs.stats":"Statistiken & Diagramme","labs.statsDescription":"Nhrstofftrends und Gewichtstrends in Diagrammen anzeigen","labs.community":"Gemeinschaft","labs.communityDescription":"Datengetriebene Community-Funktionen","labs.shop":"Shop","labs.shopDescription":"Pixel-Art-UI und andere Anpassungsartikel kaufen.","labs.gift":"Geschenk","labs.giftDescription":"Neue Mitglieder untersttzen. 100% wird in Rabatte fr neue Benutzer umgewandelt.","labs.streakTracker":"Gewohnheits-Tracker","labs.streakTrackerDescription":"Serie berprfen","labs.tips":"Tipps","labs.viewTipsList":"Tippsliste anzeigen","labs.tipsHistory":"Tipps-Verlauf & Favoriten","labs.noTipsHistory":"Noch kein Tipps-Verlauf","labs.tipsList":"Tippsliste","labs.tipsListAll":"Alle","labs.tipsListSaved":"Gespeichert","labs.noSavedTips":"Noch keine gespeicherten Tipps","labs.tipBack":" Zurck","labs.tipNext":"Weiter ","labs.tipShare":" Teilen","labs.tipSaved":"Gespeichert","labs.tipSave":"Speichern","labs.appIconGenerator":"App-Icon-Generator","history.title":"Verlauf","history.noData":"Noch keine Daten","history.date":"Datum","history.food":"Lebensmittel","history.amount":"Menge","history.7days":"7 Tage","history.30days":"30 Tage","history.all":"Alle","history.summary":"Zusammenfassung","history.viewDetails":"Details anzeigen","history.past7days":"Letzte 7 Tage","history.past30days":"Letzte 30 Tage","history.allPeriod":"Gesamter Zeitraum","history.summaryOf":"Zusammenfassung von","history.averageProtein":"Durchschnittliches Protein","history.averageFat":"Durchschnittliches Fett","history.recordedDays":"Aufgezeichnete Tage","history.days":"Tage","history.violationRate":"Verstorate","history.noLogs":"Keine Protokolle","history.items":"Artikel","history.violation":"Versto","history.recovery":"Wiederherstellung","nav.home":"Startseite","nav.homeAriaLabel":"Startseitenbildschirm","nav.profile":"Einstellungen","nav.profileAriaLabel":"Einstellungsbildschirm","nav.mainNavigationAriaLabel":"Hauptnavigation","nav.history":"Verlauf","nav.labs":"Andere","nav.historyAriaLabel":"Verlaufbildschirm","nav.labsAriaLabel":"Andere Bildschirm","profile.title":"Profil","profile.userSettings":"Benutzereinstellungen","profile.userSettingsDescription":"Grundinformationen, Ziele, Stoffwechselstatus usw.","profile.debugMode":"Debug-Modus","profile.debugModeDescription":"Dummydaten anzeigen (30 Tage Beispieldaten)","profile.debugModeOn":" Debug-Modus EIN: Dummydaten werden angezeigt","profile.debugModeOff":"Debug-Modus AUS: Tatschliche Daten werden angezeigt","profile.customFood":"Benutzerdefinierte Lebensmittelregistrierung","profile.customFoodDescription":"Lebensmittelname eingeben, KI schlgt vor, bearbeiten und speichern","profile.uiSettings":"UI-Einstellungen","profile.uiSettingsDescription":"Schriftgre, Anzeigeeinstellungen usw.","profile.languageSettings":"Spracheinstellungen","profile.nutrientTargets":"Anpassung der Nhrstoffziele","profile.saltSettings":"Salzeinstellungen","profile.saltType":"Salztyp","profile.tableSalt":"Tafelsalz","profile.seaSalt":"Meersalz","profile.himalayanSalt":"Himalaya-Salz","profile.celticSalt":"Keltisches Salz","profile.perShave":"pro Drehung","profile.carbTargetSettings":"Kohlenhydratziel-Einstellungen","profile.dataManagement":"Datenverwaltung","profile.account":"Konto","profile.accountDescription":"Kontoinformationen und Authentifizierungseinstellungen","profile.exportData":"Daten exportieren","profile.exportDescription":"Alle Daten im JSON-Format herunterladen","profile.importData":"Daten importieren","profile.importDescription":"Daten im JSON-Format importieren","profile.deleteData":"Daten lschen","profile.deleteDescription":"Alle Daten lschen (kann nicht rckgngig gemacht werden)","profile.exportSuccess":"Datenexport erfolgreich","profile.exportFailed":"Datenexport fehlgeschlagen","profile.importSuccess":"Datenimport erfolgreich","profile.importFailed":"Datenimport fehlgeschlagen","profile.importConfirm":"Vorhandene Daten werden berschrieben. Fortfahren?","profile.navigateToUserSettings":"Zu den Benutzereinstellungen navigieren","profile.navigateToLanguage":"Zu den Spracheinstellungen navigieren","profile.openCustomFood":"Benutzerdefinierte Lebensmittelregistrierung ffnen","profile.navigateToUISettings":"Zu den UI-Einstellungen navigieren","profile.navigateToSaltSettings":"Zu den Salzeinstellungen navigieren","profile.navigateToCarbTargetSettings":"Zu den Kohlenhydratziel-Einstellungen navigieren","profile.navigateToAccount":"Zum Konto-Bildschirm navigieren","profile.navigateToDataExport":"Zum Datenexport-Bildschirm navigieren","profile.navigateToDataDelete":"Zum Datenlsch-Bildschirm navigieren","profile.navigateToFeedback":"Zum Feedback-Bildschirm navigieren","profile.navigateToPrivacyPolicy":"Zum Datenschutzrichtlinien-Bildschirm navigieren","profile.navigateToTermsOfService":"Zum Nutzungsbedingungen-Bildschirm navigieren","community.title":"Gemeinschaft","community.comingSoon":"Demnchst verfgbar","community.description":"Datengetriebene Community-Funktionen","community.showConcept":"Designkonzept anzeigen","community.conceptTitle":"Community-Designkonzept","community.concept1":"Nicht nur ein Ort, um Freunde zu finden, sondern ein riesiges Labor, in dem jeder zum Subjekt wird.","community.concept2":"Ihre Aufzeichnungen werden anonymisiert und als kollektive Intelligenz integriert. KI und Spezialisten analysieren diese Daten, um Ihre berlebensstrategie zu untersttzen.","community.concept3":"berlegen zu bestehenden Gemeinschaften","community.concept3Desc":"Bietet Funktionen von Discord, Reddit, X usw.","community.concept4":"Gesprchsaufzeichnung und -nutzung","community.concept4Desc":"Alle Gesprche in der Gemeinschaft werden in einer Datenbank gespeichert, und die KI antwortet basierend auf vergangenen Gesprchen","community.concept5":"Kollektive Intelligenz","community.concept5Desc":"Praktische Muster aus anonymisierten Daten extrahieren","community.concept6":"Datengetrieben","community.concept6Desc":'Mit Spezialisten unter Verwendung von "Krankenakten" statt "Gesprchen" konsultieren',"community.conversations":"Gesprche","community.insights":"Kollektive Intelligenz","community.patterns":"Praxis-Muster","community.consultation":"Spezialistenberatung","community.conversationsTitle":"Community-Gesprche","community.comingSoonWarning":"Demnchst verfgbar","community.comingSoonDescription":"Community-Funktionen werden schrittweise implementiert, wobei Sicherheit und Leistung priorisiert werden. Derzeit werden Mock-Daten angezeigt.","community.conversationsDescription":"Benutzergesprche werden als Daten analysiert und werden zu kollektiver Intelligenz. Sie knnen Freunde finden oder einfach als Daten beitragen.","community.threadDetail":"Thread-Detailbildschirm (in Vorbereitung)","community.insightsTitle":"Kollektive Intelligenz der Gemeinschaft","community.insightsDescription":"Erkenntnisse, die aus anonymisierten Praxisdaten extrahiert wurden. Ihre Aufzeichnungen tragen auch automatisch zur kollektiven Intelligenz bei.","community.insightsNote":" Anfangs gibt es mglicherweise nicht gengend ntzliche Informationen aufgrund begrenzter Daten. Je mehr Benutzer beitreten, desto ntzlichere kollektive Intelligenz wird generiert.","community.patternsTitle":"Praxis-Muster","community.patternsDescription":"Praktische Muster, die aus Ihren Protokollen extrahiert wurden. In Zukunft werden sie aus den Daten der gesamten Gemeinschaft extrahiert.","community.sampleSize":"Stichprobengre","community.consultationTitle":"Datengetriebene Spezialistenberatung","community.consultationSubtitle":'Konsultieren Sie mit "Krankenakten" statt "Gesprchen"',"community.consultationDesc1":'In traditionellen Gemeinschaften mussten Sie rzten einzeln erklren: "Was haben Sie gestern gegessen?" "Was sind Ihre Symptome?"',"community.consultationDesc2":"In dieser App knnen Sie durch einfaches Teilen Ihrer In-App-Statistiken (Dit-, Ausscheidungs-, Gewichtstrenddiagramme) mit rzten sofort chirurgische Ratschlge erhalten.","community.consultationDesc3":'rzte mssen nicht fragen "was haben Sie gegessen" und knnen sofortige Urteile fllen, indem sie Daten betrachten, was effiziente und genaue medizinische Versorgung ermglicht.',"community.consultationDesc4":"Auerdem, da die KI automatisch auf zuvor gestellte Fragen antwortet, mssen Sie dieselben Fragen nicht wiederholen.","community.consultationNote":" Sie knnen Freunde finden, aber es ist nicht nur das. Ihre Gesprche und Daten werden als kollektive Intelligenz integriert und helfen den berlebensstrategien anderer Benutzer.","community.exportData":"Daten exportieren (JSON-Format)","community.exportFailed":"Datenexport fehlgeschlagen.","home.addFood":"Lebensmittel hinzufgen","home.myFoods":"Meine Lebensmittel","home.myFoodsTitle":"Meine Lebensmittel","home.addToMyFoods":"Zu meinen Lebensmitteln hinzufgen","home.history":"Verlauf","home.addFromPhoto":"Aus Foto hinzufgen","home.barcodeScan":"Barcode scannen","home.recipe":"Rezept","home.noMyFoodsRegistered":"Noch nicht registriert. Sie knnen aus dem Verlauf mit der -Schaltflche registrieren oder eine neue aus der Erstellungsschaltflche erstellen.","home.today":"Heute","home.yesterday":"Gestern","home.noFoods":"Noch keine Lebensmittel hinzugefgt","home.noHistory":"Noch kein Verlauf","home.selectAmount":"Menge auswhlen","home.amount":"Menge","home.unit":"Einheit","home.add":"Hinzufgen","home.gram":"g","home.piece":"Stck","shop.title":"Geschft","shop.pixelArtUI":"Pixel-Art-UI","shop.customization":"Anpassungsartikel","shop.comingSoon":"Demnchst verfgbar","shop.purchaseSuccess":"{name} gekauft!","shop.purchaseSuccessDebug":"{name} gekauft (Debug-Modus)","shop.paymentPending":"Die Zahlungsfunktion wird derzeit entwickelt. Bitte warten Sie.","shop.enablePixelArtUISuccess":"Pixel-Art-UI aktiviert. Seite wird neu geladen...","shop.disablePixelArtUISuccess":"Pixel-Art-UI deaktiviert. Seite wird neu geladen...","shop.paymentComingSoon":"Zahlungsabwicklung kommt bald ({name}: {price})","settings.title":"Einstellungen","settings.general":"Allgemein","settings.display":"Anzeige","settings.notifications":"Benachrichtigungen","settings.data":"Daten","settings.about":"ber","settings.hideSection":"Diesen Abschnitt ausblenden","butcher.saltType":"Salztyp","butcher.quantity":"Menge","butcher.grind":"Drehung","butcher.perGrind":"Menge pro Drehung (g)","butcher.resetToDefault":"Auf Standard zurcksetzen (0.5g)","butcher.nutrientBreakdown":"Nhrstoffaufschlsselung","butcher.sortByPriority":"Nach Prioritt","butcher.sortByDeficiency":"Nach Mangel","butcher.omega36Ratio":"Omega-3/6-Verhltnis","butcher.omega6ExcessWarning":"berschssiges Omega-6 verursacht Entzndungen. Es wird empfohlen, grasgefttertes Rindfleisch und Meeresfrchte zu erhhen.","butcher.omega6ExcessRisk":"berschssiges Omega-6 (Entzndungsrisiko) Bitte fgen Sie Fisch oder Fischeier hinzu","butcher.optimalRatioRange":"Innerhalb des empfohlenen Verhltnisbereichs (1:1 bis 1:4)","butcher.biotinBlockedHint":"Da Sie rohe Eier konsumieren, kann die Aufnahme von Vitamin B7 (Biotin) gehemmt werden. Es wird empfohlen, gekochte Eier zu konsumieren.","butcher.magnesiumHint":"Aktuell: Leicht mangelhaft. Kann mit Mineralwasser oder Salz ergnzt werden","butcher.photoAnalysisFailed":"Fotoanalyse fehlgeschlagen. Bitte versuchen Sie es erneut.","butcher.piece":"Stck","butcher.grindUnit":"Drehung","butcher.avoidZone":" Vermeidungszone (Zu vermeidende Dinge)","butcher.collapse":" Einklappen","butcher.showMore":" Mehr anzeigen (Antinhrstoffe)","butcher.add":"Hinzufgen","butcher.plantProtein":"Pflanzenprotein","butcher.vegetableOil":"Pflanzenl","butcher.fiber":"Faser","butcher.netCarbs":"Netto-Kohlenhydrate","butcher.phytates":"Phytate","butcher.polyphenols":"Polyphenole","butcher.flavonoids":"Flavonoide","butcher.oxalates":"Oxalate","butcher.lectins":"Lektine","butcher.saponins":"Saponine","butcher.goitrogens":"Goitrogene","butcher.tannins":"Tannine","recipe.title":"Rezept","recipe.createNew":"+ Neues Rezept erstellen","recipe.noRecipes":"Keine Rezepte","recipe.noRecipesDescription":"Sie knnen hufig gegessene Kombinationen als Rezepte speichern","recipe.use":"Verwenden","recipe.edit":"Bearbeiten","recipe.delete":"Lschen","recipe.createTitle":"Neues Rezept erstellen","recipe.editTitle":"Rezept bearbeiten","recipe.name":"Rezeptname","recipe.nameRequired":"Bitte geben Sie den Rezeptnamen ein","recipe.description":"Beschreibung (optional)","recipe.descriptionPlaceholder":"Beispiel: Hufig gegessene Frhstckskombination","recipe.foods":"Lebensmittel:","recipe.addFood":"+ Lebensmittel hinzufgen","recipe.noFoods":"Keine Lebensmittel","recipe.containsFoods":"Enthaltene Lebensmittel:","recipe.foodNamePrompt":"Bitte geben Sie den Lebensmittelnamen ein:","recipe.amountPrompt":"Bitte geben Sie die Menge (g) ein:","recipe.invalidAmount":"Bitte geben Sie eine gltige Menge ein","recipe.saveFailed":"Rezept konnte nicht gespeichert werden","recipe.deleteConfirm":"Dieses Rezept lschen?","recipe.deleteFailed":"Rezept konnte nicht gelscht werden","recipe.added":"{name} hinzugefgt","recipe.namePlaceholder":"Beispiel: Frhstcksset","recipe.back":" Zurck","recipe.cancel":"Abbrechen","recipe.save":"Speichern"},zh:{"common.back":"","common.save":"","common.cancel":"","common.delete":"","common.edit":"","common.close":"","common.confirm":"","common.loading":"...","common.error":"","common.backAriaLabel":"","common.languageChangeFailed":"","common.days":"","common.consecutive":"","common.items":"","common.send":"","common.current":"","common.locale":"zh-CN","language.title":"","language.description":"","language.japanese":"","language.english":"English","language.french":"Franais","language.german":"Deutsch","language.chinese":"","gift.title":"","gift.subtitle":"","gift.description":"","gift.currentStatus":"","gift.totalAmount":"","gift.newUsers":"","gift.discountPerUser":"","gift.messageLabel":"","gift.messagePlaceholder":"...","gift.messagePrivacy":"","gift.messagePublic":"","gift.messagePrivate":"","gift.purchaseButton":" 3,980 1","gift.purchaseNote":" 100%","gift.purchaseSuccess":"","gift.myMessages":"","gift.myMessagesDescription":"","gift.communityMessages":"","gift.communityMessagesDescription":"","gift.publicMessages":"","gift.noMessages":"","gift.viewMessages":"","gift.viewPastMessages":"","gift.modeAmount":"","gift.modePeople":"","gift.amountLabel":"","gift.amountHint":" 1","gift.amountPeopleEquivalent":"","gift.peopleLabel":"","gift.peopleHint":"","gift.total":"","gift.people":"","gift.perPerson":"/","gift.sendGift":"","gift.currency":"","gift.reply":"","gift.replyPlaceholder":"...","labs.description":"","labs.diary":"","labs.diaryDescription":"","labs.stats":"","labs.statsDescription":"","labs.community":"","labs.communityDescription":"","labs.shop":"","labs.shopDescription":"UI","labs.gift":"","labs.giftDescription":"100%","labs.streakTracker":"","labs.streakTrackerDescription":"","labs.tips":"","labs.viewTipsList":"","labs.tipsHistory":"","labs.noTipsHistory":"","labs.tipsList":"","labs.tipsListAll":"","labs.tipsListSaved":"","labs.noSavedTips":"","labs.tipBack":" ","labs.tipNext":" ","labs.tipShare":" ","labs.tipSaved":"","labs.tipSave":"","labs.appIconGenerator":"","history.title":"","history.noData":"","history.date":"","history.food":"","history.amount":"","history.7days":"7","history.30days":"30","history.all":"","history.summary":"","history.viewDetails":"","history.past7days":"7","history.past30days":"30","history.allPeriod":"","history.summaryOf":"","history.averageProtein":"","history.averageFat":"","history.recordedDays":"","history.days":"","history.violationRate":"","history.noLogs":"","history.items":"","history.violation":"","history.recovery":"","nav.home":"","nav.homeAriaLabel":"","nav.profile":"","nav.profileAriaLabel":"","nav.mainNavigationAriaLabel":"","nav.history":"","nav.labs":"","nav.historyAriaLabel":"","nav.labsAriaLabel":"","profile.title":"","profile.userSettings":"","profile.userSettingsDescription":"","profile.debugMode":"","profile.debugModeDescription":"30","profile.debugModeOn":" ","profile.debugModeOff":"","profile.customFood":"","profile.customFoodDescription":"AI","profile.uiSettings":"UI","profile.uiSettingsDescription":"","profile.languageSettings":"","profile.nutrientTargets":"","profile.saltSettings":"","profile.saltType":"","profile.tableSalt":"","profile.seaSalt":"","profile.himalayanSalt":"","profile.celticSalt":"","profile.perShave":"","profile.carbTargetSettings":"","profile.dataManagement":"","profile.account":"","profile.accountDescription":"","profile.exportData":"","profile.exportDescription":"JSON","profile.importData":"","profile.importDescription":"JSON","profile.deleteData":"","profile.deleteDescription":"","profile.exportSuccess":"","profile.exportFailed":"","profile.importSuccess":"","profile.importFailed":"","profile.importConfirm":"","profile.navigateToUserSettings":"","profile.navigateToLanguage":"","profile.openCustomFood":"","profile.navigateToUISettings":"UI","profile.navigateToSaltSettings":"","profile.navigateToCarbTargetSettings":"","profile.navigateToAccount":"","profile.navigateToDataExport":"","profile.navigateToDataDelete":"","profile.navigateToFeedback":"","profile.navigateToPrivacyPolicy":"","profile.navigateToTermsOfService":"","community.title":"","community.comingSoon":"","community.description":"","community.showConcept":"","community.conceptTitle":"","community.concept1":"","community.concept2":"AI","community.concept3":"","community.concept3Desc":"DiscordRedditX","community.concept4":"","community.concept4Desc":"AI","community.concept5":"","community.concept5Desc":"","community.concept6":"","community.concept6Desc":'""""',"community.conversations":"","community.insights":"","community.patterns":"","community.consultation":"","community.conversationsTitle":"","community.comingSoonWarning":"","community.comingSoonDescription":"","community.conversationsDescription":"","community.threadDetail":"","community.insightsTitle":"","community.insightsDescription":"","community.insightsNote":" ","community.patternsTitle":"","community.patternsDescription":"","community.sampleSize":"","community.consultationTitle":"","community.consultationSubtitle":'""""',"community.consultationDesc1":'"" ""',"community.consultationDesc2":"","community.consultationDesc3":'""',"community.consultationDesc4":"AI","community.consultationNote":" ","community.exportData":"JSON","community.exportFailed":"","home.addFood":"","home.myFoods":"","home.myFoodsTitle":"","home.addToMyFoods":"","home.history":"","home.addFromPhoto":"","home.barcodeScan":"","home.recipe":"","home.noMyFoodsRegistered":"","home.today":"","home.yesterday":"","home.noFoods":"","home.noHistory":"","home.selectAmount":"","home.amount":"","home.unit":"","home.add":"","home.gram":"g","home.piece":"","shop.title":"","shop.pixelArtUI":"UI","shop.customization":"","shop.comingSoon":"","shop.purchaseSuccess":"{name} ","shop.purchaseSuccessDebug":"{name} ","shop.paymentPending":"","shop.enablePixelArtUISuccess":"UI...","shop.disablePixelArtUISuccess":"UI...","shop.paymentComingSoon":" ({name}: {price})","settings.title":"","settings.general":"","settings.display":"","settings.notifications":"","settings.data":"","settings.about":"","settings.hideSection":"","recipe.title":"","recipe.createNew":"+ ","recipe.noRecipes":"","recipe.noRecipesDescription":"","recipe.use":"","recipe.edit":"","recipe.delete":"","recipe.createTitle":"","recipe.editTitle":"","recipe.name":"","recipe.nameRequired":"","recipe.description":"","recipe.descriptionPlaceholder":"","recipe.foods":"","recipe.addFood":"+ ","recipe.noFoods":"","recipe.containsFoods":"","recipe.foodNamePrompt":"","recipe.amountPrompt":"g","recipe.invalidAmount":"","recipe.saveFailed":"","recipe.deleteConfirm":"","recipe.deleteFailed":"","recipe.added":" {name}","recipe.namePlaceholder":"","recipe.back":" ","recipe.cancel":"","recipe.save":"","butcher.saltType":"","butcher.quantity":"","butcher.grind":"","butcher.perGrind":" (g)","butcher.resetToDefault":" (0.5g)","butcher.nutrientBreakdown":"","butcher.sortByPriority":"","butcher.sortByDeficiency":"","butcher.omega36Ratio":"Omega 3/6 ","butcher.omega6ExcessWarning":"omega-6","butcher.omega6ExcessRisk":"omega-6","butcher.optimalRatioRange":"1:1  1:4","butcher.biotinBlockedHint":"B7","butcher.magnesiumHint":"","butcher.photoAnalysisFailed":"","butcher.piece":"","butcher.grindUnit":"","butcher.avoidZone":" ","butcher.collapse":" ","butcher.showMore":" ","butcher.add":"","butcher.plantProtein":"","butcher.vegetableOil":"","butcher.fiber":"","butcher.netCarbs":"","butcher.phytates":"","butcher.polyphenols":"","butcher.flavonoids":"","butcher.oxalates":"","butcher.lectins":"","butcher.saponins":"","butcher.goitrogens":"","butcher.tannins":""}};function q0(){const r=localStorage.getItem("primal_logic_language");if(r&&["fr","de","en","ja","zh"].includes(r))return r;const l=navigator.language.split("-")[0];return["fr","de","en","ja","zh"].includes(l)?l:"en"}function Ng(r){localStorage.setItem("primal_logic_language",r),window.dispatchEvent(new CustomEvent("languageChanged",{detail:r}))}function Ci(){return q0()}function G0(r,l){const d=l||Ci();return ug[d]?.[r]||ug.ja[r]||r}function ni(){const[r,l]=m.useState(Ci());return m.useEffect(()=>{const d=c=>{l(c.detail)};return window.addEventListener("languageChanged",d),()=>{window.removeEventListener("languageChanged",d)}},[]),{t:d=>G0(d,r),language:r}}const ji={vitamin_c:{target:10,unit:"mg",logic:"CDHAA130mg10mg"},protein:{target:110,unit:"g",logic:": 1kg1.5-2.0g"},fat:{target:150,unit:"g",logic:": 1:11:1.5"},zinc:{target:11,unit:"mg",logic:": "},iron:{target:8,unit:"mg",logic:": 18mg"},sodium:{min:5e3,max:8e3,unit:"mg",logic:""},magnesium:{target:600,unit:"mg",logic:""},potassium:{target:4500,unit:"mg",logic:""},vitamin_a:{target:5e3,unit:"IU",logic:": "},vitamin_d:{target:2e3,unit:"IU",logic:": "},vitamin_k2:{target:200,unit:"g",logic:": "},vitamin_b12:{target:2.4,unit:"g",logic:": "},choline:{target:450,unit:"mg",logic:": "}},_n={protein:110,fat:150,zinc:11,magnesium:600,iron:8,potassium:4500,sodium:5e3,vitamin_a:5e3,vitamin_d:2e3,vitamin_k2:200,vitamin_b12:2.4,choline:450};function Ze(r,l,d,c,y,h,f,x,w,j,v,p,k,T,q,ne,fe,se,te,oe,ve,xe,de,je,Q,Ne,Oe){const O={..._n};let ze=!1;if(de===!0)ze=!0;else if(de===!1)ze=!1;else if(ve!==void 0)ze=ve<30;else if(xe){const z=new Date(xe);ze=Math.floor((new Date().getTime()-z.getTime())/(1e3*60*60*24))<30}return r==="female"&&(h?O.iron=8:O.iron=18),c&&(O.protein=Math.max(O.protein,120),O.iron=Math.max(O.iron,27),O.magnesium=Math.max(O.magnesium,700)),y&&(O.protein=Math.max(O.protein,130),O.iron=Math.max(O.iron,9),O.magnesium=Math.max(O.magnesium,700)),ze&&(O.sodium=Math.max(O.sodium,7e3),O.magnesium=Math.max(O.magnesium,800),O.potassium=Math.max(O.potassium,5e3),O.fat=Math.max(O.fat,O.fat*1.5)),d==="active"?(O.protein=Math.max(O.protein,120),O.fat=Math.max(O.fat,180),O.magnesium=Math.max(O.magnesium,700),ze||(O.sodium=Math.max(O.sodium,O.sodium+1e3))):d==="moderate"&&(O.protein=Math.max(O.protein,110),O.fat=Math.max(O.fat,160)),f==="high"&&(O.magnesium=Math.max(O.magnesium,700)),l&&l>50&&(O.vitamin_d=Math.max(O.vitamin_d,3e3),O.protein=Math.max(O.protein,110)),x&&x<7&&(O.magnesium=Math.max(O.magnesium,650)),w==="intense"||j==="5+"?(O.protein=Math.max(O.protein,130),O.fat=Math.max(O.fat,190),O.magnesium=Math.max(O.magnesium,750)):(w==="moderate"||j==="3-4")&&(O.protein=Math.max(O.protein,115),O.fat=Math.max(O.fat,170),O.magnesium=Math.max(O.magnesium,650)),(v==="hypothyroid"||v==="hyperthyroid")&&(se||(O.iodine=Math.max(O.iodine||150,200))),p==="none"||p==="rare"?fe||(O.vitamin_d=Math.max(O.vitamin_d,4e3)):p==="daily"&&(O.vitamin_d=Math.max(O.vitamin_d,1500)),k&&(O.protein=Math.max(O.protein,110)),T==="high"&&(O.magnesium=Math.max(O.magnesium,650)),q==="poor"&&(O.magnesium=Math.max(O.magnesium,700),fe||(O.vitamin_d=Math.max(O.vitamin_d,3e3))),(te==="daily"||te==="weekly")&&(O.magnesium=Math.max(O.magnesium,700),O.vitamin_b12=Math.max(O.vitamin_b12,3)),oe==="high"&&(O.magnesium=Math.max(O.magnesium,700),f==="high"&&(O.magnesium=Math.max(O.magnesium,750))),O.protein>0&&(O.fat=Math.max(O.fat,O.protein*1.2)),v==="hypothyroid"&&!se&&(O.iodine=Math.max(O.iodine||150,300)),Ne&&Ne.length>0&&(Ne.includes("morning_fatigue")&&(O.sodium=Math.max(O.sodium,O.sodium+1500)),Ne.includes("night_wake")&&(O.magnesium=Math.max(O.magnesium,O.magnesium+200)),Ne.includes("coffee_high")&&(O.sodium=Math.max(O.sodium,O.sodium+500))),Oe&&Object.entries(Oe).forEach(([z,W])=>{W.mode==="manual"&&W.value!==void 0&&(O[z]=W.value)}),O}function K0(r,l){const d=[];let c=1;const y=Ze(l.gender,void 0,"moderate",!1,!1,!1,"moderate",void 0,"none","none","normal","occasional",!1,"low","good",!1,!1,!1,"none","none",void 0,void 0,void 0,void 0,void 0,void 0,void 0),h=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel,l.sleepHours,l.exerciseIntensity,l.exerciseFrequency,l.thyroidFunction,l.sunExposureFrequency,l.digestiveIssues,l.inflammationLevel,l.mentalHealthStatus,l.supplementMagnesium,l.supplementVitaminD,l.supplementIodine,l.alcoholFrequency,l.caffeineIntake,l.daysOnCarnivore,l.carnivoreStartDate,l.forceAdaptationMode,l.bodyComposition,l.weight,l.metabolicStressIndicators,l.customNutrientTargets?Object.fromEntries(Object.entries(l.customNutrientTargets).map(([j,v])=>[j,typeof v=="number"?{mode:"manual",value:v}:v])):void 0),f=y[r],x=h[r];if(f===void 0||x===void 0)return d;const w=Q0(r);if(l.gender==="female"&&r==="iron"){const j=Ze("female",void 0,"moderate",!1,!1,!1,"moderate"),v=Ze("male",void 0,"moderate",!1,!1,!1,"moderate"),p=j[r],k=v[r],T=p-k;T!==0&&d.push({id:c++,category:"profile",factor:"",impact:T,impactText:mn(T,w),reason:"",source:"standard",priority:Math.abs(T)})}if(l.age&&l.age>50){const j=Ze(l.gender,l.age,"moderate",!1,!1,!1,"moderate"),v=Ze(l.gender,void 0,"moderate",!1,!1,!1,"moderate"),p=j[r],k=v[r],T=p-k;T!==0&&d.push({id:c++,category:"profile",factor:`${l.age}`,impact:T,impactText:mn(T,w),reason:r==="protein"?"":r==="vitamin_d"?"D":"",source:"research",priority:Math.abs(T)})}if(l.activityLevel==="active"){const j=Ze(l.gender,l.age,"active",l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel),v=Ze(l.gender,l.age,"moderate",l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel),p=j[r],k=v[r],T=p-k;T!==0&&d.push({id:c++,category:"activity",factor:"",impact:T,impactText:mn(T,w),reason:"",source:"research",priority:Math.abs(T)})}if(l.isPregnant){const j=Ze(l.gender,l.age,l.activityLevel,!0,!1,!1,l.stressLevel),v=Ze(l.gender,l.age,l.activityLevel,!1,!1,!1,l.stressLevel),p=j[r],k=v[r],T=p-k;T!==0&&d.push({id:c++,category:"health",factor:"",impact:T,impactText:mn(T,w),reason:"",source:"research",priority:Math.abs(T)})}if(l.isBreastfeeding){const j=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,!0,l.isPostMenopause,l.stressLevel),v=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,!1,l.isPostMenopause,l.stressLevel),p=j[r],k=v[r],T=p-k;T!==0&&d.push({id:c++,category:"health",factor:"",impact:T,impactText:mn(T,w),reason:"",source:"research",priority:Math.abs(T)})}if(l.isPostMenopause&&r==="iron"){const j=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,!0,l.stressLevel),v=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,!1,l.stressLevel),p=j[r],k=v[r],T=p-k;T!==0&&d.push({id:c++,category:"health",factor:"",impact:T,impactText:mn(T,w),reason:"",source:"standard",priority:Math.abs(T)})}if(l.stressLevel==="high"&&r==="magnesium"){const j=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,"high"),v=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,"moderate"),p=j[r],k=v[r],T=p-k;T!==0&&d.push({id:c++,category:"lifestyle",factor:"",impact:T,impactText:mn(T,w),reason:"",source:"research",priority:Math.abs(T)})}if(l.exerciseIntensity==="intense"||l.exerciseFrequency==="5+"){const j=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel,l.sleepHours,"intense","5+"),v=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel,l.sleepHours,"none","none"),p=j[r],k=v[r],T=p-k;T!==0&&d.push({id:c++,category:"activity",factor:"",impact:T,impactText:mn(T,w),reason:"",source:"research",priority:Math.abs(T)})}if((l.sunExposureFrequency==="none"||l.sunExposureFrequency==="rare")&&r==="vitamin_d"&&!l.supplementVitaminD){const j=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel,l.sleepHours,l.exerciseIntensity,l.exerciseFrequency,l.thyroidFunction,"none"),v=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel,l.sleepHours,l.exerciseIntensity,l.exerciseFrequency,l.thyroidFunction,"daily"),p=j[r],k=v[r],T=p-k;T!==0&&d.push({id:c++,category:"lifestyle",factor:"",impact:T,impactText:mn(T,w),reason:"D",source:"research",priority:Math.abs(T)})}if(l.supplementMagnesium,l.supplementVitaminD,(l.alcoholFrequency==="daily"||l.alcoholFrequency==="weekly")&&(r==="magnesium"||r==="vitamin_b12")){const j=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel,l.sleepHours,l.exerciseIntensity,l.exerciseFrequency,l.thyroidFunction,l.sunExposureFrequency,l.digestiveIssues,l.inflammationLevel,l.mentalHealthStatus,l.supplementMagnesium,l.supplementVitaminD,l.supplementIodine,"daily"),v=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel,l.sleepHours,l.exerciseIntensity,l.exerciseFrequency,l.thyroidFunction,l.sunExposureFrequency,l.digestiveIssues,l.inflammationLevel,l.mentalHealthStatus,l.supplementMagnesium,l.supplementVitaminD,l.supplementIodine,"none"),p=j[r],k=v[r],T=p-k;T!==0&&d.push({id:c++,category:"lifestyle",factor:"",impact:T,impactText:mn(T,w),reason:"",source:"research",priority:Math.abs(T)})}if(l.caffeineIntake==="high"&&r==="magnesium"){const j=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel,l.sleepHours,l.exerciseIntensity,l.exerciseFrequency,l.thyroidFunction,l.sunExposureFrequency,l.digestiveIssues,l.inflammationLevel,l.mentalHealthStatus,l.supplementMagnesium,l.supplementVitaminD,l.supplementIodine,l.alcoholFrequency,"high"),v=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel,l.sleepHours,l.exerciseIntensity,l.exerciseFrequency,l.thyroidFunction,l.sunExposureFrequency,l.digestiveIssues,l.inflammationLevel,l.mentalHealthStatus,l.supplementMagnesium,l.supplementVitaminD,l.supplementIodine,l.alcoholFrequency,"none"),p=j[r],k=v[r],T=p-k;T!==0&&d.push({id:c++,category:"lifestyle",factor:"",impact:T,impactText:mn(T,w),reason:"",source:"research",priority:Math.abs(T)})}if(l.sleepHours&&l.sleepHours<7&&r==="magnesium"){const j=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel,6),v=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel,8),p=j[r],k=v[r],T=p-k;T!==0&&d.push({id:c++,category:"lifestyle",factor:`${l.sleepHours}`,impact:T,impactText:mn(T,w),reason:"",source:"research",priority:Math.abs(T)})}if(l.daysOnCarnivore!==void 0&&l.daysOnCarnivore<30){const j=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel,l.sleepHours,l.exerciseIntensity,l.exerciseFrequency,l.thyroidFunction,l.sunExposureFrequency,l.digestiveIssues,l.inflammationLevel,l.mentalHealthStatus,l.supplementMagnesium,l.supplementVitaminD,l.supplementIodine,l.alcoholFrequency,l.caffeineIntake,l.daysOnCarnivore),v=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel,l.sleepHours,l.exerciseIntensity,l.exerciseFrequency,l.thyroidFunction,l.sunExposureFrequency,l.digestiveIssues,l.inflammationLevel,l.mentalHealthStatus,l.supplementMagnesium,l.supplementVitaminD,l.supplementIodine,l.alcoholFrequency,l.caffeineIntake,30),p=j[r],k=v[r],T=p-k;T!==0&&(r==="sodium"||r==="magnesium"||r==="potassium")&&d.push({id:c++,category:"health",factor:"",impact:T,impactText:mn(T,w),reason:"",source:"research",priority:Math.abs(T)})}if(l.metabolicStressIndicators&&l.metabolicStressIndicators.length>0){const j=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel,l.sleepHours,l.exerciseIntensity,l.exerciseFrequency,l.thyroidFunction,l.sunExposureFrequency,l.digestiveIssues,l.inflammationLevel,l.mentalHealthStatus,l.supplementMagnesium,l.supplementVitaminD,l.supplementIodine,l.alcoholFrequency,l.caffeineIntake,l.daysOnCarnivore,l.carnivoreStartDate,l.forceAdaptationMode,l.bodyComposition,l.weight,l.metabolicStressIndicators),v=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel,l.sleepHours,l.exerciseIntensity,l.exerciseFrequency,l.thyroidFunction,l.sunExposureFrequency,l.digestiveIssues,l.inflammationLevel,l.mentalHealthStatus,l.supplementMagnesium,l.supplementVitaminD,l.supplementIodine,l.alcoholFrequency,l.caffeineIntake,l.daysOnCarnivore,l.carnivoreStartDate,l.forceAdaptationMode,l.bodyComposition,l.weight,[]),p=j[r],k=v[r],T=p-k;if(T!==0){const q=l.metabolicStressIndicators.map(ne=>ne==="morning_fatigue"?"":ne==="night_wake"?"":ne==="coffee_high"?"":ne).join("");d.push({id:c++,category:"health",factor:`${q}`,impact:T,impactText:mn(T,w),reason:"",source:"research",priority:Math.abs(T)})}}return d}function dg(r){return[...r].sort((l,d)=>d.priority-l.priority)}function Y0(r){return[...r].sort((l,d)=>l.factor.localeCompare(d.factor,"ja"))}function X0(r){const l=["profile","activity","health","lifestyle","supplement","other"];return[...r].sort((d,c)=>{const y=l.indexOf(d.category),h=l.indexOf(c.category);return y!==h?y-h:c.priority-d.priority})}function Qc(r,l){switch(l){case"impact":return dg(r);case"alphabetical":return Y0(r);case"category":return X0(r);default:return dg(r)}}function $0(r){return{profile:"",activity:"",health:"",supplement:"",lifestyle:"",other:""}[r]}function Q0(r){return{protein:"g",fat:"g",iron:"mg",magnesium:"mg",vitamin_d:"IU",sodium:"mg",potassium:"mg",zinc:"mg",vitamin_c:"mg",vitamin_a:"IU",vitamin_k2:"g",vitamin_b12:"g",choline:"mg"}[r]||""}function mn(r,l){return r>0?`+${r}${l}`:r<0?`${r}${l}`:`0${l}`}function ro(r,l){const d=Ze(l.gender,l.age,l.activityLevel,l.isPregnant,l.isBreastfeeding,l.isPostMenopause,l.stressLevel,l.sleepHours,l.exerciseIntensity,l.exerciseFrequency,l.thyroidFunction,l.sunExposureFrequency,l.digestiveIssues,l.inflammationLevel,l.mentalHealthStatus,l.supplementMagnesium,l.supplementVitaminD,l.supplementIodine,l.alcoholFrequency,l.caffeineIntake),c=Ze(l.gender,void 0,"moderate",!1,!1,!1,"moderate"),y=[];let h="";const f={protein:{name:"",unit:"g"},fat:{name:"",unit:"g"},iron:{name:"",unit:"mg"},magnesium:{name:"",unit:"mg"},vitamin_d:{name:"D",unit:"IU"}},{name:x,unit:w}=f[r],j=d[r],v=c[r];l.age&&Number(l.age)>50&&(r==="protein"||r==="vitamin_d")&&y.push({reason:`${l.age}`,impact:r==="protein"?" +10g":"D +400IU",source:"research"}),l.activityLevel==="active"&&(r==="protein"||r==="fat"||r==="magnesium")&&y.push({reason:"",impact:r==="protein"?" +20g":r==="fat"?" +30g":" +100mg",source:"research"}),l.isPregnant&&(r==="protein"||r==="iron"||r==="magnesium")&&y.push({reason:"",impact:r==="protein"?" +25g":r==="iron"?" +9mg":" +50mg",source:"research"}),l.isBreastfeeding&&(r==="protein"||r==="magnesium")&&y.push({reason:"",impact:r==="protein"?" +25g":" +50mg",source:"research"}),l.isPostMenopause&&r==="iron"&&y.push({reason:"",impact:" -10mg",source:"standard"}),l.stressLevel==="high"&&r==="magnesium"&&y.push({reason:"",impact:" +100mg",source:"research"}),l.exerciseIntensity==="intense"&&(r==="protein"||r==="fat"||r==="magnesium")&&y.push({reason:"",impact:r==="protein"?" +20g":r==="fat"?" +30g":" +100mg",source:"research"}),l.sunExposureFrequency==="none"&&r==="vitamin_d"&&y.push({reason:"",impact:"D +1000IU",source:"research"}),l.supplementMagnesium&&r==="magnesium"&&y.push({reason:"",impact:" -200mg",source:"profile"}),l.supplementVitaminD&&r==="vitamin_d"&&y.push({reason:"D",impact:"D -1000IU",source:"profile"});const p={protein:`1kg1.6g${v}${w}`,fat:`1.4${v}${w}`,iron:`${v}${w}`,magnesium:`300${v}${w}`,vitamin_d:`D${v}${w}`};if(y.length===0)h=p[r];else{const k=y.map(ne=>ne.reason).join(""),T=y.map(ne=>ne.impact).join("");h=`${p[r].replace(`${v}${w}`,"")}${v}${w}${k}${T}${j}${w}`}return{nutrient:x,value:j,unit:w,baseValue:v,adjustments:y,humanExplanation:h}}function Ky(r){return[ro("protein",r),ro("fat",r),ro("iron",r),ro("magnesium",r),ro("vitamin_d",r)]}const xs={insufficient:"#ef4444",warning:"#f97316",optimal:"#22c55e",excess:"#a855f7"},Pc={insufficient:50,warning:100,optimal:120};function mg(r,l=!1){return l?"#1f2937":r<Pc.insufficient?xs.insufficient:r<Pc.warning?xs.warning:r<Pc.optimal?xs.optimal:xs.excess}function Ye({label:r,currentDailyTotal:l=0,previewAmount:d=0,target:c,color:y,unit:h="",logic:f,hint:x,showLowIsOk:w=!1,nutrientKey:j,hideTarget:v=!1}){const{userProfile:p}=ti();ni();const[k,T]=m.useState(!1),[q,ne]=m.useState({x:0,y:0}),[fe,se]=m.useState(!1),[te,oe]=m.useState("impact"),[ve,xe]=m.useState("simple"),de=m.useMemo(()=>{if(j)return j;const R=r.toLowerCase();return R.includes("")||R.includes("protein")?"protein":R.includes("")||R.includes("fat")?"fat":R.includes("")||R.includes("iron")?"iron":R.includes("")||R.includes("magnesium")?"magnesium":R.includes("d")||R.includes("vitamin d")?"vitamin_d":R.includes("")||R.includes("sodium")?"sodium":R.includes("")||R.includes("potassium")?"potassium":R.includes("")||R.includes("zinc")?"zinc":R.includes("c")||R.includes("vitamin c")?"vitamin_c":R.includes("a")||R.includes("vitamin a")?"vitamin_a":R.includes("k")||R.includes("vitamin k")?"vitamin_k2":R.includes("b12")||R.includes("vitamin b12")?"vitamin_b12":R.includes("")||R.includes("choline")?"choline":R.includes("")||R.includes("phosphorus")?"phosphorus":R.includes("")||R.includes("selenium")?"selenium":R.includes("")||R.includes("calcium")?"calcium":R.includes("")||R.includes("glycine")?"glycine":R.includes("")||R.includes("methionine")?"methionine":R.includes("")||R.includes("taurine")?"taurine":null},[r,j]),je=m.useMemo(()=>{if(!de||!p)return[];try{const R=K0(de,p);return Qc(R,te)}catch(R){return console.error("Error calculating impact factors:",R),[]}},[de,p,te]),Q=l+d,Ne=c>0?Math.min(l/c*100,100):0,Oe=c>0?Math.min(d/c*100,100):0,O=c>0?Math.min(Q/c*100,200):0,ze=Q.toFixed(1),z=c.toFixed(1),W=Q<c*.5,Se=m.useMemo(()=>{if(x)return x;if(je.length>0)return null;if(Q<c*.8){const R=c-Q;return de==="sodium"?`: ${R.toFixed(0)}${h}`:de==="magnesium"?`: ${R.toFixed(0)}${h}`:de==="potassium"?`: ${R.toFixed(0)}${h}`:de==="protein"?`: ${R.toFixed(0)}${h}`:de==="fat"?`: ${R.toFixed(0)}${h}`:de==="iron"?`: ${R.toFixed(0)}${h}`:de==="zinc"?`: ${R.toFixed(0)}${h}`:de==="vitamin_b12"?`: ${R.toFixed(0)}${h}`:`: ${R.toFixed(0)}${h}`}return null},[x,je.length,Q,c,h,de]);m.useEffect(()=>{},[r,f]);const F=(R,Z,J)=>R&&{protein:`1kg1.6g${Z}${J}`,fat:`1.4${Z}${J}`,iron:`${Z}${J}`,magnesium:`300${Z}${J}`,vitamin_d:`D${Z}${J}`,sodium:`${Z}${J}`,potassium:`${Z}${J}`,zinc:`${Z}${J}`,vitamin_c:`CGlucose-Ascorbate Antagonism30mg10mg${Z}${J}`,vitamin_a:`A${Z}${J}`,vitamin_k2:`K2MK-4${Z}${J}`,vitamin_b12:`B12${Z}${J}`,choline:`${Z}${J}`,selenium:`${Z}${J}`,calcium:`${Z}${J}`,phosphorus:`DNA${Z}${J}`,glycine:`${Z}${J}`,methionine:`${Z}${J}`,taurine:`${Z}${J}`}[R]||null,ue=m.useMemo(()=>{if(!de||!p)return null;if(["protein","fat","iron","magnesium","vitamin_d"].includes(de))try{return ro(de,p)}catch(Z){return console.error("Error getting nutrient explanation:",Z),null}return null},[de,p]),re=m.useMemo(()=>F(de,c,h),[de,c,h]),ge=m.useMemo(()=>de?ji[de==="vitamin_d"?"vitamin_d":de]?.logic||f||null:f||null,[de,f]),he=R=>{R.stopPropagation(),se(!0)},we=R=>{const Z=R.target;Z.closest('span[style*="cursor: pointer"]')||Z.textContent===""||Z.closest("span[data-cursor-element-id]")||Z.closest('[style*="pointerEvents: none"]')||Z.closest('[style*="pointer-events: none"]')||f&&alert(`${r}:

${f}`)};return a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:0,position:"relative",cursor:f?"pointer":"default",userSelect:"none",marginBottom:0},onClick:we,children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{fontSize:"12px",color:"#78716c"},children:r}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx("span",{style:{fontSize:"12px",color:y,fontWeight:"500"},children:v?`${ze}${h}`:`${ze} / ${z} ${h}`}),a.jsxs("span",{style:{fontSize:"12px",cursor:"pointer",position:"relative",zIndex:10},onClick:R=>{R.preventDefault(),R.stopPropagation(),he(R)},onMouseDown:R=>{R.preventDefault(),R.stopPropagation()},onMouseEnter:R=>{if(je.length===0&&Se){const Z=R.currentTarget.getBoundingClientRect();ne({x:Z.left,y:Z.top}),T(!0)}},onMouseLeave:()=>{je.length===0&&T(!1)},children:["",k&&je.length===0&&Se&&a.jsx("div",{style:{position:"fixed",left:`${q.x}px`,top:`${q.y+20}px`,backgroundColor:"#1f2937",color:"white",padding:"6px 8px",borderRadius:"4px",fontSize:"10px",zIndex:10005,pointerEvents:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",maxWidth:"300px",whiteSpace:"normal"},children:Se})]}),w&&W&&a.jsxs("span",{style:{fontSize:"12px",cursor:"pointer",position:"relative"},onClick:he,onMouseEnter:R=>{const Z=R.currentTarget.getBoundingClientRect();ne({x:Z.left,y:Z.top}),T(!0)},onMouseLeave:()=>T(!1),children:["",k&&a.jsx("div",{style:{position:"fixed",left:`${q.x}px`,top:`${q.y+20}px`,backgroundColor:"#1f2937",color:"white",padding:"6px 8px",borderRadius:"4px",fontSize:"10px",whiteSpace:"nowrap",zIndex:10005,pointerEvents:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:"Low is OK ()"})]}),j==="vitaminD"&&a.jsxs("span",{style:{fontSize:"16px",cursor:"pointer",position:"relative",zIndex:10},onClick:R=>{R.preventDefault(),R.stopPropagation();const Z=new CustomEvent("navigateToScreen",{detail:"input"});window.dispatchEvent(Z)},onMouseDown:R=>{R.preventDefault(),R.stopPropagation()},onMouseEnter:R=>{const Z=R.currentTarget.getBoundingClientRect();ne({x:Z.left,y:Z.top}),T(!0)},onMouseLeave:()=>{T(!1)},title:"",children:["",k&&a.jsxs("div",{style:{position:"fixed",left:`${q.x}px`,top:`${q.y+20}px`,backgroundColor:"#1f2937",color:"white",padding:"6px 8px",borderRadius:"4px",fontSize:"10px",zIndex:10005,pointerEvents:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",maxWidth:"300px",whiteSpace:"normal"},children:["D",a.jsx("br",{}),""]})]})]})]}),a.jsxs("div",{style:{height:"10px",borderRadius:"9999px",overflow:"hidden",position:"relative",width:"100%",backgroundColor:"#e5e7eb"},children:[Ne>0&&a.jsx("div",{style:{position:"absolute",left:0,width:`${Math.min(Ne,200)}%`,background:mg(Ne,!1),height:"100%",borderRadius:"9999px",transition:"width 0.3s ease",zIndex:2}}),Oe>0&&a.jsx("div",{style:{position:"absolute",left:`${Math.min(Ne,200)}%`,width:`${Math.min(Oe,Math.max(0,200-Math.min(Ne,200)))}%`,background:mg(O,!1),height:"100%",borderRadius:"9999px",transition:"width 0.3s ease",zIndex:2,borderLeft:Ne>0?"1px solid rgba(255,255,255,0.3)":"none",opacity:.8}})]}),fe&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10010,padding:"16px"},onClick:()=>se(!1),children:a.jsxs("div",{style:{backgroundColor:"var(--color-bg-primary)",borderRadius:"12px",padding:"16px",maxWidth:"85%",maxHeight:"70vh",overflow:"auto",boxShadow:"0 4px 24px rgba(0,0,0,0.2)",position:"relative"},onClick:R=>R.stopPropagation(),children:[a.jsx("button",{onClick:()=>se(!1),style:{position:"absolute",top:"12px",right:"12px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#78716c",padding:"4px 8px"},children:""}),a.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937"},children:je.length>0?`${r}`:`${r}: ${z}${h}`}),a.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",borderBottom:"1px solid #e5e7eb"},children:[a.jsx("button",{onClick:()=>xe("simple"),style:{padding:"8px 16px",border:"none",background:ve==="simple"?"#1f2937":"transparent",color:ve==="simple"?"white":"#78716c",cursor:"pointer",borderRadius:"8px 8px 0 0",fontSize:"14px",fontWeight:ve==="simple"?"600":"400"},children:""}),a.jsx("button",{onClick:()=>xe("detailed"),style:{padding:"8px 16px",border:"none",background:ve==="detailed"?"#1f2937":"transparent",color:ve==="detailed"?"white":"#78716c",cursor:"pointer",borderRadius:"8px 8px 0 0",fontSize:"14px",fontWeight:ve==="detailed"?"600":"400"},children:""}),ge&&a.jsx("button",{onClick:()=>xe("general"),style:{padding:"8px 16px",border:"none",background:ve==="general"?"#1f2937":"transparent",color:ve==="general"?"white":"#78716c",cursor:"pointer",borderRadius:"8px 8px 0 0",fontSize:"14px",fontWeight:ve==="general"?"600":"400"},children:""})]}),je.length>0&&ve==="simple"?a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:Qc(je,"impact").slice(0,3).map((R,Z)=>a.jsxs("div",{style:{padding:"12px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[a.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",marginBottom:"4px"},children:[Z+1,". ",R.factor]}),a.jsx("div",{style:{fontSize:"13px",color:"#78716c"},children:R.reason})]},R.id))}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:ve==="simple"?ue?a.jsx("div",{style:{padding:"12px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:a.jsx("p",{style:{fontSize:"14px",color:"#1f2937",lineHeight:"1.6"},children:ue.humanExplanation})}):ge?a.jsx("div",{style:{padding:"12px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:a.jsx("p",{style:{fontSize:"14px",color:"#1f2937",lineHeight:"1.6"},children:ge})}):re?a.jsx("div",{style:{padding:"12px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:a.jsx("p",{style:{fontSize:"14px",color:"#1f2937",lineHeight:"1.6"},children:re})}):a.jsx("div",{style:{padding:"12px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:a.jsxs("p",{style:{fontSize:"14px",color:"#78716c"},children:["",z,h,""]})}):ve==="general"?ge?a.jsx("div",{style:{padding:"16px",backgroundColor:"#f0f9ff",borderRadius:"8px",border:"1px solid #3b82f6"},children:a.jsx("p",{style:{fontSize:"15px",color:"#1f2937",lineHeight:"1.8",whiteSpace:"pre-wrap"},children:ge})}):null:a.jsxs(a.Fragment,{children:[je.length>0&&a.jsx(a.Fragment,{children:a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"24px"},children:Qc(je,"impact").map((R,Z)=>a.jsx("div",{style:{padding:"12px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:a.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[a.jsx("div",{style:{minWidth:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#1f2937",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"600",flexShrink:0},children:Z+1}),a.jsxs("div",{style:{flex:1},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[a.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:R.factor}),a.jsx("span",{style:{fontSize:"12px",padding:"2px 8px",borderRadius:"4px",backgroundColor:"#e5e7eb",color:"#78716c"},children:$0(R.category)})]}),a.jsx("div",{style:{fontSize:"13px",color:"#78716c",marginBottom:"4px"},children:R.reason}),a.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:R.impact>0?"#22c55e":R.impact<0?"#ef4444":"#78716c"},children:[R.impactText,""]})]})]})},R.id))})}),de&&p&&(()=>{const R=(le,A,ye,_)=>{const U=_.toLowerCase();if(le==="protein"){const E=A?.weight||70,V=E*1.6;let me=`
(${E}kg)  1.6g/kg = ${V.toFixed(1)}g/`,Be=V;const M=[];if(A?.isPregnant&&M.push({name:"",target:120,applied:!1}),A?.isBreastfeeding&&M.push({name:"",target:130,applied:!1}),A?.exerciseIntensity==="intense"||A?.exerciseFrequency==="5+"?M.push({name:"",target:130,applied:!1}):(A?.exerciseIntensity==="moderate"||A?.exerciseFrequency==="3-4")&&M.push({name:"",target:115,applied:!1}),A?.activityLevel==="active"?M.push({name:"",target:120,applied:!1}):A?.activityLevel==="moderate"&&M.push({name:"",target:110,applied:!1}),A?.age&&A.age>50&&M.push({name:"50",target:110,applied:!1}),A?.digestiveIssues&&M.push({name:"",target:110,applied:!1}),M.sort((G,be)=>be.target-G.target),M.length>0){me+=`

`;for(const G of M){const be=Be,ce=Math.max(Be,G.target),nt=ce-be;nt>0&&(Be=ce,me+=`
${G.name}: ${G.target}g+${nt.toFixed(1)}g  ${Be.toFixed(1)}g`)}}else me+=`

`;if(A?.customNutrientTargets?.[le]?.mode==="manual"&&A.customNutrientTargets[le].value!==void 0){const G=A.customNutrientTargets[le].value;me+=`

`,me+=`
: ${G}g`,Be=G}else me+=`

`,me+=`
${Be.toFixed(1)}g/`;return Math.abs(Be-ye)>.1&&(Be=ye,me=me.replace(/\n.*$/,`
${ye.toFixed(1)}g/`)),me}else if(le==="fat"){let E=`
150g/`,V=150;const me=[];A?.exerciseIntensity==="intense"||A?.exerciseFrequency==="5+"?me.push({name:"",target:190,applied:!1}):(A?.exerciseIntensity==="moderate"||A?.exerciseFrequency==="3-4")&&me.push({name:"",target:170,applied:!1}),A?.activityLevel==="active"?me.push({name:"",target:180,applied:!1}):A?.activityLevel==="moderate"&&me.push({name:"",target:160,applied:!1});const Be=A?.forceAdaptationMode===!0?!0:A?.forceAdaptationMode===!1?!1:A?.daysOnCarnivore!==void 0?A.daysOnCarnivore<30:A?.carnivoreStartDate?Math.floor((new Date().getTime()-new Date(A.carnivoreStartDate).getTime())/(1e3*60*60*24))<30:!1;if(me.sort((M,G)=>G.target-M.target),me.length>0){E+=`

`;for(const M of me){const G=V,be=Math.max(V,M.target),ce=be-G;ce>0&&(V=be,E+=`
${M.name}: ${M.target}g+${ce.toFixed(1)}g  ${V.toFixed(1)}g`)}}if(Be){const M=V;V=Math.max(V,M*1.5);const G=V-M;G>0&&(E+=`
: ${M.toFixed(1)}g  1.5+${G.toFixed(1)}g  ${V.toFixed(1)}g`)}try{const G=Ze(A?.gender,A?.age,A?.activityLevel,A?.isPregnant,A?.isBreastfeeding,A?.isPostMenopause,A?.stressLevel,A?.sleepHours,A?.exerciseIntensity,A?.exerciseFrequency,A?.thyroidFunction,A?.sunExposureFrequency,A?.digestiveIssues,A?.inflammationLevel,A?.mentalHealthStatus,A?.supplementMagnesium,A?.supplementVitaminD,A?.supplementIodine,A?.alcoholFrequency,A?.caffeineIntake,A?.daysOnCarnivore,A?.carnivoreStartDate,A?.forceAdaptationMode,A?.bodyComposition,A?.weight,A?.metabolicStressIndicators,A?.customNutrientTargets).protein,be=G*1.2;if(be>V){const ce=V;V=be;const nt=V-ce;E+=`
: (${G.toFixed(1)}g)  1.2+${nt.toFixed(1)}g  ${V.toFixed(1)}g`}}catch(M){console.error("Error calculating protein target for fat formula:",M)}if(me.length===0&&!Be&&(E+=`

`),A?.customNutrientTargets?.[le]?.mode==="manual"&&A.customNutrientTargets[le].value!==void 0){const M=A.customNutrientTargets[le].value;E+=`

`,E+=`
: ${M}g`}else E+=`

`,E+=`
${ye.toFixed(1)}g/`;return E}else if(le==="magnesium"){let E=`
600mg/`,V=600;const me=[];(A?.forceAdaptationMode===!0||A?.forceAdaptationMode!==!1&&(A?.daysOnCarnivore!==void 0?A.daysOnCarnivore<30:A?.carnivoreStartDate&&Math.floor((new Date().getTime()-new Date(A.carnivoreStartDate).getTime())/(1e3*60*60*24))<30))&&me.push({name:"",target:800,increment:200,applied:!1}),A?.stressLevel==="high"&&me.push({name:"",target:700,increment:100,applied:!1}),A?.activityLevel==="active"&&me.push({name:"",target:700,increment:100,applied:!1}),A?.sleepHours&&A.sleepHours<7&&me.push({name:"7",target:650,increment:50,applied:!1}),A?.exerciseIntensity==="intense"||A?.exerciseFrequency==="5+"?me.push({name:"",target:750,increment:150,applied:!1}):(A?.exerciseIntensity==="moderate"||A?.exerciseFrequency==="3-4")&&me.push({name:"",target:650,increment:50,applied:!1}),A?.isPregnant&&me.push({name:"",target:700,increment:100,applied:!1}),A?.isBreastfeeding&&me.push({name:"",target:700,increment:100,applied:!1}),A?.inflammationLevel==="high"&&me.push({name:"",target:650,increment:50,applied:!1}),A?.mentalHealthStatus==="poor"&&me.push({name:"",target:700,increment:100,applied:!1}),(A?.alcoholFrequency==="daily"||A?.alcoholFrequency==="weekly")&&me.push({name:"",target:700,increment:100,applied:!1}),A?.caffeineIntake==="high"&&(A?.stressLevel==="high"?me.push({name:"+",target:750,increment:150,applied:!1}):me.push({name:"",target:700,increment:100,applied:!1}));let M=0;if(A?.metabolicStressIndicators&&A.metabolicStressIndicators.includes("night_wake")&&(M=200),me.length>0||M>0){E+=`

`,me.sort((G,be)=>be.target-G.target);for(const G of me){const be=V,ce=Math.max(V,G.target),nt=ce-be;nt>0&&(V=ce,E+=`
${G.name}: ${G.target}mg+${nt}mg  ${V}mg`)}M>0&&(V=V+M,E+=`
: +${M}mg  ${V}mg`)}else E+=`

`;if(A?.supplementMagnesium&&(V=Math.max(0,V-200),E+=`

`,E+=`
: -200mg  ${V}mg`),A?.customNutrientTargets?.[le]?.mode==="manual"&&A.customNutrientTargets[le].value!==void 0){const G=A.customNutrientTargets[le].value;E+=`

`,E+=`
: ${G}mg`,V=G}else E+=`

`,E+=`
${ye.toFixed(1)}mg/`;return E}else if(le==="iron"){let E=`
8mg/`,V=8;if(A?.gender==="female")if(A?.isPostMenopause)E+=`

`,E+=`
: 8mg`;else{const me=V;V=18,E+=`

`,E+=`
: 18mg+${(V-me).toFixed(1)}mg  ${V}mg`}if(A?.isPregnant){const me=V;V=Math.max(V,27);const Be=V-me;Be>0&&(E.includes("")||(E+=`

`),E+=`
: 27mg+${Be.toFixed(1)}mg  ${V}mg`)}if(A?.isBreastfeeding){const me=V;V=Math.max(V,9);const Be=V-me;(Be>0||V<me)&&(E.includes("")||(E+=`

`),V<me?E+=`
: 9mg  ${V}mg`:E+=`
: 9mg+${Be.toFixed(1)}mg  ${V}mg`)}if(!E.includes("")&&!A?.isPregnant&&!A?.isBreastfeeding&&(E+=`

`),A?.customNutrientTargets?.[le]?.mode==="manual"&&A.customNutrientTargets[le].value!==void 0){const me=A.customNutrientTargets[le].value;E+=`

`,E+=`
: ${me}mg`}else E+=`

`,E+=`
${ye.toFixed(1)}mg/`;return E}else if(le==="vitamin_d"){let E=`
2000IU/`,V=2e3;const me=[];if((A?.sunExposureFrequency==="none"||A?.sunExposureFrequency==="rare")&&(A?.supplementVitaminD||me.push({name:"",target:4e3,applied:!1})),A?.age&&A.age>50&&me.push({name:"50",target:3e3,applied:!1}),A?.mentalHealthStatus==="poor"&&(A?.supplementVitaminD||me.push({name:"",target:3e3,applied:!1})),me.sort((Be,M)=>M.target-Be.target),me.length>0){E+=`

`;for(const Be of me){const M=V,G=Math.max(V,Be.target),be=G-M;be>0&&(V=G,E+=`
${Be.name}: ${Be.target}IU+${be.toFixed(0)}IU  ${V.toFixed(0)}IU`)}}else E+=`

`;if(A?.supplementVitaminD&&(V=Math.max(0,V-1e3),E+=`

`,E+=`
D: -1000IU  ${V.toFixed(0)}IU`),A?.customNutrientTargets?.[le]?.mode==="manual"&&A.customNutrientTargets[le].value!==void 0){const Be=A.customNutrientTargets[le].value;E+=`

`,E+=`
: ${Be}IU`}else E+=`

`,E+=`
${ye.toFixed(0)}IU/`;return E}else if(le==="sodium"){let E=`
5000mg/`,V=5e3,me=!1;const Be=A?.forceAdaptationMode===!0?!0:A?.forceAdaptationMode===!1?!1:A?.daysOnCarnivore!==void 0?A.daysOnCarnivore<30:A?.carnivoreStartDate?Math.floor((new Date().getTime()-new Date(A.carnivoreStartDate).getTime())/(1e3*60*60*24))<30:!1;if(Be){const M=V;V=Math.max(V,7e3);const G=V-M;G>0&&(E+=`

`,E+=`
: 7000mg+${G.toFixed(0)}mg  ${V.toFixed(0)}mg`,me=!0)}if(A?.activityLevel==="active"&&!Be){const M=V;V=Math.max(V,V+1e3),V-M>0&&(me||(E+=`

`,me=!0),E+=`
: +1000mg  ${V.toFixed(0)}mg`)}if(A?.metabolicStressIndicators&&A.metabolicStressIndicators.includes("morning_fatigue")){const M=V;V=Math.max(V,V+1500),V-M>0&&(me||(E+=`

`,me=!0),E+=`
/: +1500mg  ${V.toFixed(0)}mg`)}if(A?.metabolicStressIndicators&&A.metabolicStressIndicators.includes("coffee_high")){const M=V;V=Math.max(V,V+500),V-M>0&&(me||(E+=`

`,me=!0),E+=`
2: +500mg  ${V.toFixed(0)}mg`)}if(me||(E+=`

`),A?.customNutrientTargets?.[le]?.mode==="manual"&&A.customNutrientTargets[le].value!==void 0){const M=A.customNutrientTargets[le].value;E+=`

`,E+=`
: ${M}mg`}else E+=`

`,E+=`
${ye.toFixed(0)}mg/`;return E}else if(le==="potassium"){let E=`
4500mg/`,V=4500,me=!1;if(A?.forceAdaptationMode===!0?!0:A?.forceAdaptationMode===!1?!1:A?.daysOnCarnivore!==void 0?A.daysOnCarnivore<30:A?.carnivoreStartDate?Math.floor((new Date().getTime()-new Date(A.carnivoreStartDate).getTime())/(1e3*60*60*24))<30:!1){const M=V;V=Math.max(V,5e3);const G=V-M;G>0&&(E+=`

`,E+=`
: 5000mg+${G.toFixed(0)}mg  ${V.toFixed(0)}mg`,me=!0)}if(me||(E+=`

`),A?.customNutrientTargets?.[le]?.mode==="manual"&&A.customNutrientTargets[le].value!==void 0){const M=A.customNutrientTargets[le].value;E+=`

`,E+=`
: ${M}mg`}else E+=`

`,E+=`
${ye.toFixed(0)}mg/`;return E}else if(le==="zinc"){let E=`
11mg/RDA`;if(E+=`

`,A?.customNutrientTargets?.[le]?.mode==="manual"&&A.customNutrientTargets[le].value!==void 0){const V=A.customNutrientTargets[le].value;E+=`

`,E+=`
: ${V}mg`}else E+=`

`,E+=`
${ye.toFixed(1)}mg/`;return E}else if(le==="vitamin_c"){let E=`
10mg/`;if(E+=`

`,A?.customNutrientTargets?.[le]?.mode==="manual"&&A.customNutrientTargets[le].value!==void 0){const V=A.customNutrientTargets[le].value;E+=`

`,E+=`
: ${V}mg`}else E+=`

`,E+=`
${ye.toFixed(1)}mg/`;return E}else if(le==="vitamin_a"){let E=`
5000IU/A`;if(E+=`

`,A?.customNutrientTargets?.[le]?.mode==="manual"&&A.customNutrientTargets[le].value!==void 0){const V=A.customNutrientTargets[le].value;E+=`

`,E+=`
: ${V}IU`}else E+=`

`,E+=`
${ye.toFixed(0)}IU/`;return E}else if(le==="vitamin_k2"){let E=`
200g/MK-4-4`;if(E+=`

`,A?.customNutrientTargets?.[le]?.mode==="manual"&&A.customNutrientTargets[le].value!==void 0){const V=A.customNutrientTargets[le].value;E+=`

`,E+=`
: ${V}g`}else E+=`

`,E+=`
${ye.toFixed(0)}g/`;return E}else if(le==="vitamin_b12"){let E=`
2.4g/RDA`,V=2.4,me=!1;if(A?.alcoholFrequency==="daily"||A?.alcoholFrequency==="weekly"){const Be=V;V=Math.max(V,3);const M=V-Be;M>0&&(E+=`

`,E+=`
: 3.0g+${M.toFixed(1)}g  ${V.toFixed(1)}g`,me=!0)}if(me||(E+=`

`),A?.customNutrientTargets?.[le]?.mode==="manual"&&A.customNutrientTargets[le].value!==void 0){const Be=A.customNutrientTargets[le].value;E+=`

`,E+=`
: ${Be}g`}else E+=`

`,E+=`
${ye.toFixed(1)}g/`;return E}else if(le==="choline"){let E=`
450mg/RDA`;if(E+=`

`,A?.customNutrientTargets?.[le]?.mode==="manual"&&A.customNutrientTargets[le].value!==void 0){const V=A.customNutrientTargets[le].value;E+=`

`,E+=`
: ${V}mg`}else E+=`

`,E+=`
${ye.toFixed(0)}mg/`;return E}else if(le==="iron"){let E=`
`,V=8,me=!1;if(A?.gender==="female"?A?.isPostMenopause?(V=8,E+="8mg/"):(V=18,E+="18mg/",me=!0):E+="8mg/",A?.isPregnant){const Be=V;V=Math.max(V,27);const M=V-Be;M>0&&(me||(E+=`

`,me=!0),E+=`
: 27mg+${M.toFixed(0)}mg  ${V.toFixed(0)}mg`)}if(A?.isBreastfeeding){const Be=V;V=Math.max(V,9);const M=V-Be;M>0&&(me||(E+=`

`,me=!0),E+=`
: 9mg+${M.toFixed(0)}mg  ${V.toFixed(0)}mg`)}if(me||(E+=`

`),A?.customNutrientTargets?.[le]?.mode==="manual"&&A.customNutrientTargets[le].value!==void 0){const Be=A.customNutrientTargets[le].value;E+=`

`,E+=`
: ${Be}mg`}else E+=`

`,E+=`
${ye.toFixed(0)}mg/`;return E}else if(le==="phosphorus"||j==="phosphorus"||U.includes("")||U.includes("phosphorus")){let E=`
700mg/RDA`;if(E+=`

`,A?.customNutrientTargets?.[le]?.mode==="manual"&&A.customNutrientTargets[le].value!==void 0){const V=A.customNutrientTargets[le].value;E+=`

`,E+=`
: ${V}mg`}else E+=`

`,E+=`
${ye.toFixed(0)}mg/`;return E}return""};let Z=c;try{const le=Ze(p?.gender,p?.age,p?.activityLevel,p?.isPregnant,p?.isBreastfeeding,p?.isPostMenopause,p?.stressLevel,p?.sleepHours,p?.exerciseIntensity,p?.exerciseFrequency,p?.thyroidFunction,p?.sunExposureFrequency,p?.digestiveIssues,p?.inflammationLevel,p?.mentalHealthStatus,p?.supplementMagnesium,p?.supplementVitaminD,p?.supplementIodine,p?.alcoholFrequency,p?.caffeineIntake,p?.daysOnCarnivore,p?.carnivoreStartDate,p?.forceAdaptationMode,p?.bodyComposition,p?.weight,p?.metabolicStressIndicators,p?.customNutrientTargets),A={protein:"protein",fat:"fat",iron:"iron",magnesium:"magnesium",vitamin_d:"vitamin_d",sodium:"sodium",potassium:"potassium",zinc:"zinc",vitamin_c:"vitamin_c",vitamin_a:"vitamin_a",vitamin_k2:"vitamin_k2",vitamin_b12:"vitamin_b12",choline:"choline",phosphorus:"phosphorus"};de&&A[de]&&(Z=le[A[de]])}catch(le){console.error("Error calculating actual target:",le)}const J=R(de,p,Z,r);if(J)return a.jsxs("div",{style:{padding:"16px",backgroundColor:"#f0f9ff",borderRadius:"8px",border:"1px solid #3b82f6"},children:[a.jsx("p",{style:{fontSize:"15px",fontWeight:"600",color:"#0369a1",marginBottom:"12px"},children:":"}),a.jsx("p",{style:{fontSize:"14px",color:"#0c4a6e",fontFamily:"monospace",whiteSpace:"pre-wrap",lineHeight:"1.8",backgroundColor:"#e0f2fe",padding:"16px",borderRadius:"6px"},children:J})]});if(de){const le=Ze(),ye={protein:"protein",fat:"fat",iron:"iron",magnesium:"magnesium",vitamin_d:"vitamin_d",sodium:"sodium",potassium:"potassium",zinc:"zinc",vitamin_c:"vitamin_c",vitamin_a:"vitamin_a",vitamin_k2:"vitamin_k2",vitamin_b12:"vitamin_b12",choline:"choline"}[de];if(ye){const _=le[ye];return a.jsxs("div",{style:{padding:"16px",backgroundColor:"#f0f9ff",borderRadius:"8px",border:"1px solid #3b82f6"},children:[a.jsx("p",{style:{fontSize:"15px",fontWeight:"600",color:"#0369a1",marginBottom:"12px"},children:":"}),a.jsx("p",{style:{fontSize:"14px",color:"#0c4a6e",fontFamily:"monospace",whiteSpace:"pre-wrap",lineHeight:"1.8",backgroundColor:"#e0f2fe",padding:"16px",borderRadius:"6px"},children:`: ${_}${h}


: ${Z.toFixed(1)}${h}`})]})}}return a.jsx("div",{style:{padding:"16px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:a.jsx("p",{style:{fontSize:"14px",color:"#78716c"},children:""})})})()]})})]})})]})}function au(r,l){if(r?.dietRecommendations){const d=["meat","ribeye","beef","lamb","steak","ruminant"];if(r.dietRecommendations.some(y=>d.some(h=>y.toLowerCase().includes(h))))return!0}return!1}async function su(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission!=="denied"?await Notification.requestPermission()==="granted":!1:!1}async function zg(r){try{if(!await su())return console.warn("Notification permission not granted"),null;const d=new Date,c=new Date(d);c.setHours(20,0,0,0),c<d&&c.setDate(c.getDate()+1);const y=c.getTime()-d.getTime(),h=setTimeout(()=>{new Notification(" Thawing Alert",{body:r?`Move your ${r} from freezer to fridge.`:"Move your meat from freezer to fridge for tomorrow.",icon:"/icon.png",badge:"/icon.png"})},y),f=`defrost_${Date.now()}`,x=JSON.parse(localStorage.getItem("defrost_reminders")||"[]");return x.push({id:f,timeoutId:h,time:c.toISOString()}),localStorage.setItem("defrost_reminders",JSON.stringify(x)),f}catch{return null}}const kg=Object.freeze(Object.defineProperty({__proto__:null,hasMeatInPlan:au,requestNotificationPermission:su,scheduleDefrostReminder:zg},Symbol.toStringTag,{value:"Module"}));function P0(){const r=new Date;return r.setDate(r.getDate()+1),r.toISOString().split("T")[0]}async function Z0(r){const l=P0();let d=await iu(l);d||(d={date:l,status:{sleepScore:80,sunMinutes:30,activityLevel:"moderate"},fuel:[],calculatedMetrics:Rn([])}),d.recoveryProtocol=r;const c=[];return r.dietRecommendations&&r.dietRecommendations.forEach(y=>{const h=y.toLowerCase();h.includes("ribeye")||h.includes("beef")?c.push({item:"Beef Ribeye",amount:400,unit:"g",type:"ruminant",nutrients:{protein:80,fat:80,carbs:0,netCarbs:0,hemeIron:9.2,vitaminK:4.4,zinc:17.2,sodium:216,magnesium:80}}):h.includes("lamb")?c.push({item:"Lamb Chop",amount:300,unit:"g",type:"ruminant",nutrients:{protein:75,fat:63,carbs:0,netCarbs:0,hemeIron:5.4,vitaminK:3.6,zinc:13.5,sodium:195,magnesium:66}}):h.includes("bone broth")?c.push({item:"Bone Broth",amount:500,unit:"g",type:"animal",nutrients:{protein:10,fat:2,carbs:0,netCarbs:0,sodium:500,magnesium:20}}):h.includes("egg")&&c.push({item:"Eggs",amount:200,unit:"g",type:"animal",nutrients:{protein:26,fat:22,carbs:2.2,netCarbs:2.2,hemeIron:3.6,vitaminA:320,vitaminK:.6,zinc:2.2,sodium:280,magnesium:24}})}),c.length>0&&(d.fuel=[...d.fuel||[],...c],d.calculatedMetrics=Rn(d.fuel)),await Rs(d),d}function J0({protocol:r,onClose:l,onSetProtocol:d}){const{dailyLog:c,saveDailyLog:y,loadDailyLog:h}=ti(),[f,x]=m.useState(r.fastingTargetHours),w=async()=>{const j={...r,fastingTargetHours:f,targetFastEnd:sg(f)};try{if(await Z0(j),d(j),au(j)){const v=j.dietRecommendations?.find(p=>p.toLowerCase().includes("ribeye")||p.toLowerCase().includes("meat"))?.split(" ").find(p=>p.toLowerCase().includes("ribeye")||p.toLowerCase().includes("beef"))||"meat";await zg(v)}alert(` 

: ${f}${au(j)?`
8`:""}`),l()}catch(v){alert(Wa(v)||": ")}};return a.jsx("div",{className:"recovery-protocol-overlay",onClick:l,children:a.jsxs("div",{className:"recovery-protocol-container",onClick:j=>j.stopPropagation(),children:[a.jsxs("div",{className:"recovery-protocol-header",children:[a.jsxs("h2",{className:"recovery-protocol-title",children:["",a.jsx("span",{style:{fontSize:"0.8em",color:"#f59e0b",marginLeft:"0.5rem"},children:" "})]}),a.jsx("button",{className:"recovery-protocol-close",onClick:l,children:""})]}),a.jsxs("div",{className:"recovery-protocol-content",children:[a.jsx("div",{style:{padding:"0.75rem",backgroundColor:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.875rem",color:"#92400e"},children:" "}),a.jsxs("div",{className:"recovery-protocol-section",children:[a.jsx("h3",{className:"recovery-protocol-section-title",children:""}),a.jsx("div",{className:"recovery-protocol-violation-type",children:r.violationType.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"recovery-protocol-section",children:[a.jsx("h3",{className:"recovery-protocol-section-title",children:""}),a.jsxs("div",{className:"recovery-protocol-fasting-row",children:[a.jsx("input",{type:"number",className:"recovery-protocol-fasting-input",value:f.toString(),onChange:j=>x(Number(j.target.value)||16)}),a.jsx("span",{className:"recovery-protocol-fasting-label",children:""})]}),a.jsxs("div",{className:"recovery-protocol-fasting-hint",children:[": ",sg(f)]})]}),r.activities&&r.activities.length>0&&a.jsxs("div",{className:"recovery-protocol-section",children:[a.jsx("h3",{className:"recovery-protocol-section-title",children:""}),r.activities.map((j,v)=>a.jsxs("div",{className:"recovery-protocol-list-item",children:[a.jsx("span",{className:"recovery-protocol-list-bullet",children:""}),a.jsx("span",{className:"recovery-protocol-list-text",children:j})]},v))]}),r.dietRecommendations&&r.dietRecommendations.length>0&&a.jsxs("div",{className:"recovery-protocol-section",children:[a.jsx("h3",{className:"recovery-protocol-section-title",children:""}),r.dietRecommendations.map((j,v)=>a.jsxs("div",{className:"recovery-protocol-list-item",children:[a.jsx("span",{className:"recovery-protocol-list-bullet",children:""}),a.jsx("span",{className:"recovery-protocol-list-text",children:j})]},v))]}),r.supplements&&r.supplements.length>0&&a.jsxs("div",{className:"recovery-protocol-section",children:[a.jsx("h3",{className:"recovery-protocol-section-title",children:""}),r.supplements.map((j,v)=>a.jsxs("div",{className:"recovery-protocol-list-item",children:[a.jsx("span",{className:"recovery-protocol-list-bullet",children:""}),a.jsx("span",{className:"recovery-protocol-list-text",children:j})]},v))]}),r.warnings&&r.warnings.length>0&&a.jsxs("div",{className:"recovery-protocol-warning-section",children:[a.jsx("h3",{className:"recovery-protocol-warning-title",children:" "}),r.warnings.map((j,v)=>a.jsxs("div",{className:"recovery-protocol-list-item",children:[a.jsx("span",{className:"recovery-protocol-list-bullet",children:""}),a.jsx("span",{className:"recovery-protocol-warning-text",children:j})]},v))]}),r.todos&&r.todos.length>0&&a.jsxs("div",{className:"recovery-protocol-section",children:[a.jsx("h3",{className:"recovery-protocol-section-title",children:" "}),r.todos.map(j=>a.jsxs("div",{style:{padding:"0.75rem 1rem",backgroundColor:j.isCompleted?"#f0fdf4":"#fef3c7",border:`1px solid ${j.isCompleted?"#86efac":"#fbbf24"}`,borderRadius:"8px",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[a.jsx("input",{type:"checkbox",checked:j.isCompleted,onChange:async v=>{const p=r.todos?.map(T=>T.id===j.id?{...T,isCompleted:v.target.checked}:T)||[],k={...r,todos:p};if(c){const T={...c,recoveryProtocol:k};await y(T),h(new Date().toISOString().split("T")[0])}},style:{width:"18px",height:"18px",cursor:"pointer"}}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem",color:j.isCompleted?"#166534":"#92400e"},children:j.title}),j.description&&a.jsx("div",{style:{fontSize:"12px",color:j.isCompleted?"#16a34a":"#78350f"},children:j.description})]})]},j.id))]}),a.jsx("button",{className:"recovery-protocol-set-button",onClick:w,children:""}),a.jsx("div",{className:"recovery-protocol-footer-note",children:"8"})]})]})})}const co={beef:{ribeye:{id:"beef_ribeye",name:"Ribeye Steak",name_ja:"",name_fr:"Entrecte",name_de:"Rippensteak",protein:{value:20,min:18,max:22},fat:{value:22,min:18,max:28},carbs:{value:0,min:0,max:.5},default_unit:300,saturated_fat:{value:9,min:7,max:11},omega_6:{value:.4,min:.2,max:.6},zinc:{value:4.5,min:3.5,max:5.5},vitamin_b12:{value:2.8,min:2,max:3.5},iron:{value:2.5,min:2,max:3},sodium:{value:50,min:30,max:70},magnesium:{value:20,min:15,max:25},potassium:{value:350,min:300,max:400},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:.1,min:.05,max:.2},vitamin_k2:{value:1.5,min:1,max:2},omega_3:{value:.05,min:.03,max:.08},choline:{value:80,min:70,max:90},glycine:{value:.8,min:.7,max:.9},methionine:{value:.5,min:.45,max:.55}},sirloin:{id:"beef_sirloin",name:"Sirloin Steak",name_ja:"",name_fr:"Faux-filet",name_de:"Rinderfilet",protein:{value:22,min:20,max:24},fat:{value:12,min:8,max:16},carbs:{value:0,min:0,max:.5},default_unit:300,saturated_fat:{value:5,min:3,max:7},omega_6:{value:.3,min:.2,max:.5},zinc:{value:4,min:3,max:5},vitamin_b12:{value:2.5,min:2,max:3},iron:{value:2.3,min:2,max:2.8},sodium:{value:45,min:30,max:60},magnesium:{value:22,min:18,max:26},potassium:{value:360,min:320,max:400},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:0,min:0,max:0},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.05,min:.03,max:.08},choline:{value:85,min:75,max:95}},ground:{id:"beef_ground",name:"Ground Beef",name_ja:"",name_fr:"Buf hach",name_de:"Rinderhackfleisch",protein:{value:18,min:16,max:20},fat:{value:20,min:15,max:25},carbs:{value:0,min:0,max:.5},default_unit:450,saturated_fat:{value:8,min:6,max:10},omega_6:{value:.5,min:.3,max:.7},zinc:{value:4.2,min:3.5,max:5},vitamin_b12:{value:2.2,min:1.8,max:2.6},iron:{value:2,min:1.5,max:2.5},sodium:{value:60,min:40,max:80},magnesium:{value:18,min:15,max:21},potassium:{value:340,min:300,max:380},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:.1,min:.05,max:.2},vitamin_k2:{value:1.5,min:1,max:2},omega_3:{value:.05,min:.03,max:.08},choline:{value:75,min:65,max:85}},brisket:{id:"beef_brisket",name:"Brisket",name_ja:" / ",name_fr:"Poitrine de buf",name_de:"Rinderbrust",protein:{value:14,min:12,max:16},fat:{value:35,min:30,max:40},carbs:{value:.1,min:0,max:.3},default_unit:300,saturated_fat:{value:15,min:12,max:18},omega_6:{value:.8,min:.5,max:1},zinc:{value:3.2,min:2.5,max:4},vitamin_b12:{value:2,min:1.5,max:2.5},iron:{value:1.8,min:1.5,max:2.2},sodium:{value:55,min:40,max:70},magnesium:{value:15,min:12,max:18},potassium:{value:320,min:280,max:360},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:.1,min:.05,max:.2},vitamin_k2:{value:2,min:1.5,max:2.5},omega_3:{value:.05,min:.03,max:.08},choline:{value:70,min:60,max:80}},chuck:{id:"beef_chuck",name:"Chuck Roast",name_ja:"",name_fr:"Palette de buf",name_de:"Rinderschulter",protein:{value:19,min:17,max:21},fat:{value:16,min:12,max:20},carbs:{value:0,min:0,max:.5},default_unit:300,saturated_fat:{value:7,min:5,max:9},omega_6:{value:.5,min:.3,max:.7},zinc:{value:3.8,min:3,max:4.5},vitamin_b12:{value:2.3,min:1.8,max:2.8},iron:{value:2.2,min:1.8,max:2.6},sodium:{value:50,min:35,max:65},magnesium:{value:19,min:16,max:22},potassium:{value:355,min:320,max:390},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:.1,min:.05,max:.2},vitamin_k2:{value:1.2,min:.8,max:1.6},omega_3:{value:.05,min:.03,max:.08},choline:{value:82,min:72,max:92}},liver:{id:"beef_liver",name:"Beef Liver",name_ja:"",name_fr:"Foie de buf",name_de:"Rinderleber",protein:{value:20,min:18,max:22},fat:{value:3.6,min:2.5,max:5},carbs:{value:3.9,min:3,max:5},default_unit:100,saturated_fat:{value:1.5,min:1,max:2},omega_6:{value:.2,min:.1,max:.3},zinc:{value:4,min:3.5,max:4.5},vitamin_b12:{value:59.3,min:50,max:70},iron:{value:6.2,min:5,max:7.5},sodium:{value:70,min:50,max:90},magnesium:{value:18,min:15,max:21},vitamin_a:{value:49678,min:45e3,max:55e3},vitamin_d:{value:49,min:40,max:60},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.1,min:.05,max:.15},choline:{value:350,min:320,max:380}}},pork:{belly:{id:"pork_belly",name:"Pork Belly",name_ja:"",name_fr:"Poitrine de porc",name_de:"Schweinebauch",protein:{value:14.2,min:12,max:16},fat:{value:34.6,min:30,max:40},carbs:{value:.1,min:0,max:.3},default_unit:300,saturated_fat:{value:11,min:9,max:13},omega_6:{value:3.5,min:2.5,max:4.5},zinc:{value:1.5,min:1,max:2},vitamin_b12:{value:.6,min:.4,max:.8},iron:{value:.8,min:.5,max:1.2},sodium:{value:50,min:30,max:70},magnesium:{value:15,min:12,max:18},potassium:{value:200,min:180,max:220},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:2.5,min:2,max:3},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.2,min:.15,max:.25},choline:{value:60,min:50,max:70}},loin:{id:"pork_loin",name:"Pork Loin",name_ja:"",name_fr:"Longe de porc",name_de:"Schweinelende",protein:{value:22,min:20,max:24},fat:{value:10,min:7,max:13},carbs:{value:0,min:0,max:.5},default_unit:300,saturated_fat:{value:3.5,min:2.5,max:4.5},omega_6:{value:1.8,min:1.2,max:2.4},zinc:{value:2,min:1.5,max:2.5},vitamin_b12:{value:.7,min:.5,max:.9},iron:{value:.9,min:.7,max:1.2},sodium:{value:55,min:40,max:70},magnesium:{value:20,min:17,max:23},potassium:{value:300,min:270,max:330},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:.5,min:.3,max:.7},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.1,min:.05,max:.15},choline:{value:75,min:65,max:85}},shoulder:{id:"pork_shoulder",name:"Pork Shoulder",name_ja:"",name_fr:"paule de porc",name_de:"Schweineschulter",protein:{value:18,min:16,max:20},fat:{value:20,min:16,max:24},carbs:{value:0,min:0,max:.5},default_unit:300,saturated_fat:{value:7,min:5,max:9},omega_6:{value:2.5,min:1.8,max:3.2},zinc:{value:1.8,min:1.3,max:2.3},vitamin_b12:{value:.65,min:.5,max:.8},iron:{value:.85,min:.6,max:1.1},sodium:{value:52,min:38,max:66},magnesium:{value:18,min:15,max:21},potassium:{value:290,min:260,max:320},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:.6,min:.4,max:.8},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.1,min:.05,max:.15},choline:{value:70,min:60,max:80}},ribs:{id:"pork_ribs",name:"Pork Ribs",name_ja:"",name_fr:"Ctes de porc",name_de:"Schweinerippchen",protein:{value:16,min:14,max:18},fat:{value:28,min:24,max:32},carbs:{value:0,min:0,max:.5},default_unit:300,saturated_fat:{value:9,min:7,max:11},omega_6:{value:3,min:2.2,max:3.8},zinc:{value:1.6,min:1.2,max:2},vitamin_b12:{value:.6,min:.4,max:.8},iron:{value:.8,min:.6,max:1},sodium:{value:48,min:35,max:65},magnesium:{value:16,min:13,max:19},potassium:{value:275,min:245,max:305},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:.7,min:.5,max:.9},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.1,min:.05,max:.15},choline:{value:65,min:55,max:75}},liver:{id:"pork_liver",name:"Pork Liver",name_ja:"",name_fr:"Foie de porc",name_de:"Schweineleber",protein:{value:20,min:18,max:22},fat:{value:4,min:3,max:5.5},carbs:{value:3,min:2,max:4},default_unit:100,saturated_fat:{value:1.5,min:1,max:2},omega_6:{value:.5,min:.3,max:.7},zinc:{value:3,min:2.5,max:3.5},vitamin_b12:{value:26,min:22,max:30},iron:{value:15,min:12,max:18},sodium:{value:75,min:55,max:95},magnesium:{value:17,min:14,max:20},potassium:{value:230,min:200,max:260},vitamin_a:{value:32976,min:3e4,max:36e3},vitamin_d:{value:23,min:20,max:26},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.15,min:.1,max:.2},choline:{value:320,min:290,max:350}}},chicken:{breast:{id:"chicken_breast",name:"Chicken Breast",name_ja:"",name_fr:"Blanc de poulet",name_de:"Hhnchenbrust",protein:{value:31,min:29,max:33},fat:{value:3.6,min:2.5,max:5},carbs:{value:0,min:0,max:.5},default_unit:200,saturated_fat:{value:1,min:.7,max:1.5},omega_6:{value:.6,min:.4,max:.8},zinc:{value:.9,min:.7,max:1.2},vitamin_b12:{value:.3,min:.2,max:.4},iron:{value:.7,min:.5,max:.9},sodium:{value:70,min:50,max:90},magnesium:{value:28,min:24,max:32},potassium:{value:220,min:200,max:240},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:0,min:0,max:0},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.05,min:.03,max:.08},choline:{value:65,min:55,max:75}},thigh:{id:"chicken_thigh",name:"Chicken Thigh",name_ja:"",name_fr:"Cuisse de poulet",name_de:"Hhnchenschenkel",protein:{value:20,min:18,max:22},fat:{value:15,min:12,max:18},carbs:{value:0,min:0,max:.5},default_unit:200,saturated_fat:{value:4,min:3,max:5},omega_6:{value:2.5,min:2,max:3},zinc:{value:1.5,min:1.2,max:1.8},vitamin_b12:{value:.4,min:.3,max:.5},iron:{value:.9,min:.7,max:1.2},sodium:{value:75,min:55,max:95},magnesium:{value:20,min:17,max:23},potassium:{value:240,min:210,max:270},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:0,min:0,max:0},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.05,min:.03,max:.08},choline:{value:70,min:60,max:80}},wing:{id:"chicken_wing",name:"Chicken Wing",name_ja:"",name_fr:"Aile de poulet",name_de:"Hhnchenflgel",protein:{value:20,min:18,max:22},fat:{value:15,min:12,max:18},carbs:{value:0,min:0,max:.5},default_unit:150,saturated_fat:{value:4,min:3,max:5},omega_6:{value:2.5,min:2,max:3},zinc:{value:1.5,min:1.2,max:1.8},vitamin_b12:{value:.4,min:.3,max:.5},iron:{value:.9,min:.7,max:1.2},sodium:{value:75,min:55,max:95},magnesium:{value:20,min:17,max:23},potassium:{value:240,min:210,max:270},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:0,min:0,max:0},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.05,min:.03,max:.08},choline:{value:70,min:60,max:80}},liver:{id:"chicken_liver",name:"Chicken Liver",name_ja:"",name_fr:"Foie de poulet",name_de:"Hhnchenleber",protein:{value:18.9,min:17,max:21},fat:{value:3.1,min:2,max:4.5},carbs:{value:.6,min:.3,max:1},default_unit:100,saturated_fat:{value:1,min:.7,max:1.5},omega_6:{value:.5,min:.3,max:.7},zinc:{value:3.3,min:2.8,max:3.8},vitamin_b12:{value:44.4,min:38,max:50},iron:{value:9,min:7.5,max:11},sodium:{value:80,min:60,max:100},magnesium:{value:16,min:13,max:19},vitamin_a:{value:32976,min:3e4,max:36e3},vitamin_d:{value:49,min:40,max:60},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.1,min:.05,max:.15},choline:{value:290,min:270,max:310}},whole:{id:"chicken_whole",name:"Whole Chicken",name_ja:"",name_fr:"Poulet entier",name_de:"Ganzes Hhnchen",protein:{value:20,min:18,max:22},fat:{value:12,min:9,max:15},carbs:{value:0,min:0,max:.5},default_unit:1e3,saturated_fat:{value:3.5,min:2.5,max:4.5},omega_6:{value:2,min:1.5,max:2.5},zinc:{value:1.2,min:1,max:1.5},vitamin_b12:{value:.35,min:.25,max:.45},iron:{value:.8,min:.6,max:1},sodium:{value:72,min:52,max:92},magnesium:{value:19,min:16,max:22},potassium:{value:248,min:220,max:275},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:0,min:0,max:0},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.05,min:.03,max:.08},choline:{value:68,min:58,max:78}}},egg:{whole:{id:"egg_whole",name:"Whole Egg",name_ja:"",name_fr:"uf entier",name_de:"Volles Ei",protein:{value:12.5,min:11,max:14},fat:{value:10,min:8,max:12},carbs:{value:.7,min:.5,max:1},default_unit:50,saturated_fat:{value:3.1,min:2.5,max:3.7},omega_6:{value:1.2,min:1,max:1.5},zinc:{value:1,min:.8,max:1.2},vitamin_b12:{value:.9,min:.7,max:1.1},iron:{value:1.5,min:1.2,max:1.8},sodium:{value:140,min:120,max:160},magnesium:{value:10,min:8,max:12},potassium:{value:138,min:120,max:155},vitamin_a:{value:540,min:480,max:600},vitamin_d:{value:87,min:80,max:95},vitamin_k2:{value:5.4,min:4.8,max:6},omega_3:{value:.2,min:.15,max:.25},choline:{value:251,min:230,max:270},vitamin_b7:{value:20,min:18,max:22}},yolk:{id:"egg_yolk",name:"Egg Yolk",name_ja:"",name_fr:"Jaune d'uf",name_de:"Eigelb",protein:{value:16,min:14,max:18},fat:{value:26.5,min:24,max:29},carbs:{value:.3,min:.2,max:.5},default_unit:17,saturated_fat:{value:9.5,min:8,max:11},omega_6:{value:1.8,min:1.5,max:2.1},zinc:{value:2.3,min:2,max:2.6},vitamin_b12:{value:1.8,min:1.5,max:2.1},iron:{value:2.7,min:2.3,max:3.1},sodium:{value:8,min:6,max:10},magnesium:{value:5,min:4,max:6},vitamin_a:{value:1442,min:1300,max:1600},vitamin_d:{value:218,min:200,max:240},vitamin_k2:{value:15.5,min:14,max:17},omega_3:{value:.5,min:.4,max:.6},choline:{value:680,min:650,max:710},vitamin_b7:{value:50,min:45,max:55}},white:{id:"egg_white",name:"Egg White",name_ja:"",name_fr:"Blanc d'uf",name_de:"Eiwei",protein:{value:10.9,min:9.5,max:12},fat:{value:.2,min:.1,max:.3},carbs:{value:.7,min:.5,max:1},default_unit:33,saturated_fat:{value:0,min:0,max:.1},omega_6:{value:0,min:0,max:.1},zinc:{value:.1,min:.05,max:.15},vitamin_b12:{value:.1,min:.05,max:.15},iron:{value:.1,min:.05,max:.15},sodium:{value:166,min:150,max:180},magnesium:{value:11,min:9,max:13},potassium:{value:163,min:150,max:175},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:0,min:0,max:0},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:0,min:0,max:0},choline:{value:.4,min:.3,max:.5},vitamin_b7:{value:0,min:0,max:0}}},fish:{salmon:{id:"fish_salmon",name:"Salmon",name_ja:"",name_fr:"Saumon",name_de:"Lachs",protein:{value:20,min:18,max:22},fat:{value:12,min:10,max:14},carbs:{value:0,min:0,max:.5},default_unit:200,saturated_fat:{value:2.5,min:2,max:3},omega_6:{value:.2,min:.1,max:.3},zinc:{value:.5,min:.4,max:.6},vitamin_b12:{value:4.9,min:4,max:5.8},iron:{value:.8,min:.6,max:1},sodium:{value:44,min:35,max:55},magnesium:{value:27,min:23,max:31},potassium:{value:363,min:330,max:395},vitamin_a:{value:58,min:50,max:65},vitamin_d:{value:988,min:900,max:1100},vitamin_k2:{value:.5,min:.3,max:.7},omega_3:{value:2.3,min:2,max:2.6},choline:{value:75,min:65,max:85},iodine:{value:35,min:30,max:40}},tuna:{id:"fish_tuna",name:"Tuna",name_ja:"",name_fr:"Thon",name_de:"Thunfisch",protein:{value:24,min:22,max:26},fat:{value:1,min:.5,max:1.5},carbs:{value:0,min:0,max:.5},default_unit:200,saturated_fat:{value:.3,min:.2,max:.4},omega_6:{value:.1,min:.05,max:.15},zinc:{value:.8,min:.6,max:1},vitamin_b12:{value:9,min:7.5,max:10.5},iron:{value:1,min:.8,max:1.2},sodium:{value:37,min:30,max:45},magnesium:{value:30,min:25,max:35},potassium:{value:323,min:290,max:355},vitamin_a:{value:60,min:50,max:70},vitamin_d:{value:227,min:200,max:250},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.2,min:.15,max:.25},choline:{value:65,min:55,max:75},iodine:{value:50,min:45,max:55}},mackerel:{id:"fish_mackerel",name:"Mackerel",name_ja:"",name_fr:"Maquereau",name_de:"Makrele",protein:{value:19,min:17,max:21},fat:{value:12.6,min:11,max:14},carbs:{value:0,min:0,max:.5},default_unit:200,saturated_fat:{value:3.3,min:2.8,max:3.8},omega_6:{value:.2,min:.15,max:.25},zinc:{value:.6,min:.5,max:.7},vitamin_b12:{value:8.7,min:7.5,max:10},iron:{value:1.6,min:1.3,max:1.9},sodium:{value:63,min:50,max:75},magnesium:{value:25,min:21,max:29},potassium:{value:314,min:280,max:350},vitamin_a:{value:50,min:40,max:60},vitamin_d:{value:360,min:320,max:400},vitamin_k2:{value:.1,min:0,max:.2},omega_3:{value:2.6,min:2.3,max:2.9},choline:{value:65,min:55,max:75},iodine:{value:25,min:20,max:30}}},dairy:{egg:{id:"dairy_egg",name:"Egg (Whole)",name_ja:"",protein:{value:12.3,min:11.5,max:13},fat:{value:10.6,min:9.5,max:11.5},carbs:{value:.7,min:.5,max:1},default_unit:50,saturated_fat:{value:3.3,min:3,max:3.6},omega_6:{value:1.4,min:1.2,max:1.6},zinc:{value:1.1,min:.9,max:1.3},vitamin_b12:{value:.9,min:.7,max:1.1},iron:{value:1.8,min:1.5,max:2.1},sodium:{value:140,min:130,max:150},magnesium:{value:12,min:10,max:14},vitamin_a:{value:540,min:480,max:600},vitamin_d:{value:87,min:80,max:95},vitamin_k2:{value:31.4,min:28,max:35},omega_3:{value:.3,min:.2,max:.4},choline:{value:150,min:140,max:160},potassium:{value:138,min:120,max:155},vitamin_b7:{value:20,min:18,max:22},iodine:{value:25,min:20,max:30},calcium:{value:56,min:50,max:60},phosphorus:{value:198,min:180,max:210},glycine:{value:.4,min:.35,max:.45},methionine:{value:.4,min:.35,max:.45}},cheese:{id:"dairy_cheese",name:"Cheese",name_ja:"",name_fr:"Fromage",name_de:"Kse",protein:{value:25,min:23,max:27},fat:{value:33,min:30,max:36},carbs:{value:1,min:.5,max:2},default_unit:100,saturated_fat:{value:21,min:19,max:23},omega_6:{value:.8,min:.6,max:1},zinc:{value:3.1,min:2.8,max:3.5},vitamin_b12:{value:.8,min:.6,max:1},iron:{value:.7,min:.5,max:.9},sodium:{value:650,min:600,max:700},magnesium:{value:25,min:22,max:28},potassium:{value:98,min:85,max:110},vitamin_a:{value:1002,min:900,max:1100},vitamin_d:{value:24,min:20,max:28},vitamin_k2:{value:76,min:70,max:82},omega_3:{value:.1,min:.05,max:.15},choline:{value:15,min:12,max:18}},heavy_cream:{id:"dairy_heavy_cream",name:"Heavy Cream",name_ja:"",name_fr:"Crme paisse",name_de:"Schlagsahne",protein:{value:2.8,min:2.5,max:3},fat:{value:37,min:35,max:40},carbs:{value:2.8,min:2.5,max:3},default_unit:100,saturated_fat:{value:23,min:21,max:25},omega_6:{value:.6,min:.5,max:.7},zinc:{value:.2,min:.15,max:.25},vitamin_b12:{value:.2,min:.15,max:.25},iron:{value:.03,min:.02,max:.04},sodium:{value:27,min:25,max:30},magnesium:{value:7,min:6,max:8},potassium:{value:132,min:120,max:145},vitamin_a:{value:1387,min:1300,max:1500},vitamin_d:{value:7,min:5,max:9},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.1,min:.05,max:.15},choline:{value:19,min:17,max:21}},butter:{id:"dairy_butter",name:"Butter",name_ja:"",name_fr:"Beurre",name_de:"Butter",protein:{value:.9,min:.7,max:1.1},fat:{value:81,min:80,max:82},carbs:{value:.1,min:0,max:.2},default_unit:100,saturated_fat:{value:51,min:50,max:52},omega_6:{value:2.7,min:2.5,max:3},zinc:{value:.1,min:.05,max:.15},vitamin_b12:{value:.2,min:.15,max:.25},iron:{value:.02,min:.01,max:.03},sodium:{value:11,min:10,max:12},magnesium:{value:2,min:1.5,max:2.5},potassium:{value:24,min:20,max:28},vitamin_a:{value:2499,min:2300,max:2700},vitamin_d:{value:60,min:50,max:70},vitamin_k2:{value:15,min:12,max:18},omega_3:{value:.3,min:.2,max:.4},choline:{value:19,min:17,max:21}}},fat:{tallow:{id:"fat_tallow",name:"Beef Tallow",name_ja:"",name_fr:"Suif de buf",name_de:"Rindertalg",protein:{value:0,min:0,max:0},fat:{value:100,min:99,max:100},carbs:{value:0,min:0,max:0},default_unit:100,saturated_fat:{value:50,min:48,max:52},omega_6:{value:.5,min:.4,max:.6},zinc:{value:0,min:0,max:0},vitamin_b12:{value:0,min:0,max:0},iron:{value:0,min:0,max:0},sodium:{value:0,min:0,max:0},magnesium:{value:0,min:0,max:0},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:101,min:90,max:112},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.3,min:.2,max:.4}},ghee:{id:"fat_ghee",name:"Ghee",name_ja:"",name_fr:"Ghee",name_de:"Ghee",protein:{value:0,min:0,max:0},fat:{value:100,min:99,max:100},carbs:{value:0,min:0,max:0},default_unit:100,saturated_fat:{value:65,min:63,max:67},omega_6:{value:2.9,min:2.7,max:3.1},zinc:{value:0,min:0,max:0},vitamin_b12:{value:0,min:0,max:0},iron:{value:0,min:0,max:0},sodium:{value:0,min:0,max:0},magnesium:{value:0,min:0,max:0},potassium:{value:0,min:0,max:0},vitamin_a:{value:3069,min:2800,max:3300},vitamin_d:{value:0,min:0,max:0},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.3,min:.2,max:.4},choline:{value:0,min:0,max:0}},salt:{id:"fat_salt",name:"Salt",name_ja:"",name_fr:"Sel",name_de:"Salz",protein:{value:0,min:0,max:0},fat:{value:0,min:0,max:0},carbs:{value:0,min:0,max:0},default_unit:5,saturated_fat:{value:0,min:0,max:0},omega_6:{value:0,min:0,max:0},zinc:{value:0,min:0,max:0},vitamin_b12:{value:0,min:0,max:0},iron:{value:0,min:0,max:0},sodium:{value:38758,min:38500,max:39e3},magnesium:{value:2,min:1.5,max:2.5},iodine:{value:200,min:180,max:220},potassium:{value:0,min:0,max:0}}},plant:{soybean:{id:"plant_soybean",name:"Soybean",name_ja:"",protein:{value:35,min:33,max:37},fat:{value:19.9,min:18,max:21.8},carbs:{value:30.2,min:28,max:32.4},default_unit:100,fiber:{value:15.7,min:14,max:17.4},phytates:{value:1500,min:1200,max:1800},lectins:{value:200,min:150,max:250},saponins:{value:500,min:400,max:600},oxalates:{value:200,min:150,max:250}},tofu:{id:"plant_tofu",name:"Tofu",name_ja:"",protein:{value:8.1,min:7.5,max:8.7},fat:{value:4.8,min:4.2,max:5.4},carbs:{value:1.9,min:1.5,max:2.3},default_unit:100,fiber:{value:.4,min:.2,max:.6},phytates:{value:500,min:300,max:700},lectins:{value:50,min:30,max:70},saponins:{value:100,min:50,max:150}},spinach:{id:"plant_spinach",name:"Spinach",name_ja:"",protein:{value:2.9,min:2.5,max:3.3},fat:{value:.4,min:.3,max:.5},carbs:{value:3.6,min:3,max:4.2},default_unit:100,fiber:{value:2.2,min:2,max:2.4},oxalates:{value:970,min:800,max:1140},goitrogens:{value:200,min:150,max:250},tannins:{value:50,min:30,max:70}},nuts:{id:"plant_nuts",name:"Nuts",name_ja:"",protein:{value:20,min:18,max:22},fat:{value:50,min:45,max:55},carbs:{value:20,min:18,max:22},default_unit:30,fiber:{value:10,min:8,max:12},phytates:{value:2e3,min:1500,max:2500},lectins:{value:300,min:200,max:400},tannins:{value:100,min:50,max:150}},grain:{id:"plant_grain",name:"Grain",name_ja:"",protein:{value:12,min:10,max:14},fat:{value:2,min:1.5,max:2.5},carbs:{value:72,min:70,max:74},default_unit:100,fiber:{value:12,min:10,max:14},phytates:{value:3e3,min:2500,max:3500},lectins:{value:500,min:400,max:600},saponins:{value:200,min:150,max:250}}}};function wi(r,l){return co[r]?.[l]}function W0(r){const l=r.toLowerCase().trim();if(l.length===0)return;const d={:{animal:"beef",part:"ribeye"},:{animal:"beef",part:"ribeye"},:{animal:"beef",part:"sirloin"},:{animal:"beef",part:"ribeye"},:{animal:"beef",part:"ribeye"},:{animal:"beef",part:"ribeye"},:{animal:"beef",part:"ground"},:{animal:"beef",part:"brisket"},:{animal:"beef",part:"brisket"},:{animal:"beef",part:"chuck"},:{animal:"beef",part:"liver"},ribeye:{animal:"beef",part:"ribeye"},rib:{animal:"beef",part:"ribeye"},sirloin:{animal:"beef",part:"sirloin"},steak:{animal:"beef",part:"ribeye"},beef:{animal:"beef",part:"ribeye"},ground:{animal:"beef",part:"ground"},brisket:{animal:"beef",part:"brisket"},chuck:{animal:"beef",part:"chuck"},liver:{animal:"beef",part:"liver"},entrecte:{animal:"beef",part:"ribeye"},buf:{animal:"beef",part:"ribeye"},foie:{animal:"beef",part:"liver"},rippensteak:{animal:"beef",part:"ribeye"},rindfleisch:{animal:"beef",part:"ribeye"},leber:{animal:"beef",part:"liver"},:{animal:"pork",part:"belly"},:{animal:"pork",part:"belly"},:{animal:"pork",part:"belly"},:{animal:"pork",part:"belly"},:{animal:"pork",part:"loin"},:{animal:"pork",part:"shoulder"},:{animal:"pork",part:"ribs"},:{animal:"pork",part:"liver"},pork:{animal:"pork",part:"belly"},belly:{animal:"pork",part:"belly"},loin:{animal:"pork",part:"loin"},shoulder:{animal:"pork",part:"shoulder"},ribs:{animal:"pork",part:"ribs"},porc:{animal:"pork",part:"belly"},ventre:{animal:"pork",part:"belly"},schweinefleisch:{animal:"pork",part:"belly"},bauch:{animal:"pork",part:"belly"},:{animal:"chicken",part:"thigh"},:{animal:"chicken",part:"thigh"},:{animal:"chicken",part:"thigh"},:{animal:"chicken",part:"thigh"},:{animal:"chicken",part:"breast"},:{animal:"chicken",part:"wing"},:{animal:"chicken",part:"liver"},:{animal:"chicken",part:"whole"},chicken:{animal:"chicken",part:"thigh"},thigh:{animal:"chicken",part:"thigh"},breast:{animal:"chicken",part:"breast"},wing:{animal:"chicken",part:"wing"},whole:{animal:"chicken",part:"whole"},poulet:{animal:"chicken",part:"thigh"},cuisse:{animal:"chicken",part:"thigh"},blanc_poulet:{animal:"chicken",part:"breast"},huhn:{animal:"chicken",part:"thigh"},hhnchen:{animal:"chicken",part:"thigh"},schenkel:{animal:"chicken",part:"thigh"},brust:{animal:"chicken",part:"breast"},:{animal:"fish",part:"salmon"},:{animal:"fish",part:"salmon"},:{animal:"fish",part:"tuna"},:{animal:"fish",part:"mackerel"},salmon:{animal:"fish",part:"salmon"},tuna:{animal:"fish",part:"tuna"},mackerel:{animal:"fish",part:"mackerel"},fish:{animal:"fish",part:"salmon"},saumon:{animal:"fish",part:"salmon"},thon:{animal:"fish",part:"tuna"},maquereau:{animal:"fish",part:"mackerel"},poisson:{animal:"fish",part:"salmon"},lachs:{animal:"fish",part:"salmon"},thunfisch:{animal:"fish",part:"tuna"},makrele:{animal:"fish",part:"mackerel"},fisch:{animal:"fish",part:"salmon"},:{animal:"egg",part:"whole"},:{animal:"egg",part:"whole"},:{animal:"egg",part:"whole"},:{animal:"egg",part:"yolk"},:{animal:"egg",part:"white"},egg:{animal:"egg",part:"whole"},yolk:{animal:"egg",part:"yolk"},white:{animal:"egg",part:"white"},uf:{animal:"egg",part:"whole"},oeuf:{animal:"egg",part:"whole"},jaune:{animal:"egg",part:"yolk"},blanc:{animal:"egg",part:"white"},ei:{animal:"egg",part:"whole"},eigelb:{animal:"egg",part:"yolk"},eiwei:{animal:"egg",part:"white"},:{animal:"dairy",part:"cheese"},:{animal:"dairy",part:"heavy_cream"},:{animal:"dairy",part:"butter"},cheese:{animal:"dairy",part:"cheese"},cream:{animal:"dairy",part:"heavy_cream"},butter:{animal:"dairy",part:"butter"},fromage:{animal:"dairy",part:"cheese"},crme:{animal:"dairy",part:"heavy_cream"},beurre:{animal:"dairy",part:"butter"},kse:{animal:"dairy",part:"cheese"},sahne:{animal:"dairy",part:"heavy_cream"},:{animal:"fat",part:"tallow"},:{animal:"fat",part:"ghee"},:{animal:"fat",part:"salt"},tallow:{animal:"fat",part:"tallow"},ghee:{animal:"fat",part:"ghee"},salt:{animal:"fat",part:"salt"}};for(const h of Object.keys(co)){const f=co[h];if(f)for(const x of Object.keys(f)){const w=f[x];if(w&&(w.name.toLowerCase()===l||w.name_ja.toLowerCase()===l||w.id.toLowerCase()===l||w.name_fr&&w.name_fr.toLowerCase()===l||w.name_de&&w.name_de.toLowerCase()===l))return w}}for(const[h,f]of Object.entries(d))if(l.includes(h)||h.includes(l)){const x=wi(f.animal,f.part);if(x)return x}let c,y=0;for(const h of Object.keys(co)){const f=co[h];if(f)for(const x of Object.keys(f)){const w=f[x];if(!w)continue;const j=w.name.toLowerCase(),v=w.name_ja.toLowerCase(),p=w.name_fr?.toLowerCase()||"",k=w.name_de?.toLowerCase()||"",T=w.id.toLowerCase();let q=0;if(j===l||v===l||T===l||p===l||k===l)q=100;else if(j.startsWith(l)||v.startsWith(l)||p.startsWith(l)||k.startsWith(l))q=80;else if(j.endsWith(l)||v.endsWith(l)||p.endsWith(l)||k.endsWith(l))q=70;else if(j.includes(l)||v.includes(l)||p.includes(l)||k.includes(l))q=60;else if(l.includes(j)||l.includes(v)||l.includes(p)||l.includes(k))q=50;else{const ne=j.split(/[\s\-_]+/),fe=v.split(/[\s\-_]+/),se=p.split(/[\s\-_]+/),te=k.split(/[\s\-_]+/),oe=l.split(/[\s\-_]+/);for(const ve of oe)ne.some(xe=>xe.includes(ve)||ve.includes(xe))&&(q+=30),fe.some(xe=>xe.includes(ve)||ve.includes(xe))&&(q+=30),se.some(xe=>xe.includes(ve)||ve.includes(xe))&&(q+=30),te.some(xe=>xe.includes(ve)||ve.includes(xe))&&(q+=30)}q>y&&(y=q,c=w)}}return c}const fg=Object.freeze(Object.defineProperty({__proto__:null,FOOD_MASTER:co,getFoodMasterItem:wi,searchFoodMasterByName:W0},Symbol.toStringTag,{value:"Module"})),Ss={saltUnitLabel:"",saltUnitWeight:.5,targetCarbs:0,saltType:"table_salt"};function Ag(){const[r,l]=m.useState(()=>{const c=localStorage.getItem("user_config");if(c)try{return{...Ss,...JSON.parse(c)}}catch{return Ss}return Ss}),d=c=>{const y={...r,...c};l(y),localStorage.setItem("user_config",JSON.stringify(y))};return m.useEffect(()=>{const c=localStorage.getItem("user_config");if(c)try{const y=JSON.parse(c);l({...Ss,...y})}catch{}},[]),{config:r,updateConfig:d}}const ev=[{key:"protein",label:"",priority:1},{key:"fat",label:"",priority:2},{key:"zinc",label:"",priority:3},{key:"magnesium",label:"",priority:4},{key:"iron",label:"",priority:5},{key:"potassium",label:"",priority:6},{key:"sodium",label:"",priority:7},{key:"vitaminA",label:"A",priority:8},{key:"vitaminD",label:"D",priority:9},{key:"vitaminK2",label:"K2",priority:10},{key:"vitaminB12",label:"B12",priority:11},{key:"vitaminB7",label:"B7",priority:12},{key:"choline",label:"",priority:13},{key:"iodine",label:"",priority:14},{key:"calcium",label:"",priority:15},{key:"phosphorus",label:"",priority:16},{key:"glycine",label:"",priority:17},{key:"methionine",label:"",priority:18},{key:"omegaRatio",label:"3/6",priority:19}],tv="primal-logic-butcher-nutrient-order";function nv(){try{const r=localStorage.getItem(tv);if(r)return JSON.parse(r)}catch{}return ev}function av(r,l,d){return l==="default"?[...r].sort((c,y)=>c.priority-y.priority):l==="deficiency"?[...r].sort((c,y)=>{const h=d[c.key],f=d[y.key];if(!h||!f||h.target<=0&&f.target<=0)return 0;if(h.target<=0)return 1;if(f.target<=0)return-1;const x=h.currentDailyTotal+h.previewAmount,w=f.currentDailyTotal+f.previewAmount,j=x/h.target,v=w/f.target;return j-v}):r}const al=[{key:"protein",label:"",unit:"g",category:"macro",defaultVisible:!0},{key:"fat",label:"",unit:"g",category:"macro",defaultVisible:!0},{key:"carbs",label:"",unit:"g",category:"macro",defaultVisible:!0},{key:"netCarbs",label:"",unit:"g",category:"macro",defaultVisible:!0},{key:"fiber",label:"",unit:"g",category:"macro",defaultVisible:!0},{key:"sodium",label:"",unit:"mg",category:"mineral",defaultVisible:!0},{key:"magnesium",label:"",unit:"mg",category:"mineral",defaultVisible:!0},{key:"potassium",label:"",unit:"mg",category:"mineral",defaultVisible:!0},{key:"zinc",label:"",unit:"mg",category:"mineral",defaultVisible:!0},{key:"iron",label:"",unit:"mg",category:"mineral",defaultVisible:!0},{key:"calcium",label:"",unit:"mg",category:"mineral",defaultVisible:!0},{key:"phosphorus",label:"",unit:"mg",category:"mineral",defaultVisible:!0},{key:"selenium",label:"",unit:"g",category:"mineral",defaultVisible:!0},{key:"copper",label:"",unit:"mg",category:"mineral",defaultVisible:!0},{key:"manganese",label:"",unit:"mg",category:"mineral",defaultVisible:!0},{key:"iodine",label:"",unit:"g",category:"mineral",defaultVisible:!0},{key:"chromium",label:"",unit:"g",category:"mineral",defaultVisible:!0},{key:"molybdenum",label:"",unit:"g",category:"mineral",defaultVisible:!0},{key:"fluoride",label:"",unit:"mg",category:"mineral",defaultVisible:!0},{key:"chloride",label:"",unit:"mg",category:"mineral",defaultVisible:!0},{key:"boron",label:"",unit:"mg",category:"mineral",defaultVisible:!0},{key:"nickel",label:"",unit:"mg",category:"mineral",defaultVisible:!0},{key:"silicon",label:"",unit:"mg",category:"mineral",defaultVisible:!0},{key:"vanadium",label:"",unit:"g",category:"mineral",defaultVisible:!0},{key:"vitaminA",label:"A",unit:"IU",category:"fatSolubleVitamin",defaultVisible:!0},{key:"vitaminD",label:"D",unit:"IU",category:"fatSolubleVitamin",defaultVisible:!0},{key:"vitaminK",label:"K",unit:"g",category:"fatSolubleVitamin",defaultVisible:!0},{key:"vitaminK2",label:"K2",unit:"g",category:"fatSolubleVitamin",defaultVisible:!0},{key:"vitaminE",label:"E",unit:"mg",category:"fatSolubleVitamin",defaultVisible:!0},{key:"vitaminC",label:"C",unit:"mg",category:"waterSolubleVitamin",defaultVisible:!0},{key:"vitaminB1",label:"B1",unit:"mg",category:"waterSolubleVitamin",defaultVisible:!0},{key:"vitaminB2",label:"B2",unit:"mg",category:"waterSolubleVitamin",defaultVisible:!0},{key:"vitaminB3",label:"B3",unit:"mg",category:"waterSolubleVitamin",defaultVisible:!0},{key:"vitaminB6",label:"B6",unit:"mg",category:"waterSolubleVitamin",defaultVisible:!0},{key:"vitaminB7",label:"B7",unit:"g",category:"waterSolubleVitamin",defaultVisible:!0},{key:"vitaminB9",label:"B9",unit:"g",category:"waterSolubleVitamin",defaultVisible:!0},{key:"vitaminB12",label:"B12",unit:"g",category:"waterSolubleVitamin",defaultVisible:!0},{key:"vitaminB5",label:"B5",unit:"mg",category:"waterSolubleVitamin",defaultVisible:!0},{key:"choline",label:"",unit:"mg",category:"other",defaultVisible:!0},{key:"taurine",label:"",unit:"mg",category:"other",defaultVisible:!0},{key:"omega3",label:"3",unit:"g",category:"other",defaultVisible:!0},{key:"omega6",label:"6",unit:"g",category:"other",defaultVisible:!0},{key:"omegaRatio",label:"6:3",unit:"",category:"other",defaultVisible:!0},{key:"calciumPhosphorusRatio",label:":",unit:"",category:"ratio",defaultVisible:!0},{key:"glycineMethionineRatio",label:":",unit:"",category:"ratio",defaultVisible:!0},{key:"pfRatio",label:"P:F",unit:"",category:"ratio",defaultVisible:!0},{key:"phytates",label:"",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"polyphenols",label:"",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"flavonoids",label:"",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"anthocyanins",label:"",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"oxalates",label:"",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"lectins",label:"",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"saponins",label:"",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"goitrogens",label:"",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"tannins",label:"",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"trypsinInhibitors",label:"",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"proteaseInhibitors",label:"",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"cyanogenicGlycosides",label:"",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"solanine",label:"",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"chaconine",label:"",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"plantProtein",label:"",unit:"g",category:"avoid",defaultVisible:!0},{key:"vegetableOil",label:"",unit:"g",category:"avoid",defaultVisible:!0}],Dg="primal_logic_nutrient_display_settings";function ru(){try{const r=localStorage.getItem(Dg);if(r){const d=JSON.parse(r),c={};return al.forEach(y=>{c[y.key]=y.defaultVisible}),{...c,...d}}const l={};return al.forEach(d=>{l[d.key]=d.defaultVisible}),l}catch{const l={};return al.forEach(d=>{l[d.key]=d.defaultVisible}),l}}function cu(r){try{localStorage.setItem(Dg,JSON.stringify(r))}catch{}}function Yy(r){const l=ru();l[r]=!l[r],cu(l)}function Xy(r,l){const d=ru();al.filter(c=>c.category===r).forEach(c=>{d[c.key]=l}),cu(d)}function $y(r){const l={};al.forEach(d=>{l[d.key]=r}),cu(l)}const ks=[{key:"streakDisplay",label:"",category:"screenElement",defaultVisible:!0,description:""},{key:"phaseDisplay",label:"Phase",category:"screenElement",defaultVisible:!0,description:"PhaseRookie, Carnivore, Hunter"},{key:"transitionBanner",label:"",category:"screenElement",defaultVisible:!0,description:""},{key:"transitionGuide",label:"",category:"screenElement",defaultVisible:!0,description:""},{key:"pfRatioGauge",label:"P:F",category:"screenElement",defaultVisible:!0,description:":"},{key:"omegaRatioGauge",label:"",category:"screenElement",defaultVisible:!0,description:"3/6"},{key:"calciumPhosphorusRatioGauge",label:":",category:"screenElement",defaultVisible:!0,description:":"},{key:"glycineMethionineRatioGauge",label:":",category:"screenElement",defaultVisible:!0,description:":"},{key:"argumentCard",label:"",category:"screenElement",defaultVisible:!1,description:""},{key:"recoveryProtocol",label:"",category:"screenElement",defaultVisible:!1,description:""},{key:"myFoodsTab",label:"",category:"screenElement",defaultVisible:!0,description:""},{key:"historyTab",label:"",category:"screenElement",defaultVisible:!0,description:""},{key:"aiSpeedDial",label:"AI Speed Dial",category:"screenElement",defaultVisible:!0,description:"AI"},{key:"photoUpload",label:"",category:"screenElement",defaultVisible:!0,description:""},{key:"avoidZone",label:"Avoid Zone",category:"screenElement",defaultVisible:!0,description:""},{key:"nutrientTrendGraph",label:"",category:"analysis",defaultVisible:!0,description:""},{key:"weeklySummary",label:"",category:"analysis",defaultVisible:!0,description:""},{key:"monthlySummary",label:"",category:"analysis",defaultVisible:!0,description:""},{key:"statisticsCard",label:"",category:"analysis",defaultVisible:!0,description:""},{key:"electrolyteAlert",label:"",category:"notification",defaultVisible:!0,description:"Na/K/Mg"},{key:"fatDeficiencyReminder",label:"",category:"notification",defaultVisible:!0,description:"18"},{key:"streakReminder",label:"",category:"notification",defaultVisible:!0,description:""},{key:"debugMode",label:"",category:"other",defaultVisible:!0,description:""},{key:"customFoodRegistration",label:"",category:"other",defaultVisible:!0,description:""},{key:"bodyCompositionSettings",label:"",category:"other",defaultVisible:!0,description:"LBM"},{key:"metabolicStressIndicators",label:"",category:"other",defaultVisible:!0,description:""},{key:"nutrientTargetCustomization",label:"",category:"other",defaultVisible:!0,description:""}],Eg="primal_logic_feature_display_settings";function il(){try{const r=localStorage.getItem(Eg),l={};if(ks.forEach(d=>{l[d.key]=d.defaultVisible}),r){const d=JSON.parse(r);return{...l,...d}}return l}catch{const l={};return ks.forEach(d=>{l[d.key]=d.defaultVisible}),l}}function uu(r){try{localStorage.setItem(Eg,JSON.stringify(r))}catch{}}function Qy(r){const l=il();l[r]=!l[r],uu(l)}function Py(r,l){const d=il();ks.filter(c=>c.category===r).forEach(c=>{d[c.key]=l}),uu(d)}function Zy(r){const l={};ks.forEach(d=>{l[d.key]=r}),uu(l)}const Mg="AIzaSyAqMSE8HCCVwd3VQA26ZdK-moc1eyS9Lbo",ol=new Zh(Mg),ll=()=>ol!==null&&Mg!==void 0;function iv(r){const l={answer:""},d=r.match(/<thinking>([\s\S]*?)<\/thinking>/i);d&&d[1]&&(l.thinking=d[1].trim());const c=r.match(/<answer>([\s\S]*?)<\/answer>/i);c&&c[1]&&(l.answer=c[1].trim());const y=r.match(/<verification>([\s\S]*?)<\/verification>/i);if(y&&y[1]){const x=y[1].trim(),w=x.match(/<plan>([\s\S]*?)<\/plan>/i);if(w&&w[1]){const p=w[1].split(`
`).map(k=>k.trim()).filter(k=>k.length>0&&k.match(/^[-\d]/));l.verification={plan:p,execution:[],status:"uncertain"}}const j=x.match(/<execution>([\s\S]*?)<\/execution>/i);if(j&&j[1]){const k=j[1].trim().split(/Q:|A:/i).filter(q=>q.trim().length>0),T=[];for(let q=0;q<k.length;q+=2)k[q]&&k[q+1]&&T.push({question:k[q].trim(),answer:k[q+1].trim()});l.verification&&(l.verification.execution=T)}const v=x.match(/<status>(verified|uncertain|needs_human_review)<\/status>/i);v&&l.verification&&(l.verification.status=v[1])}const h=r.match(/<citations>([\s\S]*?)<\/citations>/i);if(h&&h[1]){const x=h[1].trim(),w=[],j=x.split(`
`).filter(v=>v.trim().length>0);for(const v of j){const p=v.split("|").map(k=>k.trim());p.length>=2&&w.push({sentence:p[0]||"",source:p[1]||"",confidence:p[2]?parseFloat(p[2]):.8})}w.length>0&&(l.citations=w)}const f=r.match(/<todos>([\s\S]*?)<\/todos>/i);if(f&&f[1]){const x=f[1].trim(),w=[],j=x.split(`
`).filter(v=>v.trim().length>0);for(const v of j){const p=v.split("|").map(k=>k.trim());if(p.length>=1){const k=p[2]||"custom",T={id:`todo_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,title:p[0]||"",description:p[1]||void 0,actionType:k,actionParams:p[3]?JSON.parse(p[3]):void 0,isCompleted:!1};p[2]&&(T.action={type:k,params:p[3]?JSON.parse(p[3]):void 0}),w.push(T)}}w.length>0&&(l.todos=w)}return l}async function ov(r,l=[],d=!1,c=!0,y="purist",h="fast",f,x){if(!ll())throw new Error(`Gemini API
VITE_GEMINI_API_KEY  .env 
AIAPI`);try{let w;switch(h){case"fast":w="gemini-2.5-flash";break;case"thinking":w="gemini-2.0-flash-exp";break;case"pro":w="gemini-2.0-pro-exp";break;default:w="gemini-2.5-flash"}const j=ol.getGenerativeModel({model:w}),v=x?`


${x.height?`- : ${x.height}cm`:""}
${x.weight?`- : ${x.weight}kg`:""}
${x.age?`- : ${x.age}`:""}
${x.gender?`- : ${x.gender==="male"?"":""}`:""}
${x.activityLevel?`- : ${x.activityLevel}`:""}
${x.isPregnant?"- : ":""}
${x.isBreastfeeding?"- : ":""}
${x.stressLevel?`- : ${x.stressLevel}`:""}
${x.sleepHours?`- : ${x.sleepHours}/`:""}
${x.exerciseIntensity?`- : ${x.exerciseIntensity}`:""}
${x.exerciseFrequency?`- : ${x.exerciseFrequency}/`:""}
${x.thyroidFunction?`- : ${x.thyroidFunction}`:""}
${x.metabolicStatus?`- : ${x.metabolicStatus==="adapted"?"":""}`:""}
${x.daysOnCarnivore?`- : ${x.daysOnCarnivore}`:""}
`:"",p=`
Social Protocols
- ** vs **: 
- ****: 
- ****: 
- ****: 16 + 
- ****: 
`,k=f&&f.logs.length>0?`
Detective AI: 


24-48

****: ${f.logs.length}

${f.logs.map((xe,de)=>{const je=new Date(xe.date),Q=`${je.getMonth()+1}/${je.getDate()}`,Ne=xe.foods.join(""),Oe=xe.diary||"";return`${Q}
: ${Ne||""}
: ${Oe}`}).join(`

`)}


- 24-48
- 
- 
- 
`:"",ne=`<system_prompt>
  <role_definition>
    
    
    ****:
    - 
    - 
    - 
    - : 
    - : 
    
    CarnivOS
  </role_definition>
  ${y==="purist"?`
Purist


1. ****: 
2. ****: 
3. ****: 
4. ****: 
5. ****: 
6. ****: 
7. **Stefansson (1928) Bellevue Hospital Study**: 
8. **Cahill (1970s) Starvation Studies**: -Glucose-Ascorbate Antagonism


- 
- 
- 
- CGlucose-Ascorbate Antagonism10mg130mgRDA90mg
`:`
Realist


1. ****: 
2. ****: 
3. ****: 
4. ****: 
5. ****: 
6. ****: 
7. **Stefansson (1928) Bellevue Hospital Study**: 
8. **Cahill (1970s) Starvation Studies**: -Glucose-Ascorbate Antagonism

Realist
- 
- 
- 
- 


- 
- 
- 
- CGlucose-Ascorbate Antagonism10mg130mgRDA90mg
`}
${v}
${k}

CarnivOS () 

CarnivOS ()

**:**
1. ****: P:FAI
2. ****: 
3. ****: 
4. ****: 
5. ****: 
6. ****: ON/OFF

**:**
- ****: + 
- ****: 100
- ****: 
- **4**: 4
- **Avoid Zone**: 
- **AI**: 

**:**
- ****
- ****: 
  - 123
  - 123...
  -   
- 
- 1
- ****: 
  \`\`\`
  1  
  1. + 
  2. 
  3. 
  4. 
  5.  []
  
  \`\`\`

  
  <instruction>
  <answer>
  ${l.length>0?`
${l.map(xe=>`${xe.role==="user"?"":""}: ${xe.content}`).join(`
`)}

`:""}
  
  
${r}
${f&&f.logs.length>0?`

Detective AI



24-48
`:""}
  
  
  
  ${c?"":""}
  
  ****
  
  **:**
  1. ****
     - : 1
  
  2. ****
     - : 2-3
  
  3. ****
     - : 3-4
  
  4. ****
     - : 2-3
     - ****: Todo<todos>
  
  5. ****
     - : 4-54      
  
  ****: 
  - CarnivOS
  - 
  - 2-3
  - 3-4
  - 2-3
  - 
  - 
  
  ****:
  - 
  - 
  - 
  - : 
  - : 
]
  </answer>
  
  ${c?`
  <citations>
  [
  ||
  :
  C|Glucose-Ascorbate Antagonism|0.9
  1|Stefansson (1928) Bellevue Hospital Study|0.95]
  </citations>
  `:""}
  
  <todos>
  [Todo
  |||JSON
  
  :
  - timer: 16
  - add_food: 2g200g3
  - set_protocol: 
  - open_screen: 
  - update_input: 
  - custom: 
  
  ****:
  - 200g10g**add_food**
  - 
  - 300g2g
  
  **add_food**:
  - item: 
  - amount: 20032
  - unit: "g""""g"""
  
  
  ****: 
  ****: 
  
  
  :
  16||timer|{"hours":16}
  2g||add_food|{"item":"","amount":2,"unit":"g"}
  200g||add_food|{"item":"","amount":200,"unit":"g"}
  300g||add_food|{"item":"","amount":300,"unit":"g"}
  3||add_food|{"item":"","amount":3,"unit":""}
  ||set_protocol|{"violationType":"sugar_carbs"}
  ||update_input|{"sleepScore":95,"sleepHours":8,"sunMinutes":30,"bowelMovement":{"status":"normal"},"activityLevel":"moderate"}]
  </todos>
</instruction>`,te=(await(await j.generateContent(ne)).response).text();if(!te||te.trim().length===0)throw new Error("AI");const oe=iv(te);let ve=oe.answer||te;return ve=ve.replace(/<thinking>[\s\S]*?<\/thinking>/gi,"").replace(/<verification>[\s\S]*?<\/verification>/gi,"").replace(/<citations>[\s\S]*?<\/citations>/gi,"").replace(/<todos>[\s\S]*?<\/todos>/gi,"").trim(),{answer:ve,todos:oe.todos,citations:oe.citations}}catch(w){const j=Wa(w)||"";throw new Error(`AI: ${j}
API`)}}async function lv(r){if(!ll())throw new Error("Gemini API");try{const l=ol.getGenerativeModel({model:"gemini-2.5-flash"}),d=await sv(r),f=(await(await l.generateContent([`


JSON
{
  "foodName": ": ",
  "estimatedWeight": g,
  "type": "animal" | "plant" | "trash" | "ruminant" | "dairy",
  "nutrients": {
    "protein": g/100g,
    "fat": g/100g,
    "carbs": g/100g,
    "fiber": g/100g,
    "sodium": mg/100g,
    "potassium": mg/100g,
    "magnesium": mg/100g,
    "zinc": mg/100g,
    "iron": mg/100g,
    "calcium": mg/100g,
    "phosphorus": mg/100g,
    "selenium": g/100g,
    "copper": mg/100g,
    "manganese": mg/100g,
    "vitaminA": AIU/100g,
    "vitaminD": DIU/100g,
    "vitaminE": EIU/100g,
    "vitaminK": Kg/100g,
    "vitaminK2": K2g/100g,
    "vitaminB1": B1mg/100g,
    "vitaminB2": B2mg/100g,
    "vitaminB3": B3mg/100g,
    "vitaminB5": B5mg/100g,
    "vitaminB6": B6mg/100g,
    "vitaminB7": B7g/100g,
    "vitaminB9": B9g/100g,
    "vitaminB12": B12g/100g,
    "vitaminC": Cmg/100g,
    "choline": mg/100g,
    "taurine": mg/100g,
    "iodine": g/100g,
    "omega3": 3g/100g,
    "omega6": 6g/100g,
    "glycine": g/100g,
    "methionine": g/100g,
    "chromium": g/100g,
    "molybdenum": g/100g,
    "boron": mg/100g,
    "vanadium": g/100g
  },
  "followupQuestions": ["", ""] // 
}

:
- : """"
- 10g
- 100g
- null
- USDA FoodData Central
- B123/6
- B
- followupQuestions
- ****: followupQuestions
- L
- 3`,{inlineData:{data:d,mimeType:r.type||"image/jpeg"}}])).response).text();try{const j=f.match(/\{[\s\S]*\}/);if(j){const v=JSON.parse(j[0]);return{foodName:v.foodName||"",estimatedWeight:Math.round((v.estimatedWeight||300)/10)*10,type:v.type||"animal",nutrients:v.nutrients||{},followupQuestions:v.followupQuestions||[]}}}catch(j){}const x=rv(f),w=cv(f);return{foodName:x,estimatedWeight:Math.round(w/10)*10,type:"animal",nutrients:{},followupQuestions:[]}}catch(l){const d=l instanceof Error?l.message:"";throw d.includes("API")||d.includes("API key")?new Error("Gemini API"):new Error("")}}async function Rg(r,l){if(!ll())throw new Error("Gemini API");try{const d=ol.getGenerativeModel({model:"gemini-2.5-flash"}),c=`
      

:
- : ${r.foodName}
- : ${r.estimatedWeight}g
- : ${r.type}

:
${Object.entries(l).map(([w,j])=>`- : "${w}" -> : "${j}"`).join(`
`)}

JSON
{
  "foodName": ": ",
  "estimatedWeight": g,
  "type": "animal" | "plant" | "trash" | "ruminant" | "dairy",
  "nutrients": {
    "protein": g/100g,
    "fat": g/100g,
    "carbs": g/100g,
    "fiber": g/100g,
    "sodium": mg/100g,
    "magnesium": mg/100g,
    "potassium": mg/100g,
    "zinc": mg/100g,
    "iron": mg/100g,
    
    ...analyzeFoodImage
  }
}

:
- 10g80%
- 400gJSONnutrients100g`,x=(await(await d.generateContent(c)).response).text().match(/\{[\s\S]*\}/);if(x){const w=JSON.parse(x[0]);return{foodName:w.foodName,estimatedWeight:w.estimatedWeight,type:w.type||"animal",nutrients:w.nutrients||{}}}throw new Error("")}catch{throw new Error("")}}function sv(r){return new Promise((l,d)=>{const c=new FileReader;c.onloadend=()=>{const y=c.result.split(",")[1];l(y)},c.onerror=d,c.readAsDataURL(r)})}function rv(r){const l=["","","","","","","",""];for(const d of l)if(r.includes(d))return d;return""}function cv(r){const l=r.match(/(\d+)\s*g/);return l?parseInt(l[1],10):300}async function Bg(r,l){if(!ll())throw new Error("Gemini API");try{const d=ol.getGenerativeModel({model:"gemini-2.5-flash"}),c=`

: ${r}
${l&&Object.keys(l).length>0?`
:
${Object.entries(l).map(([x,w])=>`- ${x}: ${w}`).join(`
`)}
`:""}

JSON
{
  "foodName": "",
  "type": "animal" | "plant" | "trash" | "ruminant" | "dairy",
  "nutrients": {
    "protein": g/100g,
    "fat": g/100g,
    "carbs": g/100g,
    "fiber": g/100g,
    "sodium": mg/100g,
    "magnesium": mg/100g,
    "potassium": mg/100g,
    "zinc": mg/100g,
    "iron": mg/100g,
    "vitaminA": AIU/100g,
    "vitaminD": DIU/100g,
    "vitaminK2": K2g/100g,
    "vitaminB12": B12g/100g,
    "omega3": 3g/100g,
    "omega6": 6g/100g,
    "calcium": mg/100g,
    "phosphorus": mg/100g,
    "glycine": g/100g,
    "methionine": g/100g,
    "taurine": mg/100g,
    "vitaminB1": B1mg/100g,
    "vitaminB2": B2mg/100g,
    "vitaminB3": B3mg/100g,
    "vitaminB6": B6mg/100g,
    "vitaminB7": B7g/100g,
    "vitaminB5": B5mg/100g,
    "vitaminB9": B9g/100gFolate,
    "vitaminE": Emg/100g,
    "selenium": g/100g,
    "copper": mg/100g,
    "manganese": mg/100g,
    "iodine": g/100g,
    "chromium": g/100g,
    "molybdenum": g/100g,
    "fluoride": mg/100g,
    "chloride": mg/100g,
    "boron": mg/100g,
    "nickel": mg/100g,
    "silicon": mg/100g,
    "vanadium": g/100g,
    "choline": mg/100g,
    "phytates": mg/100g,
    "oxalates": mg/100g,
    "lectins": mg/100g
  },
  "followupQuestions": : ["", "", ""]
}

:
- 
- phytates, oxalates, lectins
- 100g
- null
- USDA FoodData Central
- ****: followupQuestions: [""]
- ****: followupQuestions: [""]
- ****: followupQuestions: ["", ""]
- : """"followupQuestions: ["", ""]`,f=(await(await d.generateContent(c)).response).text();try{const x=f.match(/\{[\s\S]*\}/);if(x){const w=JSON.parse(x[0]);return{foodName:w.foodName||r,type:w.type||"animal",followupQuestions:w.followupQuestions||void 0,nutrients:w.nutrients||{}}}}catch(x){}return{foodName:r,type:"animal",followupQuestions:void 0,nutrients:{}}}catch(d){const c=Wa(d)||"";throw c.includes("API")||c.includes("API key")?new Error("Gemini API"):new Error("")}}const As=Object.freeze(Object.defineProperty({__proto__:null,analyzeFoodImage:lv,analyzeFoodName:Bg,chatWithAIStructured:ov,isGeminiAvailable:ll,refineFoodAnalysis:Rg},Symbol.toStringTag,{value:"Module"}));function uv({label:r,currentStorage:l,dailyIntake:d,dailyRequirement:c,unit:y,color:h="#a855f7",onPress:f}){const x=c>0?d/c*100:0,j=l>=80?"optimal":l>=50?"warning":"low",p=j==="optimal"?"#22c55e":j==="warning"?"#f59e0b":"#ef4444";return a.jsxs("div",{onClick:f,style:{padding:0,backgroundColor:"transparent",borderRadius:"4px",border:"none",cursor:f?"pointer":"default",marginBottom:0},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:0},children:[a.jsx("span",{style:{fontSize:"12px",color:"#6b7280",fontWeight:500},children:r}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsxs("span",{style:{fontSize:"12px",color:"#374151",fontWeight:600},children:[l.toFixed(0),"%"]}),d>0&&a.jsxs("span",{style:{fontSize:"11px",color:"#3b82f6"},children:["(+",d.toFixed(1),y,")"]})]})]}),a.jsxs("div",{style:{position:"relative",width:"100%",height:"10px",backgroundColor:"#e5e7eb",borderRadius:"9999px",overflow:"hidden"},children:[a.jsx("div",{style:{position:"absolute",left:0,width:`${l}%`,height:"100%",backgroundColor:p,borderRadius:"9999px",transition:"width 0.3s ease"}}),d>0&&a.jsx("div",{style:{position:"absolute",left:`${l}%`,width:`${Math.min(100-l,x)}%`,height:"100%",backgroundColor:"#3b82f6",borderRadius:"9999px",opacity:.7}})]}),a.jsxs("div",{style:{fontSize:"10px",color:"#9ca3af",marginTop:0},children:[j==="optimal"&&" ",j==="warning"&&" ",j==="low"&&" "]})]})}const xi={liver:3,organ:2,egg:2,beef:1.2,pork:1,chicken:1,fish:1},dv={normal:1};function mv(r){const{protein:l,price:d}=r;if(d<=0||d===null||d===void 0)return{mode:"muscle",score:"",unit:"/g",interpretation:"invalid"};if(l<=0)return{mode:"muscle",score:0,unit:"/g",interpretation:"poor"};const c=d/l;return{mode:"muscle",score:parseFloat(c.toFixed(2)),unit:"/g",interpretation:du(c,"muscle")}}function fv(r){const{fat:l,price:d}=r;if(d<=0||d===null||d===void 0)return{mode:"energy",score:"",unit:"/g",interpretation:"invalid"};if(l<=0)return{mode:"energy",score:0,unit:"/g",interpretation:"poor"};const c=d/l;return{mode:"energy",score:parseFloat(c.toFixed(2)),unit:"/g",interpretation:du(c,"energy")}}function gv(r){const{protein:l,fat:d,price:c,foodType:y="",amount:h=0}=r;if(c<=0||c===null||c===void 0)return{mode:"primal",score:"",unit:"pts",interpretation:"invalid"};let f=1;const x=y.toLowerCase();x.includes("liver")?f=xi.liver:x.includes("organ")||x.includes("heart")||x.includes("kidney")?f=xi.organ:x.includes("egg")?f=xi.egg:x.includes("beef")||x.includes("ribeye")||x.includes("sirloin")?f=xi.beef:x.includes("pork")?f=xi.pork:x.includes("chicken")||x.includes("poultry")?f=xi.chicken:(x.includes("fish")||x.includes("salmon")||x.includes("tuna"))&&(f=xi.fish);const w=dv.normal;let j=0;x.includes("liver")&&h>200&&(j=(h-200)*.5);const v=(l+d)*f*w/c*100-j;return{mode:"primal",score:parseFloat(v.toFixed(2)),unit:"pts",interpretation:du(v,"primal")}}function du(r,l){return typeof r=="string"?"invalid":l==="primal"?r>=100?"excellent":r>=50?"good":r>=20?"fair":"poor":r<=5?"excellent":r<=10?"good":r<=20?"fair":"poor"}function pv(r){return{muscle:mv(r),energy:fv(r),primal:gv(r)}}const Zc=[{type:"beef",label:"",icon:"",parts:[{id:"ribeye",label:"Ribeye"},{id:"sirloin",label:"Sirloin"},{id:"ground",label:"Ground"},{id:"brisket",label:"Brisket"},{id:"chuck",label:"Chuck"},{id:"liver",label:"Liver"}]},{type:"pork",label:"",icon:"",parts:[{id:"belly",label:"Belly"},{id:"loin",label:"Loin"},{id:"shoulder",label:"Shoulder"},{id:"ribs",label:"Ribs"},{id:"liver",label:"Liver"}]},{type:"chicken",label:"",icon:"",parts:[{id:"breast",label:"Breast"},{id:"thigh",label:"Thigh"},{id:"wing",label:"Wing"},{id:"liver",label:"Liver"}]},{type:"dairy",label:"",icon:"",parts:[{id:"egg",label:""},{id:"cheese",label:""},{id:"heavy_cream",label:""},{id:"butter",label:""}]},{type:"fat",label:"",icon:"",parts:[{id:"tallow",label:""},{id:"ghee",label:""},{id:"salt",label:""}]},{type:"fish",label:"",icon:"",parts:[{id:"salmon",label:""},{id:"tuna",label:""},{id:"mackerel",label:""}]}],gg=({label:r,currentDailyTotal:l=0,previewAmount:d=0,max:c,unit:y=""})=>{const h=l+d,f=h>c,x=c>0?h/c*100:0,w=p=>p<50?"#ef4444":p<100?"#f97316":p<120?"#22c55e":"#a855f7",j=c>0?l/c*100:0,v=c>0?d/c*100:0;return a.jsxs("div",{style:{marginBottom:0},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:0},children:[a.jsx("span",{style:{fontSize:"12px",color:"#78716c",fontWeight:f?"bold":"normal"},children:r}),a.jsxs("span",{style:{fontSize:"12px",color:f?"#dc2626":"#78716c",fontWeight:f?"bold":"normal"},children:[h.toFixed(1)," / ",c.toFixed(1)," ",y]})]}),a.jsxs("div",{style:{width:"100%",height:"10px",backgroundColor:"#e5e7eb",borderRadius:"9999px",position:"relative",overflow:"hidden"},children:[a.jsx("div",{style:{position:"absolute",left:0,width:`${Math.min(j,200)}%`,height:"100%",backgroundColor:w(j),borderRadius:"9999px",zIndex:2}}),d>0&&a.jsx("div",{style:{position:"absolute",left:`${Math.min(j,200)}%`,width:`${Math.min(v,Math.max(0,200-Math.min(j,200)))}%`,height:"100%",backgroundColor:w(x),borderRadius:"9999px",zIndex:3,border:"1px solid rgba(0, 0, 0, 0.1)"}})]})]})},hv=({omega3:r,omega6:l})=>{const{t:d}=ni(),c=r>0?l/r:l>0?1/0:0,y=1,h=4,x=r===0&&l===0?"low":c===0||c>=y&&c<=h?"optimal":c>h?"warning":"low",w=r+l,j=w>0?r/w*100:0,v=w>0?l/w*100:0,p=r>0&&l>0?`${c.toFixed(2)}:1 (6:3)`:r>0&&l===0?"0:1 (6:3)":l>0&&r===0?":1 (6:3)":`${r.toFixed(2)}g / ${l.toFixed(2)}g`;return a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:0,padding:"0.5rem",backgroundColor:"transparent",borderRadius:"8px",border:"1px solid #e5e7eb",marginBottom:0},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.25rem"},children:[a.jsx("span",{style:{fontSize:"12px",color:"#78716c"},children:d("butcher.omega36Ratio")}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx("span",{style:{fontSize:"12px",fontWeight:"600",color:"#44403c"},children:p}),x==="warning"&&a.jsx("span",{style:{fontSize:"12px",cursor:"pointer",color:"#FF3B30"},title:d("butcher.omega6ExcessWarning"),children:""})]})]}),a.jsxs("div",{style:{display:"flex",width:"100%",height:"10px",borderRadius:"9999px",overflow:"hidden",marginTop:"0.25rem",backgroundColor:"#e5e7eb"},children:[a.jsx("div",{style:{width:`${j}%`,backgroundColor:"#34C759",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"10px",fontWeight:"bold"},children:j>10&&"3"}),a.jsx("div",{style:{width:`${v}%`,backgroundColor:x==="warning"?"#FF3B30":"#FF9500",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"10px",fontWeight:"bold"},children:v>10&&"6"})]}),x==="optimal"&&c>0&&a.jsxs("div",{style:{fontSize:"10px",color:"#34C759",marginTop:"0.25rem"},children:[" ",d("butcher.optimalRatioRange")]}),x==="warning"&&a.jsxs("div",{style:{fontSize:"10px",color:"#FF3B30",marginTop:"0.25rem"},children:[" ",d("butcher.omega6ExcessRisk")]})]})};function vv({initialAnimal:r,onSelect:l,onPreviewChange:d,onFoodAdd:c,previewGauges:y=[],currentDailyTotal:h={}}){const{t:f}=ni(),x=Ci()||"ja",[w,j]=m.useState(r||"beef"),[v,p]=m.useState(null),[k,T]=m.useState(300),[q,ne]=m.useState("g"),[fe,se]=m.useState(1),{config:te,updateConfig:oe}=Ag(),[ve,xe]=m.useState(te.saltType||"table_salt"),[de,je]=m.useState("cooked"),[Q,Ne]=m.useState({beef:"raw",pork:"raw",chicken:"raw",fish:"raw"}),Oe=Q[w]||"raw",O=M=>{Ne(G=>({...G,[w]:M}))},[ze,z]=m.useState(nv),[W,Se]=m.useState("default"),[F,ue]=m.useState(!1);m.useRef(null);const[re,ge]=m.useState(!1),[he,we]=m.useState(0),[R,Z]=m.useState("primal"),[J,le]=m.useState(null),A=il();m.useEffect(()=>{te.saltType&&xe(te.saltType)},[te.saltType]);const ye=Zc.find(M=>M.type===w)||Zc[0];m.useEffect(()=>{if(v)if(w==="dairy"&&v==="egg")ne(""),T(1),se(1);else if(w==="fat"&&v==="salt")ne(""),se(1),T(te.saltUnitWeight);else{ne("g"),se(1);const M=wi(w,v);T(M?.default_unit||300)}},[w,v,te.saltUnitWeight]),m.useEffect(()=>{if(r&&r!==w){const M=setTimeout(()=>{j(r),p(null),T(r==="dairy"?1:300)},0);return()=>clearTimeout(M)}},[r]);const _=m.useMemo(()=>{if(v)return wi(w,v)},[w,v]);m.useEffect(()=>{le(null)},[he,v,k]),m.useEffect(()=>{q==="oz"&&k>50?T(10):q==="lb"&&k>5&&T(1)},[q,k]);const U=m.useMemo(()=>{if(!_)return null;let M=k;w==="dairy"&&v==="egg"&&q===""?M=k*50:w==="fat"&&v==="salt"&&q===""?M=fe*te.saltUnitWeight:q==="oz"?M=k*28.3495:q==="lb"&&(M=k*453.592);const G=["beef","pork","chicken","fish"].includes(w);let be=M;G&&Oe==="cooked"&&(be=M*1.33);const ce=be/100;let nt=1;w==="dairy"&&v==="egg"&&(de==="raw"?nt=.513:de==="cooked"&&(nt=.909));const St=_.carbs?_.carbs.value*ce:0,ct=_.fiber?_.fiber.value*ce:0,Ot=Math.max(0,St-ct),vt=w==="plant",ot=vt?_.protein.value*ce:0,zt=vt?_.fat.value*ce:0;return{protein:_.protein.value*ce*nt,fat:_.fat.value*ce,carbs:St,netCarbs:Ot,zinc:_.zinc?_.zinc.value*ce:0,magnesium:_.magnesium?_.magnesium.value*ce:0,iron:_.iron?_.iron.value*ce:0,vitamin_b12:_.vitamin_b12?_.vitamin_b12.value*ce:0,sodium:_.sodium?_.sodium.value*ce:0,choline:_.choline?_.choline.value*ce:0,potassium:_.potassium?_.potassium.value*ce:0,vitamin_a:_.vitamin_a?_.vitamin_a.value*ce:0,vitamin_d:_.vitamin_d?_.vitamin_d.value*ce:0,vitamin_k2:_.vitamin_k2?_.vitamin_k2.value*ce:0,omega_3:_.omega_3?_.omega_3.value*ce:0,omega_6:_.omega_6?_.omega_6.value*ce:0,vitamin_b7:_.vitamin_b7?_.vitamin_b7.value*ce:0,iodine:_.iodine?_.iodine.value*ce:0,calcium:_.calcium?_.calcium.value*ce:0,phosphorus:_.phosphorus?_.phosphorus.value*ce:0,glycine:_.glycine?_.glycine.value*ce:0,methionine:_.methionine?_.methionine.value*ce:0,fiber:ct,plantProtein:ot,vegetableOil:zt,phytates:_.phytates?_.phytates.value*ce:0,polyphenols:_.polyphenols?_.polyphenols.value*ce:0,flavonoids:_.flavonoids?_.flavonoids.value*ce:0,oxalates:_.oxalates?_.oxalates.value*ce:0,lectins:_.lectins?_.lectins.value*ce:0,saponins:_.saponins?_.saponins.value*ce:0,goitrogens:_.goitrogens?_.goitrogens.value*ce:0,tannins:_.tannins?_.tannins.value*ce:0}},[_,k,w,q,v,fe,te.saltUnitWeight,de,Oe]);m.useEffect(()=>{q==="oz"&&k>50?T(10):q==="lb"&&k>5&&T(1)},[q,k]);const E=()=>{if(!U||he<=0)return;const M={protein:U.protein,fat:U.fat,price:he,foodType:v||"",amount:k},G=pv(M);le(G),navigator.vibrate&&navigator.vibrate([50,50,50])},V=m.useRef(d);m.useEffect(()=>{V.current=d},[d]),m.useEffect(()=>{v&&U&&V.current?V.current({protein:U.protein,fat:U.fat,zinc:U.zinc,magnesium:U.magnesium,iron:U.iron,vitamin_b12:U.vitamin_b12,sodium:U.sodium,vitamin_a:U.vitamin_a,vitamin_d:U.vitamin_d,vitamin_k2:U.vitamin_k2,choline:U.choline,potassium:U.potassium,vitamin_b7:U.vitamin_b7,omega_3:U.omega_3,omega_6:U.omega_6,iodine:U.iodine,calcium:U.calcium,phosphorus:U.phosphorus,glycine:U.glycine,methionine:U.methionine}):!v&&V.current&&V.current(null)},[U,v]);const me=M=>{p(M);const G=wi(w,M);G&&(w==="dairy"&&M==="egg"?(ne(""),T(1),se(1)):w==="fat"&&M==="salt"?(ne(""),se(1),T(te.saltUnitWeight)):(ne("g"),T(G.default_unit),se(1))),navigator.vibrate&&navigator.vibrate(10),l&&l(w,M)},Be=()=>{if(!_||!U||!c)return;let M=k;w==="dairy"&&v==="egg"&&q===""?M=k*50:w==="fat"&&v==="salt"&&q===""&&(M=fe*te.saltUnitWeight);const G=ce=>x==="ja"?ce.name_ja:x==="fr"?ce.name_fr||ce.name:x==="de"?ce.name_de||ce.name:x==="zh"?ce.name_ja:ce.name,be={item:G(_),amount:w==="dairy"&&v==="egg"&&q===""?k:M,unit:w==="dairy"&&v==="egg"&&q===""?"":"g",type:w==="plant"?"animal":w==="beef"?"ruminant":w==="dairy"?"dairy":"animal",eggCookingMethod:w==="dairy"&&v==="egg"?de:void 0,cookingMethod:["beef","pork","chicken","fish"].includes(w)?Oe:void 0,biotinBlocked:w==="dairy"&&v==="egg"&&de==="raw"?!0:void 0,nutrients:{protein:U.protein,fat:U.fat,carbs:_.carbs.value*(M/100),netCarbs:_.carbs.value*(M/100),zinc:U.zinc,sodium:U.sodium,magnesium:U.magnesium,hemeIron:U.iron,vitaminB12:U.vitamin_b12,vitaminA:U.vitamin_a,vitaminD:U.vitamin_d,vitaminK2:U.vitamin_k2,choline:U.choline,potassium:U.potassium,vitaminB7:U.vitamin_b7,omega3:U.omega_3,omega6:U.omega_6,iodine:U.iodine,calcium:U.calcium,phosphorus:U.phosphorus,glycine:U.glycine,methionine:U.methionine,fiber:U.fiber||0,phytates:U.phytates||0,polyphenols:U.polyphenols||0,flavonoids:U.flavonoids||0,oxalates:U.oxalates||0,lectins:U.lectins||0,saponins:U.saponins||0,goitrogens:U.goitrogens||0,tannins:U.tannins||0}};if(c(be),typeof window<"u"&&window.showToast){const ce=w==="dairy"&&v==="egg"&&q===""?k:M,nt=w==="dairy"&&v==="egg"&&q===""?"":"g";window.showToast(` ${G(_)} ${ce}${nt} !`)}p(null),T(w==="dairy"?50:w==="fat"?100:300),V.current&&V.current(null)};return U&&(U.protein,U.fat,U.zinc,U.magnesium,U.iron,U.vitamin_b12,U.sodium),a.jsxs("div",{className:"flex flex-col gap-4 p-4 w-full max-w-md mx-auto pb-40 pt-36",children:[a.jsx("div",{className:"flex gap-2 mb-4 relative z-40",children:Zc.map(M=>{const G=w===M.type;return a.jsx("button",{onClick:()=>{j(M.type),p(null),ne("g"),M.type==="dairy"?T(50):M.type==="fat"?T(100):T(300)},className:"flex-1 py-3 px-2 rounded-lg font-bold transition-all border-b-4 shadow-sm relative overflow-hidden active:scale-95",style:{backgroundColor:G?"#b91c1c":"#f5f5f4",color:G?"white":"#78716c",borderColor:G?"#991b1b":"transparent",transform:G?"scale(1.02)":"scale(1)",cursor:"pointer"},children:a.jsx("span",{className:"text-2xl block",children:M.icon})},M.type)})}),w==="plant"&&a.jsx("div",{className:"p-4 rounded-lg border-2 mb-4 relative z-40",style:{backgroundColor:"#fef3c7",borderColor:"#f59e0b",boxShadow:"0 4px 6px -1px rgba(245, 158, 11, 0.3)"},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-2xl",style:{flexShrink:0},children:""}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-base mb-1",style:{color:"#92400e"},children:f("butcher.plantWarningTitle")||""}),a.jsx("p",{className:"text-sm leading-relaxed",style:{color:"#78350f"},children:f("butcher.plantWarningMessage")||""})]})]})}),a.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4 relative z-40",children:ye.parts.map(M=>{const G=v===M.id,be=wi(w,M.id),ce=()=>be?x==="ja"?be.name_ja:x==="fr"?be.name_fr||be.name:x==="de"?be.name_de||be.name:x==="zh"?be.name_ja:be.name:M.label;return a.jsxs("button",{onClick:()=>me(M.id),className:`relative py-3 px-1 rounded-md text-sm font-bold transition-all active:scale-95 border-2 ${G?"bg-red-900/40 text-white border-red-500 shadow-[0_0_15px_rgba(239,68,68,0.4)] z-10":"bg-stone-800/50 text-stone-500 border-stone-700/50 hover:bg-stone-800 hover:text-stone-300 hover:border-stone-500 opacity-80"}`,children:[G&&a.jsx("span",{className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center shadow-sm border border-stone-900",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),ce()]},M.id)})}),v&&_&&a.jsx("div",{className:"bg-stone-900 rounded-xl shadow-lg border border-stone-700 overflow-hidden relative z-40",children:a.jsxs("div",{className:"p-4 border-b border-stone-800",children:[w==="fat"&&v==="salt"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"text-sm font-bold text-stone-400 block mb-2",children:f("butcher.saltType")}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("button",{onClick:()=>{const M="table_salt";xe(M),oe({saltType:M})},className:`px-4 py-2 rounded-lg text-sm font-bold transition-all border-2 ${ve==="table_salt"?"bg-emerald-600 text-white border-emerald-400 shadow-[0_0_10px_rgba(5,150,105,0.6)] scale-105":"bg-stone-800 text-stone-500 border-stone-700 hover:bg-stone-700 hover:text-stone-300"}`,children:f("profile.tableSalt")}),a.jsx("button",{onClick:()=>{const M="sea_salt";xe(M),oe({saltType:M})},className:`px-4 py-2 rounded-lg text-sm font-bold transition-all border-2 ${ve==="sea_salt"?"bg-emerald-600 text-white border-emerald-400 shadow-[0_0_10px_rgba(5,150,105,0.6)] scale-105":"bg-stone-800 text-stone-500 border-stone-700 hover:bg-stone-700 hover:text-stone-300"}`,children:f("profile.seaSalt")}),a.jsx("button",{onClick:()=>{const M="himalayan_salt";xe(M),oe({saltType:M})},className:`px-4 py-2 rounded-lg text-sm font-bold transition-all border-2 ${ve==="himalayan_salt"?"bg-emerald-600 text-white border-emerald-400 shadow-[0_0_10px_rgba(5,150,105,0.6)] scale-105":"bg-stone-800 text-stone-500 border-stone-700 hover:bg-stone-700 hover:text-stone-300"}`,children:f("profile.himalayanSalt")}),a.jsx("button",{onClick:()=>{const M="celtic_salt";xe(M),oe({saltType:M})},className:`px-4 py-2 rounded-lg text-sm font-bold transition-all border-2 ${ve==="celtic_salt"?"bg-emerald-600 text-white border-emerald-400 shadow-[0_0_10px_rgba(5,150,105,0.6)] scale-105":"bg-stone-800 text-stone-500 border-stone-700 hover:bg-stone-700 hover:text-stone-300"}`,children:f("profile.celticSalt")})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("label",{className:"text-sm font-bold text-stone-400 flex-1",children:f("butcher.quantity")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>se(Math.max(1,fe-1)),className:"w-10 h-10 flex items-center justify-center bg-stone-800 hover:bg-stone-700 border border-stone-600 rounded-lg font-bold text-lg text-stone-300",children:""}),a.jsx("input",{type:"number",min:"1",max:"100",value:fe,onChange:M=>{const G=parseInt(M.target.value,10);!isNaN(G)&&G>=1&&(se(G),T(G*te.saltUnitWeight))},className:"w-16 text-center text-xl font-bold bg-stone-900 text-white border-2 border-stone-600 rounded-lg py-1"}),a.jsx("button",{onClick:()=>se(fe+1),className:"w-10 h-10 flex items-center justify-center bg-stone-800 hover:bg-stone-700 border border-stone-600 rounded-lg font-bold text-lg text-stone-300",children:"+"}),a.jsx("span",{className:"text-xl font-bold text-stone-300",children:f("butcher.grind")}),a.jsx("input",{type:"number",min:"0",max:"10",step:"0.1",value:te.saltUnitWeight,onChange:M=>{const G=parseFloat(M.target.value);!isNaN(G)&&G>=0&&(oe({saltUnitWeight:G}),T(fe*G))},className:"w-14 text-center text-sm bg-stone-800 text-stone-300 border border-stone-600 rounded px-1 py-0.5 ml-1",title:f("butcher.perGrind")}),a.jsx("span",{className:"text-sm text-stone-500",children:"g"}),a.jsx("button",{onClick:M=>{M.preventDefault(),M.stopPropagation(),oe({saltUnitWeight:.5}),T(fe*.5)},className:"text-xs text-stone-500 hover:text-stone-300 ml-1",title:f("butcher.resetToDefault"),children:""})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-baseline mb-2",children:[a.jsx("label",{className:"text-sm font-bold text-stone-400",children:f("butcher.quantity")}),a.jsxs("span",{className:"text-2xl font-bold text-white",children:[k,["beef","pork","chicken","fish"].includes(w)?a.jsxs("select",{value:q,onChange:M=>{const G=M.target.value;ne(G),T(G==="oz"?10:G==="lb"?1:300)},className:"ml-1 text-lg border-none bg-transparent font-bold text-stone-400 cursor-pointer focus:ring-0 py-0 pl-1 pr-6",style:{appearance:"auto"},children:[a.jsx("option",{value:"g",className:"bg-stone-800 text-white",children:"g"}),a.jsx("option",{value:"oz",className:"bg-stone-800 text-white",children:"oz"}),a.jsx("option",{value:"lb",className:"bg-stone-800 text-white",children:"lb"})]}):q===""?f("butcher.piece"):"g"]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("button",{onClick:()=>{let M=10,G=0;q===""?(M=1,G=1):q==="oz"?M=1:q==="lb"&&(M=.5);const be=Math.max(G,k-M);T(be)},className:"w-11 h-11 min-w-[44px] min-h-[44px] flex items-center justify-center bg-stone-800 hover:bg-stone-700 border border-stone-600 rounded-lg text-2xl font-bold text-stone-300 transition-colors",style:{minWidth:"44px",minHeight:"44px"},children:"-"}),a.jsx("input",{type:"range",min:q===""?"1":"0",max:q===""?"10":q==="oz"?"50":q==="lb"?"5":"1000",step:q===""||q==="oz"?"1":q==="lb"?"0.1":"10",value:k,onChange:M=>{const G=parseFloat(M.target.value);isNaN(G)||T(G)},className:"flex-1 h-2 bg-stone-700 rounded-lg appearance-none cursor-pointer accent-red-600"}),a.jsx("button",{onClick:()=>{let M=10,G=1e3;q===""?(M=1,G=10):q==="oz"?(M=1,G=50):q==="lb"&&(M=.5,G=5);const be=Math.min(G,k+M);T(be)},className:"w-11 h-11 min-w-[44px] min-h-[44px] flex items-center justify-center bg-stone-800 hover:bg-stone-700 border border-stone-600 rounded-lg text-2xl font-bold text-stone-300 transition-colors",style:{minWidth:"44px",minHeight:"44px"},children:"+"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"text-sm font-bold text-stone-400 block mb-2",children:" "}),a.jsx("input",{type:"number",min:"0",step:"1",value:he===0?"":he,onChange:M=>{const G=M.target.value;if(G===""){we(0);return}const be=parseFloat(G);isNaN(be)||we(be)},placeholder:"0",className:"w-full py-2 px-4 rounded-lg border border-stone-600 bg-stone-800 text-white text-lg placeholder-stone-500 focus:ring-2 focus:ring-red-500 focus:border-transparent"}),he>0&&a.jsx("button",{onClick:M=>{M.preventDefault(),E()},className:"w-full mt-3 py-3 rounded-lg font-bold text-white shadow-lg transition-transform active:scale-95 flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #ef4444 0%, #b91c1c 100%)",fontSize:"18px",boxShadow:"0 4px 0 #991b1b"},children:" ROI"}),he>0&&J&&a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsxs("button",{onClick:()=>Z("muscle"),className:`relative flex-1 py-3 px-1 rounded-md text-xs font-bold transition-all active:scale-95 border-2 ${R==="muscle"?"bg-blue-900/40 text-blue-100 border-blue-500 shadow-[0_0_15px_rgba(37,99,235,0.4)] z-10":"bg-stone-800/50 text-stone-500 border-stone-700/50 hover:bg-stone-800 hover:text-stone-300 opacity-60 grayscale"}`,children:[R==="muscle"&&a.jsx("span",{className:"absolute -top-2 -right-1 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center shadow-sm border border-stone-900",children:a.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})," Muscle"]}),a.jsxs("button",{onClick:()=>Z("energy"),className:`relative flex-1 py-3 px-1 rounded-md text-xs font-bold transition-all active:scale-95 border-2 ${R==="energy"?"bg-amber-900/40 text-amber-100 border-amber-500 shadow-[0_0_15px_rgba(217,119,6,0.4)] z-10":"bg-stone-800/50 text-stone-500 border-stone-700/50 hover:bg-stone-800 hover:text-stone-300 opacity-60 grayscale"}`,children:[R==="energy"&&a.jsx("span",{className:"absolute -top-2 -right-1 w-4 h-4 bg-amber-500 rounded-full flex items-center justify-center shadow-sm border border-stone-900",children:a.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})," Energy"]}),a.jsxs("button",{onClick:()=>Z("primal"),className:`relative flex-1 py-3 px-1 rounded-md text-xs font-bold transition-all active:scale-95 border-2 ${R==="primal"?"bg-red-900/40 text-red-100 border-red-500 shadow-[0_0_15px_rgba(220,38,38,0.4)] z-10":"bg-stone-800/50 text-stone-500 border-stone-700/50 hover:bg-stone-800 hover:text-stone-300 opacity-60 grayscale"}`,children:[R==="primal"&&a.jsx("span",{className:"absolute -top-2 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center shadow-sm border border-stone-900",children:a.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})," Primal"]})]}),R==="muscle"&&J.muscle&&a.jsxs("div",{className:`p-3 rounded-lg border-2 ${J.muscle.interpretation==="excellent"?"bg-green-50 border-green-500":J.muscle.interpretation==="good"?"bg-blue-50 border-blue-500":J.muscle.interpretation==="fair"?"bg-yellow-50 border-yellow-500":"bg-red-50 border-red-500"}`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-medium text-stone-600",children:"Muscle ROI"}),a.jsxs("span",{className:"text-lg font-bold",children:[typeof J.muscle.score=="number"?J.muscle.score.toFixed(2):J.muscle.score,a.jsx("span",{className:"text-xs ml-1",children:J.muscle.unit})]})]}),a.jsx("p",{className:"text-xs text-stone-500 mt-1",children:J.muscle.interpretation==="excellent"?" ":J.muscle.interpretation==="good"?" ":J.muscle.interpretation==="fair"?" ":" "})]}),R==="energy"&&J.energy&&a.jsxs("div",{className:`p-3 rounded-lg border-2 ${J.energy.interpretation==="excellent"?"bg-green-50 border-green-500":J.energy.interpretation==="good"?"bg-blue-50 border-blue-500":J.energy.interpretation==="fair"?"bg-yellow-50 border-yellow-500":"bg-red-50 border-red-500"}`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-medium text-stone-600",children:"Energy ROI"}),a.jsxs("span",{className:"text-lg font-bold",children:[typeof J.energy.score=="number"?J.energy.score.toFixed(2):J.energy.score,a.jsx("span",{className:"text-xs ml-1",children:J.energy.unit})]})]}),a.jsx("p",{className:"text-xs text-stone-500 mt-1",children:J.energy.interpretation==="excellent"?" ":J.energy.interpretation==="good"?" ":J.energy.interpretation==="fair"?" ":" "})]}),R==="primal"&&J.primal&&a.jsxs("div",{className:`p-3 rounded-lg border-2 ${J.primal.interpretation==="excellent"?"bg-green-50 border-green-500":J.primal.interpretation==="good"?"bg-blue-50 border-blue-500":J.primal.interpretation==="fair"?"bg-yellow-50 border-yellow-500":"bg-red-50 border-red-500"}`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-medium text-stone-600",children:"Primal ROI (God Mode)"}),a.jsxs("span",{className:"text-lg font-bold",children:[typeof J.primal.score=="number"?J.primal.score.toFixed(2):J.primal.score,a.jsx("span",{className:"text-xs ml-1",children:J.primal.unit})]})]}),a.jsx("p",{className:"text-xs text-stone-500 mt-1",children:J.primal.interpretation==="excellent"?" ":J.primal.interpretation==="good"?" ":J.primal.interpretation==="fair"?" ":" "})]})]})]}),["beef","pork","chicken","fish"].includes(w)&&a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"text-sm font-bold text-stone-700 block mb-2",children:""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>O("raw"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors ${Oe==="raw"?"bg-red-600 text-white":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:""}),a.jsx("button",{onClick:()=>O("cooked"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors ${Oe==="cooked"?"bg-red-600 text-white":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:""})]}),Oe==="cooked"&&a.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:["",k,"g = ",Math.round(k*1.33),"g"]})]}),U&&w!=="plant"&&(()=>{const M=["vitaminA","vitaminD","vitaminK2","calcium","phosphorus"],G={protein:{label:f("customFood.protein"),currentDailyTotal:h.protein||0,previewAmount:U.protein,target:_n.protein,color:"#3b82f6",unit:"g"},fat:{label:f("customFood.fat"),currentDailyTotal:h.fat||0,previewAmount:U.fat,target:_n.fat,color:"#3b82f6",unit:"g"},zinc:{label:f("customFood.zinc"),currentDailyTotal:h.zinc||0,previewAmount:U.zinc,target:_n.zinc,color:"#06b6d4",unit:"mg"},magnesium:{label:f("customFood.magnesium"),currentDailyTotal:h.magnesium||0,previewAmount:U.magnesium,target:ji.magnesium?.target,color:"#06b6d4",unit:"mg",logic:ji.magnesium?.logic,hint:f("butcher.magnesiumHint")},iron:{label:f("customFood.iron"),currentDailyTotal:(h.hemeIron||0)+(h.nonHemeIron||0),previewAmount:U.iron,target:_n.iron,color:"#06b6d4",unit:"mg"},potassium:{label:f("customFood.potassium"),currentDailyTotal:h.potassium||0,previewAmount:U.potassium,target:ji.potassium?.target,color:"#10b981",unit:"mg",logic:ji.potassium?.logic},sodium:{label:f("customFood.sodium"),currentDailyTotal:h.sodium||0,previewAmount:U.sodium,target:ji.sodium?.min,color:"#10b981",unit:"mg",logic:ji.sodium?.logic},vitaminA:{label:f("customFood.vitaminA"),currentDailyTotal:h.vitamin_a||0,previewAmount:U.vitamin_a,target:_n.vitamin_a,color:"#a855f7",unit:"IU"},vitaminD:{label:f("customFood.vitaminD"),currentDailyTotal:h.vitamin_d||0,previewAmount:U.vitamin_d,target:_n.vitamin_d,color:"#a855f7",unit:"IU"},vitaminK2:{label:f("customFood.vitaminK2"),currentDailyTotal:h.vitamin_k2||0,previewAmount:U.vitamin_k2,target:_n.vitamin_k2,color:"#a855f7",unit:"g"},vitaminB12:{label:f("customFood.vitaminB12"),currentDailyTotal:h.vitamin_b12||0,previewAmount:U.vitamin_b12,target:_n.vitamin_b12,color:"#3b82f6",unit:"g"},vitaminB7:{label:f("customFood.vitaminB7"),currentDailyTotal:h.vitamin_b7||0,previewAmount:U.vitamin_b7,target:30,color:"#3b82f6",unit:"g",hint:de==="raw"&&w==="dairy"&&v==="egg"?f("butcher.biotinBlockedHint"):void 0},choline:{label:f("customFood.choline"),currentDailyTotal:h.choline||0,previewAmount:U.choline,target:_n.choline,color:"#3b82f6",unit:"mg"},iodine:{label:f("customFood.iodine"),currentDailyTotal:h.iodine||0,previewAmount:U.iodine,target:150,color:"#3b82f6",unit:"g"},calcium:{label:f("customFood.calcium"),currentDailyTotal:h.calcium||0,previewAmount:U.calcium,target:1e3,color:"#3b82f6",unit:"mg"},phosphorus:{label:f("customFood.phosphorus"),currentDailyTotal:h.phosphorus||0,previewAmount:U.phosphorus,target:700,color:"#3b82f6",unit:"mg"},glycine:{label:f("customFood.glycine"),currentDailyTotal:h.glycine||0,previewAmount:U.glycine,target:0,color:"#3b82f6",unit:"g"},methionine:{label:f("customFood.methionine"),currentDailyTotal:h.methionine||0,previewAmount:U.methionine,target:0,color:"#3b82f6",unit:"g"},omegaRatio:{label:f("butcher.omega36Ratio"),currentDailyTotal:0,previewAmount:0,target:0,color:"#3b82f6",unit:"",isRatio:!0}},be=av(ze,W,Object.fromEntries(Object.entries(G).map(([ce,nt])=>[ce,{currentDailyTotal:nt.currentDailyTotal,previewAmount:nt.previewAmount,target:nt.target}])));return a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[a.jsx("h3",{className:"text-sm font-semibold text-stone-600",children:f("butcher.nutrientBreakdown")}),a.jsxs("select",{value:W,onChange:ce=>Se(ce.target.value),style:{padding:"0.25rem 0.5rem",fontSize:"12px",border:"1px solid #d1d5db",borderRadius:"4px",backgroundColor:"white",cursor:"pointer"},children:[a.jsx("option",{value:"default",children:f("butcher.sortByPriority")}),a.jsx("option",{value:"deficiency",children:f("butcher.sortByDeficiency")})]})]}),a.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",display:"flex",flexDirection:"column",gap:0,padding:"0.5rem",backgroundColor:"transparent",borderRadius:"8px",border:"1px solid #e5e7eb"},children:(()=>{const ce=ru(),nt={protein:"protein",fat:"fat",zinc:"zinc",magnesium:"magnesium",iron:"iron",potassium:"potassium",sodium:"sodium",vitaminA:"vitaminA",vitaminD:"vitaminD",vitaminK2:"vitaminK2",vitaminB12:"vitaminB12",vitaminB7:"vitaminB7",choline:"choline",iodine:"iodine",calcium:"calcium",phosphorus:"phosphorus",glycine:"glycineMethionineRatio",methionine:"glycineMethionineRatio",omegaRatio:"omegaRatio"},St={protein:"protein",fat:"fat",zinc:"zinc",magnesium:"magnesium",iron:"iron",potassium:"potassium",sodium:"sodium",vitaminA:"vitamin_a",vitaminD:"vitamin_d",vitaminK2:"vitamin_k2",vitaminB12:"vitamin_b12",choline:"choline"};return be.filter(ct=>{if(M.includes(ct.key))return!1;const Ot=nt[ct.key];return Ot?ct.key==="glycine"||ct.key==="methionine"?ce.glycineMethionineRatio!==!1:ce[Ot]!==!1:!0}).map((ct,Ot)=>{const vt=G[ct.key];return vt?a.jsx("div",{children:a.jsx("div",{children:vt.isRatio?a.jsx(hv,{omega3:U.omega_3,omega6:U.omega_6}):a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:vt.currentDailyTotal,previewAmount:vt.previewAmount,target:vt.target,color:vt.color,unit:vt.unit,logic:vt.logic,hint:vt.hint,showLowIsOk:vt.showLowIsOk,nutrientKey:St[ct.key]||void 0}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:vt.label})]})})},ct.key):null})})()})]})})(),U&&w!=="plant"&&(()=>{const M=[{key:"vitaminA",label:f("customFood.vitaminA"),currentStorage:80,dailyIntake:U.vitamin_a,dailyRequirement:_n.vitamin_a,unit:"IU"},{key:"vitaminD",label:f("customFood.vitaminD"),currentStorage:75,dailyIntake:U.vitamin_d,dailyRequirement:_n.vitamin_d,unit:"IU"},{key:"vitaminK2",label:f("customFood.vitaminK2"),currentStorage:70,dailyIntake:U.vitamin_k2,dailyRequirement:_n.vitamin_k2,unit:"g"},{key:"calcium",label:f("customFood.calcium"),currentStorage:85,dailyIntake:U.calcium,dailyRequirement:1e3,unit:"mg"},{key:"phosphorus",label:f("customFood.phosphorus"),currentStorage:80,dailyIntake:U.phosphorus,dailyRequirement:700,unit:"mg"}];return M.some(be=>be.dailyIntake>0||be.currentStorage>0)?a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-stone-600 mb-2",style:{color:"#a855f7"},children:""}),a.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",display:"flex",flexDirection:"column",gap:0,padding:0,backgroundColor:"transparent",borderRadius:"8px",border:"1px solid #e9d5ff"},children:M.map(be=>a.jsx(uv,{label:be.label,currentStorage:be.currentStorage,dailyIntake:be.dailyIntake,dailyRequirement:be.dailyRequirement,unit:be.unit,color:"#a855f7"},be.key))})]}):null})(),A.avoidZone&&(()=>{const M=w==="plant",G={plantProteinMax:0,vegetableOilMax:0,fiberMax:0,netCarbsMax:20,phytatesMax:0,polyphenolsMax:0,flavonoidsMax:0,oxalatesMax:0,lectinsMax:0,saponinsMax:0,goitrogensMax:0,tanninsMax:0},be={plantProtein:h.plantProtein||0,vegetableOil:h.vegetableOil||0,fiber:h.fiber||0,netCarbs:h.netCarbs||0,phytates:h.phytates||0,polyphenols:h.polyphenols||0,flavonoids:h.flavonoids||0,oxalates:h.oxalates||0,lectins:h.lectins||0,saponins:h.saponins||0,goitrogens:h.goitrogens||0,tannins:h.tannins||0},ce={plantProtein:U?.plantProtein||0,vegetableOil:U?.vegetableOil||0,fiber:U?.fiber||0,netCarbs:U?.netCarbs||0,phytates:U?.phytates||0,polyphenols:U?.polyphenols||0,flavonoids:U?.flavonoids||0,oxalates:U?.oxalates||0,lectins:U?.lectins||0,saponins:U?.saponins||0,goitrogens:U?.goitrogens||0,tannins:U?.tannins||0};if(!(Object.values(be).some(ot=>ot>0)||Object.values(ce).some(ot=>ot>0))&&!M)return null;const St=[{key:"plantProtein",label:f("butcher.plantProtein"),unit:"g",current:be.plantProtein,preview:ce.plantProtein,max:G.plantProteinMax},{key:"vegetableOil",label:f("butcher.vegetableOil"),unit:"g",current:be.vegetableOil,preview:ce.vegetableOil,max:G.vegetableOilMax},{key:"fiber",label:f("butcher.fiber"),unit:"g",current:be.fiber,preview:ce.fiber,max:G.fiberMax},{key:"netCarbs",label:f("butcher.netCarbs"),unit:"g",current:be.netCarbs,preview:ce.netCarbs,max:G.netCarbsMax}],ct=[{key:"phytates",label:f("butcher.phytates"),unit:"mg",current:be.phytates,preview:ce.phytates,max:G.phytatesMax},{key:"polyphenols",label:f("butcher.polyphenols"),unit:"mg",current:be.polyphenols,preview:ce.polyphenols,max:G.polyphenolsMax},{key:"flavonoids",label:f("butcher.flavonoids"),unit:"mg",current:be.flavonoids,preview:ce.flavonoids,max:G.flavonoidsMax},{key:"oxalates",label:f("butcher.oxalates"),unit:"mg",current:be.oxalates,preview:ce.oxalates,max:G.oxalatesMax},{key:"lectins",label:f("butcher.lectins"),unit:"mg",current:be.lectins,preview:ce.lectins,max:G.lectinsMax},{key:"saponins",label:f("butcher.saponins"),unit:"mg",current:be.saponins,preview:ce.saponins,max:G.saponinsMax},{key:"goitrogens",label:f("butcher.goitrogens"),unit:"mg",current:be.goitrogens,preview:ce.goitrogens,max:G.goitrogensMax},{key:"tannins",label:f("butcher.tannins"),unit:"mg",current:be.tannins,preview:ce.tannins,max:G.tanninsMax}],Ot=re?ct:ct.filter(ot=>ot.preview>0||ot.current>0),vt=ct.length>0;return a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-stone-600 mb-2",style:{color:"#dc2626"},children:f("butcher.avoidZone")}),a.jsxs("div",{style:{maxHeight:"400px",overflowY:"auto",display:"flex",flexDirection:"column",gap:0,padding:"0.5rem",backgroundColor:"transparent",borderRadius:"8px",border:"1px solid #fecaca"},children:[St.map(ot=>a.jsx(gg,{label:ot.label,currentDailyTotal:ot.current,previewAmount:ot.preview,max:ot.max,unit:ot.unit},ot.key)),Ot.map(ot=>a.jsx(gg,{label:ot.label,currentDailyTotal:ot.current,previewAmount:ot.preview,max:ot.max,unit:ot.unit},ot.key)),vt&&a.jsx("button",{onClick:()=>ge(!re),style:{marginTop:"0.5rem",padding:"0.5rem 1rem",backgroundColor:re?"#dc2626":"#f3f4f6",color:re?"white":"#374151",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},children:f(re?"butcher.collapse":"butcher.showMore")})]})]})})()]})}),c&&a.jsx("div",{className:"mt-4 space-y-3",children:v&&_&&a.jsxs("button",{onClick:Be,className:"w-full py-4 text-white font-bold text-lg rounded-xl shadow-xl active:scale-95 transition-transform flex items-center justify-center gap-2",style:{backgroundColor:"#dc2626"},children:[a.jsx("span",{children:""})," ",(()=>{const M=ye.parts.find(ce=>ce.id===v);if(!M)return"";const G=wi(w,M.id);return G?(x==="ja"?G.name_ja:x==="fr"?G.name_fr||G.name:x==="de"?G.name_de||G.name:x==="zh"?G.name_ja:G.name)+f("butcher.add"):M.label+f("butcher.add")})()]})})]})}function yv({previewData:r=null,showPreview:l=!0}){const{dailyLog:d,userProfile:c}=ti(),y=l&&r?.protein!==void 0?r.protein:d?.calculatedMetrics?.animalEffectiveProtein??d?.calculatedMetrics?.effectiveProtein??0,h=l&&r?.fat!==void 0?r.fat:d?.calculatedMetrics?.fatTotal??0,f=Ze(c?.gender,c?.age,c?.activityLevel,c?.isPregnant,c?.isBreastfeeding,c?.isPostMenopause,c?.stressLevel,c?.sleepHours,c?.exerciseIntensity,c?.exerciseFrequency,c?.thyroidFunction,c?.sunExposureFrequency,c?.digestiveIssues,c?.inflammationLevel,c?.mentalHealthStatus,c?.supplementMagnesium,c?.supplementVitaminD,c?.supplementIodine,c?.alcoholFrequency,c?.caffeineIntake),x=d?.calculatedMetrics?.proteinRequirement??f.protein??110,w=f.fat??150,j=x>0?Math.min(y/x*100,200):0,v=w>0?Math.min(h/w*100,200):0,p=j>=100,k=v>=100;return a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,zIndex:50,backgroundColor:"transparent",borderBottom:"none",boxShadow:"none",height:"90px",padding:"10px 16px",display:"flex",flexDirection:"column",justifyContent:"center",gap:"8px",pointerEvents:"none"},children:a.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",width:"100%",pointerEvents:"auto"},children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:a.jsx("div",{className:"flex-1 h-3 bg-stone-200 rounded-full overflow-hidden relative shadow-inner",children:a.jsx("div",{style:{width:`${Math.min(j,100)}%`},className:`h-full bg-gradient-to-r ${p?"from-green-600 to-green-400":"from-red-900 to-red-500"} shadow-[0_0_10px_rgba(239,68,68,0.6)] transition-all duration-300`})})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("div",{className:"flex-1 h-3 bg-stone-200 rounded-full overflow-hidden relative shadow-inner",children:a.jsx("div",{style:{width:`${Math.min(v,100)}%`},className:`h-full bg-gradient-to-r ${k?"from-green-600 to-green-400":"from-yellow-700 to-yellow-400"} shadow-[0_0_10px_rgba(234,179,8,0.6)] transition-all duration-300`})})})]})})}function bv(){const[r,l]=m.useState(null),[d,c]=m.useState(null);m.useEffect(()=>{y()},[]);const y=m.useCallback(async()=>{try{const v=await zs();c(v||null)}catch{}},[]),h=m.useCallback(async()=>{try{return await ya()}catch{return[]}},[]),f=m.useCallback(v=>{l(v)},[]),x=m.useCallback(v=>{l(p=>p?{...p,...v}:{protein:0,fat:0,...v})},[]),w=m.useCallback(v=>{l(p=>p?{...p,protein:(p.protein||0)+(v.protein||0),fat:(p.fat||0)+(v.fat||0),zinc:(p.zinc||0)+(v.zinc||0),magnesium:(p.magnesium||0)+(v.magnesium||0),iron:(p.iron||0)+(v.iron||0),vitamin_b12:(p.vitamin_b12||0)+(v.vitamin_b12||0),vitaminC:(p.vitaminC||0)+(v.vitaminC||0),vitaminK:(p.vitaminK||0)+(v.vitaminK||0),sodium:(p.sodium||0)+(v.sodium||0)}:{protein:0,fat:0,...v})},[]),j=m.useCallback(()=>{l(null)},[]);return{previewData:r,todayLog:d,setPreview:f,updatePreview:x,addToPreview:w,clearPreview:j,loadTodayLog:y,loadAllLogs:h}}const va={tier1:["fat","protein","sodium","potassium","magnesium"],tier2:["omegaRatio","iron","zinc","vitaminD","vitaminA","vitaminK2","vitaminB12","choline","glycineMethionineRatio","calciumPhosphorusRatio"],tier3:["carbs","netCarbs","fiber","calcium","phosphorus","selenium","copper","manganese","iodine","chromium","molybdenum","fluoride","chloride","boron","nickel","silicon","vanadium","vitaminK","vitaminE","vitaminC","vitaminB1","vitaminB2","vitaminB3","vitaminB5","vitaminB6","vitaminB7","vitaminB9","taurine","omega3","omega6","pfRatio","phytates","polyphenols","flavonoids","anthocyanins","oxalates","lectins","saponins","goitrogens","tannins","trypsinInhibitors","proteaseInhibitors","cyanogenicGlycosides","solanine","chaconine","plantProtein","vegetableOil"]},pg={electrolytes:["sodium","potassium","magnesium"],macros:["fat","protein"]};function xv(r){switch(r){case"simple":return va.tier1;case"standard":return[...va.tier1,...va.tier2];case"detailed":return[...va.tier1,...va.tier2,...va.tier3];default:return va.tier1}}function Jc(r,l){return xv(l).includes(r)}const Lg="primal_logic_nutrient_display_mode";function Sv(){try{const r=localStorage.getItem(Lg);if(r==="debug")return"detailed";if(r&&["simple","standard","detailed"].includes(r))return r}catch{}return"standard"}function Fg(r){try{localStorage.setItem(Lg,r)}catch{}}function Wc(r){switch(r){case"simple":return"";case"standard":return"10";case"detailed":return"60";default:return""}}function jv(r){switch(r){case"carnivore_practitioner":return"simple";case"beginner":return"standard";case"data_focused":return"detailed";default:return"standard"}}const sl=()=>{const[r,l]=m.useState(()=>{const Q=localStorage.getItem("settings_show_knowledge");return Q?JSON.parse(Q):!1}),[d,c]=m.useState(()=>{const Q=localStorage.getItem("settings_show_nutrient_preview");return Q?JSON.parse(Q):!0}),[y,h]=m.useState(()=>localStorage.getItem("app_font_size")||"medium"),[f,x]=m.useState(()=>{const Q=localStorage.getItem("settings_debug_mode");return Q!==null?JSON.parse(Q):!0}),[w,j]=m.useState(()=>{const Q=localStorage.getItem("settings_dark_mode");return Q?JSON.parse(Q):!1}),[v,p]=m.useState(()=>localStorage.getItem("settings_ai_mode")||"purist"),[k,T]=m.useState(()=>{const Q=localStorage.getItem("primal_logic_tips_enabled");return Q!==null?JSON.parse(Q):!0}),[q,ne]=m.useState(()=>Sv()),fe=()=>{const Q=!r;l(Q),localStorage.setItem("settings_show_knowledge",JSON.stringify(Q))},se=()=>{const Q=!d;c(Q),localStorage.setItem("settings_show_nutrient_preview",JSON.stringify(Q))},te=Q=>{h(Q),localStorage.setItem("app_font_size",Q);const Ne=Q==="small"?"14px":Q==="medium"?"16px":Q==="large"?"18px":"20px";document.documentElement.style.setProperty("--app-font-size",Ne),document.body.style.fontSize=Ne;const Oe=document.getElementById("root");Oe&&(Oe.style.fontSize=Ne)},oe=()=>{const Q=!f;x(Q),localStorage.setItem("settings_debug_mode",JSON.stringify(Q)),window.dispatchEvent(new CustomEvent("debugModeChanged")),window.location.reload()},ve=()=>{const Q=!w;j(Q),localStorage.setItem("settings_dark_mode",JSON.stringify(Q)),Q?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme")},xe=Q=>{p(Q),localStorage.setItem("settings_ai_mode",Q)},de=()=>{const Q=!k;T(Q),localStorage.setItem("primal_logic_tips_enabled",JSON.stringify(Q))},je=Q=>{ne(Q),Fg(Q)};return m.useEffect(()=>{const Q=localStorage.getItem("settings_show_knowledge");Q!==null&&l(JSON.parse(Q));const Ne=localStorage.getItem("settings_show_nutrient_preview");Ne!==null?c(JSON.parse(Ne)):localStorage.setItem("settings_show_nutrient_preview",JSON.stringify(!0))},[]),m.useEffect(()=>{const Q=Oe=>{const O=Oe==="small"?"14px":Oe==="medium"?"16px":Oe==="large"?"18px":"20px";document.documentElement.style.setProperty("--app-font-size",O),document.body.style.fontSize=O;const ze=document.getElementById("root");ze&&(ze.style.fontSize=O)},Ne=localStorage.getItem("app_font_size");Ne?(h(Ne),Q(Ne)):(h("medium"),Q("medium"))},[]),m.useEffect(()=>{const Q=localStorage.getItem("settings_debug_mode");Q!==null&&x(JSON.parse(Q))},[]),m.useEffect(()=>{const Q=localStorage.getItem("settings_dark_mode");(Q?JSON.parse(Q):!1)?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme")},[]),m.useEffect(()=>{const Q=localStorage.getItem("settings_ai_mode");Q&&p(Q)},[]),m.useEffect(()=>{const Q=localStorage.getItem("primal_logic_tips_enabled");Q!==null?T(JSON.parse(Q)):localStorage.setItem("primal_logic_tips_enabled",JSON.stringify(!0))},[]),{showKnowledge:r,toggleKnowledge:fe,showNutrientPreview:d,toggleNutrientPreview:se,fontSize:y,setFontSize:te,debugMode:f,toggleDebugMode:oe,darkMode:w,toggleDarkMode:ve,aiMode:v,setAiMode:xe,tipsEnabled:k,toggleTips:de,nutrientDisplayMode:q,setNutrientDisplayMode:je}};async function wv(){try{const r=await ya(),l={};return r.forEach(y=>{y.fuel.forEach(h=>{const x=`${h.item}_${h.amount}_${h.unit}`;if(!l[x]){const w=h.unit==="g"||h.unit===""?h.unit:"g";l[x]={amount:h.amount,unit:w,count:0}}l[x].count++})}),Object.entries(l).map(([y,h])=>{const[f]=y.split("_");return{foodName:f,amount:h.amount,unit:h.unit,count:h.count}}).filter(y=>y.foodName!=="").sort((y,h)=>h.count-y.count)}catch{return[]}}const Bs="primal_logic_my_foods";function rl(){try{const r=localStorage.getItem(Bs);return r?JSON.parse(r):[]}catch{return[]}}function Og(r){try{const l=rl();l.some(c=>c.foodName===r.foodName&&c.amount===r.amount&&c.unit===r.unit)||(l.push(r),localStorage.setItem(Bs,JSON.stringify(l)))}catch{}}function _v(r){try{const d=rl().filter(c=>!(c.foodName===r.foodName&&c.amount===r.amount&&c.unit===r.unit));localStorage.setItem(Bs,JSON.stringify(d))}catch{}}function Cv(r){try{return rl().find(d=>d.id===r)||null}catch{return null}}function Tv(r,l){try{const d=rl(),c=d.findIndex(y=>y.id===r);c!==-1&&(d[c]={...l,id:r},localStorage.setItem(Bs,JSON.stringify(d)))}catch{}}function Nv(r){try{const l=`custom_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,d={...r,id:l};return Og(d),l}catch(l){throw l}}const Cs={beef_ribeye:{id:"beef_ribeye",name:"Beef Ribeye",type:"ruminant",nutrientsRaw:{protein:20,fat:20,carbs:0,fiber:0,hemeIron:2.3,vitaminA:0,vitaminC:0,vitaminK:1.1,zinc:4.3,sodium:54,magnesium:20},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},beef_ground:{id:"beef_ground",name:"Ground Beef (80/20)",type:"ruminant",nutrientsRaw:{protein:20,fat:20,carbs:0,fiber:0,hemeIron:2.3,vitaminA:0,vitaminC:0,vitaminK:1.1,zinc:4.3,sodium:75,magnesium:18},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},lamb_chop:{id:"lamb_chop",name:"Lamb Chop",type:"ruminant",nutrientsRaw:{protein:25,fat:21,carbs:0,fiber:0,hemeIron:1.8,vitaminA:0,vitaminC:0,vitaminK:1.2,zinc:4.5,sodium:65,magnesium:22},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},eggs:{id:"eggs",name:"Eggs (whole)",type:"animal",pieceWeight:50,preferredUnit:"piece",nutrientsRaw:{protein:13,fat:11,carbs:1.1,fiber:0,hemeIron:1.8,vitaminA:160,vitaminC:0,vitaminK:.3,zinc:1.1,sodium:140,magnesium:12},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},salmon:{id:"salmon",name:"Salmon",type:"animal",nutrientsRaw:{protein:20,fat:13,carbs:0,fiber:0,hemeIron:.8,vitaminA:12,vitaminC:0,vitaminK:.1,zinc:.6,sodium:44,magnesium:30},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},butter:{id:"butter",name:"Butter",type:"dairy",nutrientsRaw:{protein:.9,fat:81,carbs:.1,fiber:0,hemeIron:0,vitaminA:684,vitaminC:0,vitaminK:7,zinc:.1,sodium:11,magnesium:2},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},cheese_cheddar:{id:"cheese_cheddar",name:"Cheddar Cheese",type:"dairy",nutrientsRaw:{protein:25,fat:33,carbs:1.3,fiber:0,hemeIron:.7,vitaminA:265,vitaminC:0,vitaminK:2.8,zinc:3.1,sodium:621,magnesium:27,calcium:721},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},spinach:{id:"spinach",name:"Spinach (raw)",type:"plant",flags:["high_oxalate"],nutrientsRaw:{protein:2.9,fat:.4,carbs:3.6,fiber:2.2,nonHemeIron:2.7,vitaminA:9377,vitaminC:28.1,vitaminK:482.9,zinc:.5,sodium:79,magnesium:79,calcium:99},bioCoefficients:{protein:.6,iron:.1,vitaminA:.03,vitaminK:.1,zinc:.2}},tempura:{id:"tempura",name:"Tempura",type:"trash",flags:["seed_oil","high_carb"],nutrientsRaw:{protein:6,fat:18,carbs:25,fiber:1.5,nonHemeIron:1.2,vitaminA:0,vitaminC:0,vitaminK:0,zinc:.5,sodium:400,magnesium:15},bioCoefficients:{protein:.6,iron:.1,vitaminA:0,vitaminK:0,zinc:.2}},pork_belly:{id:"pork_belly",name:"",type:"animal",nutrientsRaw:{protein:14,fat:50,carbs:0,fiber:0,hemeIron:.8,vitaminA:0,vitaminC:0,vitaminK:0,zinc:1.9,sodium:50,magnesium:15},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},pork_loin:{id:"pork_loin",name:"",type:"animal",nutrientsRaw:{protein:22,fat:10,carbs:0,fiber:0,hemeIron:.9,vitaminA:0,vitaminC:0,vitaminK:0,zinc:2.2,sodium:60,magnesium:20},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},pork_shoulder:{id:"pork_shoulder",name:"",type:"animal",nutrientsRaw:{protein:20,fat:15,carbs:0,fiber:0,hemeIron:.9,vitaminA:0,vitaminC:0,vitaminK:0,zinc:2.1,sodium:55,magnesium:18},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},pork_ribs:{id:"pork_ribs",name:"",type:"animal",nutrientsRaw:{protein:18,fat:25,carbs:0,fiber:0,hemeIron:.8,vitaminA:0,vitaminC:0,vitaminK:0,zinc:2,sodium:70,magnesium:16},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},pork_ground:{id:"pork_ground",name:"",type:"animal",nutrientsRaw:{protein:16,fat:30,carbs:0,fiber:0,hemeIron:.7,vitaminA:0,vitaminC:0,vitaminK:0,zinc:1.8,sodium:65,magnesium:14},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},beef_sirloin:{id:"beef_sirloin",name:"Beef Sirloin",type:"ruminant",nutrientsRaw:{protein:22,fat:8,carbs:0,fiber:0,hemeIron:2.5,vitaminA:0,vitaminC:0,vitaminK:1,zinc:4.5,sodium:50,magnesium:22},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},beef_chuck:{id:"beef_chuck",name:"Beef Chuck",type:"ruminant",nutrientsRaw:{protein:19,fat:15,carbs:0,fiber:0,hemeIron:2.2,vitaminA:0,vitaminC:0,vitaminK:1,zinc:4.2,sodium:60,magnesium:20},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},bread:{id:"bread",name:"Bread (white)",type:"trash",flags:["high_carb","wheat"],nutrientsRaw:{protein:9,fat:3.2,carbs:49,fiber:2.7,nonHemeIron:3.6,vitaminA:0,vitaminC:0,vitaminK:.2,zinc:.7,sodium:681,magnesium:22},bioCoefficients:{protein:.6,iron:.1,vitaminA:0,vitaminK:.1,zinc:.2}},rice:{id:"rice",name:"Rice (white, cooked)",type:"trash",flags:["high_carb"],nutrientsRaw:{protein:2.7,fat:.3,carbs:28,fiber:.4,nonHemeIron:.8,vitaminA:0,vitaminC:0,vitaminK:0,zinc:.6,sodium:1,magnesium:13},bioCoefficients:{protein:.6,iron:.1,vitaminA:0,vitaminK:0,zinc:.2}},beef_liver:{id:"beef_liver",name:"",type:"ruminant",flags:["organ","high_vitamin_a"],nutrientsRaw:{protein:20,fat:3.6,carbs:3.9,fiber:0,hemeIron:6.5,vitaminA:16898,vitaminC:1.3,vitaminK:3.1,vitaminB1:.2,vitaminB2:3.4,vitaminB3:17.5,vitaminB6:1,vitaminB12:59.3,vitaminE:.5,zinc:4,sodium:69,magnesium:18,calcium:5,phosphorus:387,selenium:39.7,copper:14.6,manganese:.3},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},beef_heart:{id:"beef_heart",name:"",type:"ruminant",flags:["organ","high_coq10"],nutrientsRaw:{protein:17,fat:3.9,carbs:.1,fiber:0,hemeIron:4.3,vitaminA:0,vitaminC:2,vitaminK:0,vitaminB1:.3,vitaminB2:.7,vitaminB3:7.3,vitaminB6:.3,vitaminB12:10.2,vitaminE:.2,zinc:2.3,sodium:98,magnesium:20,calcium:5,phosphorus:212,selenium:21.8,copper:.4,manganese:.1},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},beef_kidney:{id:"beef_kidney",name:"",type:"ruminant",flags:["organ","high_selenium"],nutrientsRaw:{protein:17,fat:3.1,carbs:.3,fiber:0,hemeIron:4.6,vitaminA:157,vitaminC:9.4,vitaminK:0,vitaminB1:.4,vitaminB2:2.8,vitaminB3:7.7,vitaminB6:.3,vitaminB12:27.5,vitaminE:.2,zinc:1.9,sodium:182,magnesium:17,calcium:13,phosphorus:257,selenium:141,copper:.4,manganese:.1},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},beef_spleen:{id:"beef_spleen",name:"",type:"ruminant",flags:["organ","high_iron"],nutrientsRaw:{protein:17,fat:3,carbs:0,fiber:0,hemeIron:44.6,vitaminA:0,vitaminC:46,vitaminK:0,vitaminB1:.1,vitaminB2:.3,vitaminB3:4.6,vitaminB6:.1,vitaminB12:4.5,vitaminE:.1,zinc:2.7,sodium:126,magnesium:20,calcium:10,phosphorus:277,selenium:28.4,copper:.2,manganese:.1},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},beef_brain:{id:"beef_brain",name:"",type:"ruminant",flags:["organ","high_dha"],nutrientsRaw:{protein:10,fat:10.3,carbs:1.1,fiber:0,hemeIron:4.6,vitaminA:0,vitaminC:0,vitaminK:0,vitaminB1:.1,vitaminB2:.2,vitaminB3:4.2,vitaminB6:.1,vitaminB12:10.1,vitaminE:1,zinc:1.1,sodium:126,magnesium:12,calcium:12,phosphorus:335,selenium:21.1,copper:.2,manganese:.1},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},beef_tallow:{id:"beef_tallow",name:"",type:"ruminant",flags:["fat","pure_fat"],nutrientsRaw:{protein:0,fat:100,carbs:0,fiber:0,hemeIron:0,vitaminA:0,vitaminC:0,vitaminK:0,vitaminB1:0,vitaminB2:0,vitaminB3:0,vitaminB6:0,vitaminB12:0,vitaminE:2.7,zinc:0,sodium:0,magnesium:0,calcium:0,phosphorus:0,selenium:0,copper:0,manganese:0},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}}};function hg(r){const l=r.toLowerCase().trim();return l.length===0?[]:Object.values(Cs).filter(d=>{const c=d.name.toLowerCase(),y=d.id.toLowerCase();return c.includes(l)||y.includes(l)})}function Jy(r){const l=r.toLowerCase().trim();return Cs[l]?Cs[l]:Object.values(Cs).find(d=>d.name.toLowerCase()===l||d.id.toLowerCase()===l)}const fn=[{name:"Rookie",days:0,description:""},{name:"Carnivore",days:7,description:"1"},{name:"Hunter",days:30,description:"1"},{name:"Predator",days:90,description:"3"},{name:"Master",days:180,description:"6"},{name:"Legend",days:365,description:"1"}];function zv(r,l){return r.localeCompare(l)}function js(r,l){const d=new Date(r);return d.setDate(d.getDate()+l),d.toISOString().split("T")[0]}function kv(){return new Date().toISOString().split("T")[0]}async function Ig(){try{Ms();const r=await ya();if(r.length===0)return{currentStreak:0,longestStreak:0,phase:fn[0].name,phaseDescription:fn[0].description,nextPhase:fn[1].name,daysUntilNextPhase:fn[1].days};const l=[...r].sort((v,p)=>zv(p.date,v.date)),d=kv();let c=0,y=0,h=0,f=null;const x=l.filter(v=>!v.calculatedMetrics?.hasViolation);if(x.length===0)c=0;else{const v=x[0].date;if(Math.floor((new Date(d).getTime()-new Date(v).getTime())/(1e3*60*60*24))<=1){let k;if(v===d?(c=1,k=js(d,-1)):v===js(d,-1)?(c=1,k=js(d,-2)):(c=0,k=""),c>0)for(let T=1;T<x.length;T++){const q=x[T];if(q.date===k)c++,k=js(k,-1);else if(q.date<k)break}}else c=0}for(let v=0;v<l.length;v++){const p=l[v];if(p.calculatedMetrics?.hasViolation){y=Math.max(y,h),h=0,f=null;continue}f===null?(h=1,f=p.date):(Math.floor((new Date(f).getTime()-new Date(p.date).getTime())/864e5)===1?h++:(y=Math.max(y,h),h=1),f=p.date)}y=Math.max(y,h);let w=fn[0],j=null;for(let v=fn.length-1;v>=0;v--)if(c>=fn[v].days){w=fn[v],v<fn.length-1&&(j=fn[v+1]);break}return{currentStreak:c,longestStreak:y,phase:w.name,phaseDescription:w.description,nextPhase:j?.name||null,daysUntilNextPhase:j?j.days-c:null}}catch{return{currentStreak:0,longestStreak:0,phase:fn[0].name,phaseDescription:fn[0].description,nextPhase:fn[1].name,daysUntilNextPhase:fn[1].days}}}const Av=[{id:"headache",name:"",description:"",remedies:[{nutrient:"sodium",adjustment:2e3,explanation:"+2000mg"}],recommendedFoods:["","",""]},{id:"cramp",name:"",description:"",remedies:[{nutrient:"magnesium",adjustment:200,explanation:"+200mg"}],recommendedFoods:["",""]},{id:"fatigue",name:"",description:"",remedies:[{nutrient:"fat",adjustment:50,explanation:""},{nutrient:"sodium",adjustment:1e3,explanation:""}],recommendedFoods:["","",""]},{id:"constipation",name:"",description:"",remedies:[{nutrient:"magnesium",adjustment:200,explanation:"+200mg"},{nutrient:"water",adjustment:1,explanation:"1L"}],recommendedFoods:["",""]},{id:"diarrhea",name:"",description:"",remedies:[{nutrient:"fat",adjustment:-30,explanation:""}],recommendedFoods:["",""]}];function Dv(r,l){let d=0;if(r!==void 0)d=r;else if(l){const f=new Date(l);d=Math.floor((new Date().getTime()-f.getTime())/(1e3*60*60*24))}else return null;const c=30,y=Math.min(d/c*100,100),h=Math.max(c-d,0);return d>=c?null:{daysInTransition:d,totalDays:c,progress:y,remainingDays:h}}function Ev({daysInTransition:r,totalDays:l,onPress:d}){const c=Math.min(r/l*100,100),y=l-r;return a.jsxs("div",{onClick:d,style:{backgroundColor:"#3b82f6",color:"white",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.75rem",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:[a.jsx("span",{style:{fontSize:"1.5rem"},children:""}),a.jsxs("div",{style:{flex:1},children:[a.jsxs("div",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"0.25rem"},children:[": ",r,"/",l,"",Math.round(c),"%"]}),a.jsx("div",{style:{fontSize:"12px",opacity:.9},children:": "}),y>0&&a.jsxs("div",{style:{fontSize:"11px",opacity:.8,marginTop:"0.25rem"},children:["",y,""]})]})]})}function Mv({progress:r,onClose:l}){const[d,c]=m.useState(null);return a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},onClick:l,children:a.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"1.5rem",maxWidth:"600px",width:"100%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},onClick:y=>y.stopPropagation(),children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[a.jsx("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:"bold"},children:""}),a.jsx("button",{onClick:l,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",padding:"0.25rem"},children:""})]}),a.jsxs("section",{style:{marginBottom:"2rem"},children:[a.jsx("h3",{style:{fontSize:"1rem",fontWeight:"bold",marginBottom:"0.75rem"},children:""}),a.jsx("p",{style:{fontSize:"14px",lineHeight:"1.6",marginBottom:"1rem"},children:"30 "}),a.jsxs("div",{style:{marginTop:"1rem"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[a.jsxs("span",{style:{fontSize:"14px"},children:[": ",r.daysInTransition,"/",r.totalDays,""]}),a.jsxs("span",{style:{fontSize:"14px",fontWeight:"bold"},children:[Math.round(r.progress),"%"]})]}),a.jsx("div",{style:{width:"100%",height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"},children:a.jsx("div",{style:{width:`${r.progress}%`,height:"100%",backgroundColor:"#3b82f6",transition:"width 0.3s ease"}})})]})]}),a.jsxs("section",{style:{marginBottom:"2rem"},children:[a.jsx("h3",{style:{fontSize:"1rem",fontWeight:"bold",marginBottom:"0.75rem"},children:""}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:Av.map(y=>a.jsxs("button",{onClick:()=>c(d?.id===y.id?null:y),style:{padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:d?.id===y.id?"#f3f4f6":"white",cursor:"pointer",textAlign:"left",fontSize:"14px"},children:[a.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:y.name}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:y.description})]},y.id))}),d&&a.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[a.jsxs("h4",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"0.75rem"},children:[d.name,""]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:d.remedies.map((y,h)=>a.jsxs("div",{style:{fontSize:"13px",lineHeight:"1.6"},children:[a.jsxs("div",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:[y.nutrient==="sodium"&&"",y.nutrient==="magnesium"&&"",y.nutrient==="potassium"&&"",y.nutrient==="fat"&&"",y.nutrient==="water"&&"",y.adjustment>0?` +${y.adjustment}`:` ${y.adjustment}`,y.nutrient==="sodium"||y.nutrient==="magnesium"||y.nutrient==="potassium"?"mg":y.nutrient==="fat"?"g":"L"]}),a.jsx("div",{style:{color:"#6b7280",fontSize:"12px"},children:y.explanation})]},h))}),d.recommendedFoods.length>0&&a.jsxs("div",{style:{marginTop:"0.75rem"},children:[a.jsx("div",{style:{fontSize:"12px",fontWeight:"bold",marginBottom:"0.5rem"},children:":"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:d.recommendedFoods.map((y,h)=>a.jsx("span",{style:{padding:"0.25rem 0.5rem",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"4px",fontSize:"12px"},children:y},h))})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{style:{fontSize:"1rem",fontWeight:"bold",marginBottom:"0.75rem"},children:""}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"0.75rem"},children:[{name:"",items:["","",""]},{name:"",items:["",""]},{name:"",items:[""]},{name:"",items:["",""]}].map((y,h)=>a.jsxs("div",{style:{padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[a.jsx("div",{style:{fontSize:"12px",fontWeight:"bold",marginBottom:"0.5rem"},children:y.name}),a.jsx("div",{style:{fontSize:"11px",color:"#6b7280"},children:y.items.join("")})]},h))})]})]})})}function Ug(){const r=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);if(/iPhone|iPad|iPod/i.test(navigator.userAgent))return!1;if(r&&"BarcodeDetector"in window)try{return!!new window.BarcodeDetector({formats:["qr_code"]})}catch{return!1}return"BarcodeDetector"in window}async function Rv(r,l){try{if(!Ug())throw new Error("BarcodeDetector API is not available");let d,c,y=!1;r?(c=r,d=c.srcObject):(d=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),c=document.createElement("video"),c.srcObject=d,await c.play(),y=!0);const h=window.BarcodeDetector,f=new h({formats:["ean_13","ean_8","upc_a","upc_e","code_128","code_39","code_93","codabar","itf","qr_code","data_matrix","aztec","pdf417"]});return new Promise((x,w)=>{let j=0;const v=20,p=setInterval(async()=>{try{j++;const k=await f.detect(c);k.length>0?(clearInterval(p),y&&(d.getTracks().forEach(T=>T.stop()),c.remove()),x({code:k[0].rawValue,format:k[0].format})):j>=v&&(clearInterval(p),y&&(d.getTracks().forEach(T=>T.stop()),c.remove()),x(null))}catch{}},500)})}catch(d){const c=d;throw c.name==="NotAllowedError"||c.name==="PermissionDeniedError"?new Error(""):c.name==="NotFoundError"||c.name==="DevicesNotFoundError"?new Error(""):c.message?.includes("BarcodeDetector")?new Error("ChromeEdge"):d}}async function Bv(r){try{const d=await(await fetch(`https://world.openfoodfacts.org/api/v0/product/${r}.json`)).json();return d.status===0?null:d.product}catch(l){throw l}}function Hg({isOpen:r,onClose:l,onSuccess:d}){const[c,y]=m.useState(!1),[h,f]=m.useState(null),[x,w]=m.useState(null),[j,v]=m.useState(null),[p,k]=m.useState(!1),T=m.useRef(null),q=m.useRef(null);m.useEffect(()=>{r?(y(!1),f(null),w(null),v(null),k(!1)):q.current&&(q.current.getTracks().forEach(te=>te.stop()),q.current=null)},[r]);const ne=async()=>{if(!Ug()){const te=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),oe=/iPhone|iPad|iPod/i.test(navigator.userAgent);f(oe?"iOS Safari":te?"Android Chrome":"ChromeEdge");return}y(!0),f(null),w(null),v(null);try{const te=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});q.current=te,T.current&&(T.current.srcObject=te,await T.current.play());const oe=await Rv(T.current||void 0);if(oe){w(oe),y(!1),k(!0);try{const ve=await Bv(oe.code);ve?v(ve):f("")}catch(ve){f("")}finally{k(!1)}}else f(""),y(!1)}catch(te){const oe=te;oe.name==="NotAllowedError"||oe.name==="PermissionDeniedError"?f(""):oe.name==="NotFoundError"||oe.name==="DevicesNotFoundError"?f(""):f(""),y(!1)}},fe=()=>{if(!j)return;const te=j.product_name||j.product_name_en||"",oe=prompt(`${te}g:`,"100");if(!oe)return;const ve=Number(oe);if(isNaN(ve)||ve<=0){alert("");return}d(te,ve),l()},se=()=>{q.current&&(q.current.getTracks().forEach(te=>te.stop()),q.current=null),l()};return r?a.jsx("div",{className:"barcode-scanner-modal-overlay",onClick:se,children:a.jsxs("div",{className:"barcode-scanner-modal",onClick:te=>te.stopPropagation(),children:[a.jsxs("div",{className:"barcode-scanner-modal-header",children:[a.jsx("h2",{className:"barcode-scanner-modal-title",children:""}),a.jsx("button",{onClick:se,className:"barcode-scanner-modal-close",children:""})]}),a.jsxs("div",{className:"barcode-scanner-modal-content",children:[!c&&!x&&!h&&a.jsxs("div",{className:"barcode-scanner-modal-start",children:[a.jsx("p",{children:""}),a.jsx("button",{onClick:ne,className:"barcode-scanner-modal-start-button",children:""})]}),c&&a.jsxs("div",{className:"barcode-scanner-modal-scanning",children:[a.jsxs("div",{className:"barcode-scanner-modal-video-container",children:[a.jsx("video",{ref:T,autoPlay:!0,playsInline:!0,className:"barcode-scanner-modal-video"}),a.jsx("div",{className:"barcode-scanner-modal-scan-line"})]}),a.jsx("p",{className:"barcode-scanner-modal-scanning-text",children:"..."})]}),h&&a.jsxs("div",{className:"barcode-scanner-modal-error",children:[a.jsxs("p",{children:[" ",h]}),a.jsx("button",{onClick:ne,className:"barcode-scanner-modal-retry-button",children:""})]}),x&&a.jsxs("div",{className:"barcode-scanner-modal-result",children:[a.jsx("p",{className:"barcode-scanner-modal-success",children:" "}),a.jsxs("p",{className:"barcode-scanner-modal-barcode",children:[": ",x.code]}),p&&a.jsx("p",{className:"barcode-scanner-modal-loading",children:"..."}),j&&a.jsxs("div",{className:"barcode-scanner-modal-food-info",children:[a.jsx("h3",{children:j.product_name||j.product_name_en||""}),a.jsx("button",{onClick:fe,className:"barcode-scanner-modal-add-button",children:""})]})]})]})]})}):null}const Ht=[{id:"tip_001",title:"",content:"",category:"",difficulty:2},{id:"tip_002",title:"",content:"IBS",category:"",difficulty:2},{id:"tip_003",title:"",content:"",category:"",difficulty:1},{id:"tip_004",title:"",content:"",category:"",difficulty:2},{id:"tip_005",title:"",content:"5000-8000mg/",category:"",difficulty:1},{id:"tip_006",title:"",content:"",category:"",difficulty:1},{id:"tip_007",title:"",content:"5-10",category:"",difficulty:1},{id:"tip_008",title:"B12",content:"B12B12B12",category:"",difficulty:1},{id:"tip_009",title:"",content:"",category:"",difficulty:1},{id:"tip_010",title:"",content:"",category:"",difficulty:1},{id:"tip_011",title:"DHA/EPA",content:"3DHA/EPA2-33",category:"",difficulty:1},{id:"tip_012",title:"",content:"",category:"",difficulty:2},{id:"tip_013",title:"",content:"AB121-2",category:"",difficulty:2},{id:"tip_014",title:"",content:"",category:"",difficulty:2},{id:"tip_015",title:"",content:"",category:"",difficulty:1},{id:"tip_016",title:"P:F",content:"P:F1:11:21-2",category:"",difficulty:2},{id:"tip_017",title:"",content:"1-2",category:"",difficulty:1},{id:"tip_018",title:"",content:"1-2",category:"",difficulty:2},{id:"tip_019",title:"",content:"",category:"",difficulty:1},{id:"tip_020",title:"",content:"",category:"",difficulty:1},{id:"tip_021",title:"D",content:"DD115-30D",category:"",difficulty:1},{id:"tip_022",title:"",content:"",category:"",difficulty:2},{id:"tip_023",title:"",content:"",category:"",difficulty:2},{id:"tip_024",title:"",content:"",category:"",difficulty:2},{id:"tip_025",title:"",content:"",category:"",difficulty:1},{id:"tip_026",title:"",content:"DLDL",category:"",difficulty:3},{id:"tip_027",title:"",content:"",category:"",difficulty:2},{id:"tip_028",title:"",content:"",category:"",difficulty:2},{id:"tip_029",title:"",content:"",category:"",difficulty:1},{id:"tip_030",title:"",content:"11-2",category:"",difficulty:1},{id:"tip_031",title:"",content:"",category:"",difficulty:3},{id:"tip_032",title:"K2",content:"K2K2",category:"",difficulty:2},{id:"tip_033",title:"",content:"",category:"",difficulty:1},{id:"tip_034",title:"",content:"",category:"",difficulty:2},{id:"tip_035",title:"",content:"",category:"",difficulty:1},{id:"tip_036",title:"A",content:"AA1-2",category:"",difficulty:2},{id:"tip_037",title:"36",content:"6362-3",category:"",difficulty:2},{id:"tip_038",title:"",content:"DK2",category:"",difficulty:2},{id:"tip_039",title:"",content:"",category:"",difficulty:3},{id:"tip_040",title:"",content:"",category:"",difficulty:3},{id:"tip_041",title:"B",content:"BB1, B2, B3, B5, B6, B7, B9, B12DNAB",category:"",difficulty:1},{id:"tip_042",title:"FolateB12",content:"B12DNA",category:"",difficulty:2},{id:"tip_043",title:"E",content:"EE",category:"",difficulty:2},{id:"tip_044",title:"",content:"",category:"",difficulty:2},{id:"tip_045",title:"",content:"1-2",category:"",difficulty:3},{id:"tip_046",title:"",content:"",category:"",difficulty:2},{id:"tip_047",title:"",content:"1-2",category:"",difficulty:3},{id:"tip_048",title:"",content:"",category:"",difficulty:2},{id:"tip_049",title:"",content:"",category:"",difficulty:2},{id:"tip_050",title:"",content:"",category:"",difficulty:3},{id:"tip_051",title:"",content:"1-2",category:"",difficulty:3},{id:"tip_052",title:"",content:"",category:"",difficulty:3},{id:"tip_053",title:"",content:"",category:"",difficulty:1},{id:"tip_054",title:"",content:"1-2",category:"",difficulty:1},{id:"tip_055",title:"",content:"",category:"",difficulty:1},{id:"tip_056",title:"",content:"",category:"",difficulty:1},{id:"tip_057",title:"",content:"",category:"",difficulty:1},{id:"tip_058",title:"",content:"1-2",category:"",difficulty:1},{id:"tip_059",title:"",content:"",category:"",difficulty:2},{id:"tip_060",title:"",content:"",category:"",difficulty:2},{id:"tip_mindset_001",title:"",content:"10001",category:"Mindset",difficulty:2},{id:"tip_mindset_002",title:"",content:"",category:"Mindset",difficulty:2},{id:"tip_social_001",title:"",content:"16",category:"Social",difficulty:2},{id:"tip_social_002",title:"",content:"",category:"Social",difficulty:3},{id:"tip_social_003",title:"",content:"...",category:"Social",difficulty:1}];function Lv(r){const l=typeof window<"u"?localStorage.getItem("tips_current_index"):null;let d=l?parseInt(l,10):0;d>=Ht.length&&(d=0);const c=Ht[d];return typeof window<"u"&&localStorage.setItem("tips_current_index",String(d+1)),{tip:c,index:d}}function Ds(){const r=Math.floor(Math.random()*Ht.length);return Ht[r]}function Qa(r){const l=Ht.filter(c=>c.id!==r);if(l.length===0)return Ds();const d=Math.floor(Math.random()*l.length);return l[d]}function Fv({isOpen:r,onClose:l,analysisResult:d,onConfirm:c,dynamicTargets:y}){const[h,f]=m.useState(d),[x,w]=m.useState({}),[j,v]=m.useState(!1),[p,k]=m.useState(null),[T,q]=m.useState(0),[ne,fe]=m.useState(!1);if(m.useEffect(()=>{if(f(d),w({}),r&&!p){const{tip:ge,index:he}=Lv();k(ge),q(he),fe(isTipSaved(ge.id))}},[d,r]),!r||!h)return null;const se=h.estimatedWeight/100,te=h.nutrients||{},oe=(te.protein||0)*se,ve=(te.fat||0)*se,xe=(te.sodium||0)*se,de=(te.magnesium||0)*se,je=(te.potassium||0)*se,Q=(te.zinc||0)*se,Ne=(te.iron||0)*se,Oe=(te.vitaminD||0)*se,O=y.protein||100,ze=y.fat||100,z=y.sodium||5e3,W=y.magnesium||600,Se=y.potassium||4500,F=y.zinc||11,ue=y.iron||8,re=y.vitamin_d||2e3;return a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(5px)"},onClick:l,children:a.jsxs("div",{style:{backgroundColor:"#1f2937",color:"#f9fafb",borderRadius:"16px",padding:"1.5rem",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.5)",border:"1px solid #374151"},onClick:ge=>ge.stopPropagation(),children:[a.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"1.5rem",display:"flex",alignItems:"center",borderBottom:"1px solid #374151",paddingBottom:"0.75rem"},children:" "}),a.jsxs("div",{style:{marginBottom:"1.5rem",display:"flex",flexDirection:"column",gap:"1.25rem"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"14px",color:"#9ca3af"},children:""}),a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx("input",{type:"text",value:h.foodName,onChange:ge=>f({...h,foodName:ge.target.value}),style:{flex:1,padding:"0.75rem",backgroundColor:"#111827",border:"1px solid #4b5563",color:"white",borderRadius:"8px",fontSize:"16px"}}),a.jsx("button",{onClick:async()=>{if(!(!h.foodName||j)){v(!0);try{const{analyzeFoodName:ge}=await Xe(async()=>{const{analyzeFoodName:we}=await Promise.resolve().then(()=>As);return{analyzeFoodName:we}},void 0),he=await ge(h.foodName);f(we=>({...we,nutrients:he.nutrients,type:he.type}))}catch{alert("")}finally{v(!1)}}},disabled:j,style:{padding:"0 1rem",backgroundColor:"#374151",color:"white",border:"1px solid #4b5563",borderRadius:"8px",cursor:"pointer",fontSize:"20px"},children:""})]})]}),a.jsxs("div",{style:{padding:"1rem",backgroundColor:"#111827",borderRadius:"12px",border:"1px solid #374151"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[a.jsx("label",{style:{fontWeight:"600",color:"#e5e7eb"},children:""}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx("input",{type:"number",value:h.estimatedWeight,onChange:ge=>f({...h,estimatedWeight:Math.max(0,Number(ge.target.value))}),style:{width:"80px",padding:"0.5rem",textAlign:"right",backgroundColor:"#374151",border:"none",borderRadius:"6px",color:"white",fontWeight:"bold"}}),a.jsx("span",{style:{color:"#9ca3af"},children:"g"})]})]}),a.jsx("input",{type:"range",min:"0",max:"1000",step:"10",value:h.estimatedWeight,onChange:ge=>f({...h,estimatedWeight:Number(ge.target.value)}),style:{width:"100%",marginBottom:"1.5rem",accentColor:"#dc2626",cursor:"pointer"}}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1rem"},children:[a.jsx(Ye,{label:"",currentDailyTotal:0,previewAmount:oe,target:O,unit:"g",color:"#ef4444",nutrientKey:"protein"}),a.jsx(Ye,{label:"",currentDailyTotal:0,previewAmount:ve,target:ze,unit:"g",color:"#eab308",nutrientKey:"fat"}),(xe>0||te.sodium)&&a.jsx(Ye,{label:"",currentDailyTotal:0,previewAmount:xe,target:z,unit:"mg",color:"#3b82f6",nutrientKey:"sodium"}),(de>0||te.magnesium)&&a.jsx(Ye,{label:"",currentDailyTotal:0,previewAmount:de,target:W,unit:"mg",color:"#8b5cf6",nutrientKey:"magnesium"}),(je>0||te.potassium)&&a.jsx(Ye,{label:"",currentDailyTotal:0,previewAmount:je,target:Se,unit:"mg",color:"#10b981",nutrientKey:"potassium"}),(Q>0||te.zinc)&&a.jsx(Ye,{label:"",currentDailyTotal:0,previewAmount:Q,target:F,unit:"mg",color:"#f59e0b",nutrientKey:"zinc"}),(Ne>0||te.iron)&&a.jsx(Ye,{label:"",currentDailyTotal:0,previewAmount:Ne,target:ue,unit:"mg",color:"#dc2626",nutrientKey:"iron"}),(Oe>0||te.vitaminD)&&a.jsx(Ye,{label:"D",currentDailyTotal:0,previewAmount:Oe,target:re,unit:"IU",color:"#f97316",nutrientKey:"vitamin_d"})]})]}),p&&a.jsxs("div",{style:{marginTop:"0.5rem",padding:"1rem",backgroundColor:"#fef3c7",borderRadius:"8px",border:"1px solid #fbbf24"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[a.jsxs("h3",{style:{fontSize:"14px",fontWeight:"bold",color:"#92400e",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" ",p.title]}),a.jsx("button",{onClick:()=>{ne?(unsaveTip(p.id),fe(!1)):(saveTip(p),fe(!0))},style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",padding:"0",color:ne?"#fbbf24":"#d1d5db"},children:ne?"":""})]}),a.jsx("p",{style:{fontSize:"13px",color:"#78350f",lineHeight:"1.6",margin:0},children:p.content})]}),h.followupQuestions&&h.followupQuestions.length>0&&a.jsxs("div",{style:{marginTop:"0.5rem",padding:"1rem",backgroundColor:"#374151",borderRadius:"8px",borderLeft:"4px solid #f59e0b"},children:[a.jsx("h3",{style:{fontSize:"14px",fontWeight:"bold",color:"#fcd34d",marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:" AI"}),h.followupQuestions.map((ge,he)=>a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"14px",color:"#e5e7eb"},children:ge}),a.jsx("input",{type:"text",placeholder:"...",value:x[ge]||"",onChange:we=>w({...x,[ge]:we.target.value}),style:{width:"100%",padding:"0.6rem",backgroundColor:"#1f2937",border:"1px solid #4b5563",color:"white",borderRadius:"6px",fontSize:"14px"}})]},he)),a.jsx("button",{onClick:async()=>{if(!j)try{v(!0);const ge=await Rg({foodName:h.foodName,estimatedWeight:h.estimatedWeight,type:h.type},x);f({...ge,followupQuestions:[]})}catch{alert("")}finally{v(!1)}},disabled:j||Object.keys(x).length===0,style:{width:"100%",padding:"0.75rem",backgroundColor:j?"#4b5563":"#f59e0b",color:j?"#9ca3af":"#1f2937",border:"none",borderRadius:"6px",fontWeight:"bold",cursor:j?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"14px"},children:j?"...":" "})]})]}),a.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #374151"},children:[a.jsx("button",{onClick:l,style:{padding:"0.75rem 1.5rem",backgroundColor:"transparent",color:"#9ca3af",border:"1px solid #4b5563",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"600"},children:""}),a.jsx("button",{onClick:()=>{const ge=h.estimatedWeight/100,he={};h.nutrients&&Object.entries(h.nutrients).forEach(([R,Z])=>{he[R]=Z*ge});const we={item:h.foodName,amount:h.estimatedWeight,unit:"g",type:h.type||"animal",nutrients:Object.keys(he).length>0?he:void 0};c(we)},style:{padding:"0.75rem 2rem",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",boxShadow:"0 4px 6px rgba(220, 38, 38, 0.4)"},children:""})]})]})})}function Vg({isOpen:r,onClose:l,onSave:d,initialFood:c}){const[y,h]=m.useState(c),[f,x]=m.useState(!1),[w,j]=m.useState(c.amount||100),[v,p]=m.useState(0),[k,T]=m.useState(0);if(m.useEffect(()=>{if(c){h(c),j(c.amount||100);const se=c.nutrients?.protein??0,te=c.nutrients?.fat??0,oe=c.amount||100;p(se/oe*100),T(te/oe*100)}},[c]),m.useEffect(()=>{const te=w*(f?1.33:1),oe=v/100*te,ve=k/100*te,xe=oe*4+ve*9;h(de=>({...de,amount:w,nutrients:{...de.nutrients,protein:Math.round(oe*10)/10,fat:Math.round(ve*10)/10,calories:Math.round(xe)}}))},[w,f,v,k]),!r)return null;const q=y.nutrients?.protein??0,ne=y.nutrients?.fat??0,fe=ne>0?(q/ne).toFixed(2):"";return ne>0&&(ne*9/(q*4+ne*9)*100).toFixed(0),a.jsx("div",{className:"food-edit-modal-overlay",children:a.jsxs("div",{className:"food-edit-modal",children:[a.jsxs("div",{className:"food-edit-header",children:[a.jsx("h3",{children:y.item}),a.jsx("button",{className:"close-button",onClick:l,children:""})]}),a.jsxs("div",{className:"food-edit-content",children:[a.jsxs("div",{className:"input-group weight-group",children:[a.jsxs("div",{className:"weight-input-wrapper",children:[a.jsx("label",{children:" (g)"}),a.jsx("input",{type:"number",value:w,onChange:se=>j(Number(se.target.value)),className:"weight-input"})]}),a.jsxs("div",{className:"state-toggle-wrapper",children:[a.jsx("label",{children:"Measurement State"}),a.jsxs("div",{className:"toggle-switch",children:[a.jsx("button",{className:`toggle-option ${f?"":"active"}`,onClick:()=>x(!1),title:":  (Raw)",children:""}),a.jsx("button",{className:`toggle-option ${f?"active":""}`,onClick:()=>x(!0),title:":  (Cooked)",children:""})]})]})]}),a.jsx("p",{className:"hint-text",children:f?"  ( x1.33)":"  (Raw)"}),a.jsx("div",{className:"nutrition-dashboard",children:a.jsxs("div",{className:"nutrition-stat",children:[a.jsx("span",{className:"stat-label",children:"P:F "}),a.jsx("span",{className:"stat-value highlight",children:fe}),a.jsx("span",{className:"stat-unit",children:""})]})}),a.jsxs("div",{className:"slider-section",children:[a.jsxs("div",{className:"slider-group",children:[a.jsxs("div",{className:"slider-header",children:[a.jsx("label",{children:" (Protein)"}),a.jsxs("span",{className:"slider-current-value",children:[Math.round(v),"g / 100g"]})]}),a.jsx("input",{type:"range",min:"0",max:"50",step:"0.5",value:v,onChange:se=>p(Number(se.target.value)),className:"nutrient-slider protein-slider"}),a.jsxs("div",{className:"actual-value",children:[": ",y.nutrients?.protein??0,"g"]})]}),a.jsxs("div",{className:"slider-group",children:[a.jsxs("div",{className:"slider-header",children:[a.jsx("label",{children:" (Fat)"}),a.jsxs("span",{className:"slider-current-value",children:[Math.round(k),"g / 100g"]})]}),a.jsx("input",{type:"range",min:"0",max:"100",step:"0.5",value:k,onChange:se=>T(Number(se.target.value)),className:"nutrient-slider fat-slider"}),a.jsxs("div",{className:"actual-value",children:[": ",y.nutrients?.fat??0,"g"]})]})]}),a.jsxs("div",{className:"topping-buttons",style:{marginTop:"1rem",display:"flex",gap:"0.5rem",justifyContent:"center"},children:[a.jsx("button",{onClick:()=>{const oe=((y.nutrients?.fat||0)+8)/w*100;T(oe)},className:"topping-btn",style:{padding:"0.5rem 1rem",borderRadius:"20px",border:"1px solid #444",background:"#222",color:"#fff",cursor:"pointer"},children:"  (+10g)"}),a.jsx("button",{onClick:()=>{const te={...y.nutrients};te.sodium=(te.sodium||0)+390,h({...y,nutrients:te})},className:"topping-btn",style:{padding:"0.5rem 1rem",borderRadius:"20px",border:"1px solid #444",background:"#222",color:"#fff",cursor:"pointer"},children:"  (+1g)"}),a.jsx("button",{onClick:()=>{const oe=((y.nutrients?.fat||0)+10)/w*100;T(oe)},className:"topping-btn",style:{padding:"0.5rem 1rem",borderRadius:"20px",border:"1px solid #444",background:"#222",color:"#fff",cursor:"pointer"},children:"  (+10g)"})]}),a.jsxs("details",{className:"advanced-details",children:[a.jsx("summary",{children:""}),a.jsx("div",{className:"detail-inputs",children:a.jsxs("label",{children:[":",a.jsx("input",{type:"text",value:y.item,onChange:se=>h({...y,item:se.target.value})})]})})]})]}),a.jsxs("div",{className:"food-edit-footer",children:[a.jsx("button",{className:"cancel-button",onClick:l,children:""}),a.jsx("button",{className:"confirm-button",onClick:()=>d(y),children:""})]})]})})}const mu="primalLogic_lastMealTime";function Ov(r){localStorage.setItem(mu,r.toString())}function Iv(){const r=localStorage.getItem(mu);if(!r)return null;const l=parseInt(r,10);return isNaN(l)?null:l}function Uv(){localStorage.removeItem(mu)}function Hv(r,l=Date.now()){const d=l-r,c=Math.floor(d/6e4),y=Math.floor(c/60),h=c%60;return{hours:y,minutes:h,totalMinutes:c}}function vg(r,l){return`${r}h ${l}m`}function Vv(r){return r<720?{stage:"Early",color:"#3b82f6",description:""}:r<960?{stage:"Fat Burning",color:"#f97316",description:""}:r<1080?{stage:"Ketosis",color:"#8b5cf6",description:""}:r<1440?{stage:"Deep Ketosis",color:"#10b981",description:""}:{stage:"Autophagy",color:"#dc2626",description:""}}function qv({compact:r=!1}){const[l,d]=m.useState(Iv()),[c,y]=m.useState(Date.now());m.useEffect(()=>{const j=setInterval(()=>{y(Date.now())},6e4);return()=>clearInterval(j)},[]);const h=l?Hv(l,c):null,f=h?Vv(h.totalMinutes):null,x=()=>{const j=Date.now();Ov(j),d(j)},w=()=>{Uv(),d(null)};return r?a.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",backgroundColor:f?f.color:"#f3f4f6",borderRadius:"12px",fontSize:"14px",fontWeight:"600",color:h?"#ffffff":"#374151"},children:h?a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx("span",{children:vg(h.hours,h.minutes)}),a.jsx("button",{onClick:w,style:{padding:"0.25rem 0.5rem",backgroundColor:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"6px",color:"#ffffff",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:"End"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx("span",{children:""}),a.jsx("button",{onClick:x,style:{padding:"0.25rem 0.5rem",backgroundColor:"#dc2626",border:"none",borderRadius:"6px",color:"#ffffff",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:"Stop Eating"})]})}):a.jsxs("div",{style:{padding:"1.5rem",backgroundColor:"#ffffff",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"},children:[a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsxs("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#1f2937",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx("span",{children:""}),a.jsx("span",{children:""})]}),a.jsx("p",{style:{fontSize:"13px",color:"#6b7280"},children:""})]}),h&&f?a.jsxs("div",{children:[a.jsxs("div",{style:{padding:"1.5rem",backgroundColor:f.color,borderRadius:"12px",marginBottom:"1rem",textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"48px",fontWeight:"bold",color:"#ffffff",marginBottom:"0.5rem"},children:vg(h.hours,h.minutes)}),a.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.25rem"},children:f.stage}),a.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.8)"},children:f.description})]}),a.jsx("div",{style:{padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"8px",marginBottom:"1rem"},children:a.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",lineHeight:"1.6"},children:[a.jsx("div",{style:{marginBottom:"0.5rem"},children:a.jsx("strong",{children:":"})}),a.jsxs("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:[a.jsx("li",{children:"0-12h: "}),a.jsx("li",{children:"12-16h: "}),a.jsx("li",{children:"16-18h: "}),a.jsx("li",{children:"18-24h: "}),a.jsx("li",{children:"24h+: "})]})]})}),a.jsx("button",{onClick:w,style:{width:"100%",padding:"0.75rem",backgroundColor:"#10b981",border:"none",borderRadius:"8px",color:"#ffffff",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:j=>j.currentTarget.style.backgroundColor="#059669",onMouseLeave:j=>j.currentTarget.style.backgroundColor="#10b981",children:" Start Eating"})]}):a.jsxs("div",{children:[a.jsxs("div",{style:{padding:"2rem",backgroundColor:"#f3f4f6",borderRadius:"12px",marginBottom:"1rem",textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"48px",marginBottom:"1rem"},children:""}),a.jsx("div",{style:{fontSize:"16px",color:"#6b7280",marginBottom:"0.5rem"},children:""}),a.jsx("div",{style:{fontSize:"13px",color:"#9ca3af"},children:' "Stop Eating" '})]}),a.jsx("button",{onClick:x,style:{width:"100%",padding:"0.75rem",backgroundColor:"#dc2626",border:"none",borderRadius:"8px",color:"#ffffff",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:j=>j.currentTarget.style.backgroundColor="#b91c1c",onMouseLeave:j=>j.currentTarget.style.backgroundColor="#dc2626",children:" Stop Eating"})]})]})}const Ls="primal_logic_favorites";function cl(){try{const r=localStorage.getItem(Ls);return r?JSON.parse(r):[]}catch{return[]}}function Wy(r,l,d){try{const c=cl(),y=`fav_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,h={id:y,foodItem:r,photoUrl:l,dateAdded:new Date().toISOString(),notes:d};return c.push(h),localStorage.setItem(Ls,JSON.stringify(c)),window.dispatchEvent(new CustomEvent("favoritesUpdated")),y}catch(c){throw c}}function eb(r){try{const d=cl().filter(c=>c.id!==r);localStorage.setItem(Ls,JSON.stringify(d)),window.dispatchEvent(new CustomEvent("favoritesUpdated"))}catch{}}function tb(r,l){try{const d=cl(),c=d.findIndex(y=>y.id===r);c!==-1&&(d[c]={...d[c],...l},localStorage.setItem(Ls,JSON.stringify(d)),window.dispatchEvent(new CustomEvent("favoritesUpdated")))}catch{}}function nb(r){try{return cl().find(d=>d.foodItem.item===r.item&&d.foodItem.amount===r.amount&&d.foodItem.unit===r.unit)||null}catch{return null}}async function ab(r){return new Promise((l,d)=>{try{if(r.size>5242880){d(new Error("5MB"));return}if(!r.type.startsWith("image/")){d(new Error(""));return}const y=new FileReader;y.onload=h=>{const f=h.target?.result;l(f)},y.onerror=()=>{d(new Error(""))},y.readAsDataURL(r)}catch(c){d(c)}})}const Fs="primal_logic_notifications";function yg(){return"Notification"in window?Notification.permission:"denied"}function ei(){try{const r=localStorage.getItem(Fs);return r?JSON.parse(r):[]}catch{return[]}}function eu(){try{return ei().filter(l=>!l.read).length}catch{return 0}}function Gv(r){try{const l=ei(),d=l.find(c=>c.id===r);d&&(d.read=!0,localStorage.setItem(Fs,JSON.stringify(l)),window.dispatchEvent(new CustomEvent("notificationsUpdated")))}catch{}}function Kv(){try{const r=ei();r.forEach(l=>l.read=!0),localStorage.setItem(Fs,JSON.stringify(r)),window.dispatchEvent(new CustomEvent("notificationsUpdated"))}catch{}}function Yv(r){try{const d=ei().filter(c=>c.id!==r);localStorage.setItem(Fs,JSON.stringify(d)),window.dispatchEvent(new CustomEvent("notificationsUpdated"))}catch{}}function Xv({onOpenFatTabReady:r,onAddFoodReady:l}={}){const{t:d}=ni(),{dailyLog:c,setRecoveryProtocol:y,addFood:h,userProfile:f}=ti(),{previewData:x,setPreview:w,clearPreview:j}=bv(),{showNutrientPreview:v,nutrientDisplayMode:p}=sl(),k=il(),T=m.useMemo(()=>Ze(f?.gender,f?.age,f?.activityLevel,f?.isPregnant,f?.isBreastfeeding,f?.isPostMenopause,f?.stressLevel,f?.sleepHours,f?.exerciseIntensity,f?.exerciseFrequency,f?.thyroidFunction,f?.sunExposureFrequency,f?.digestiveIssues,f?.inflammationLevel,f?.mentalHealthStatus,f?.supplementMagnesium,f?.supplementVitaminD,f?.supplementIodine,f?.alcoholFrequency,f?.caffeineIntake,f?.daysOnCarnivore,f?.carnivoreStartDate,f?.forceAdaptationMode,f?.bodyComposition,f?.weight,f?.metabolicStressIndicators,f?.customNutrientTargets?Object.fromEntries(Object.entries(f.customNutrientTargets).map(([S,ke])=>[S,typeof ke=="number"?{mode:"manual",value:ke}:ke])):void 0),[f]),[q,ne]=m.useState(!1),[fe,se]=m.useState(!1),[te,oe]=m.useState(null),[ve,xe]=m.useState(!1),[de,je]=m.useState(!1),[Q,Ne]=m.useState(!1),[Oe,O]=m.useState([]),[ze,z]=m.useState([]),[W,Se]=m.useState([]),[F,ue]=m.useState(null),[re,ge]=m.useState(!1),[he,we]=m.useState(!1),[R,Z]=m.useState(null),[J,le]=m.useState(""),[A,ye]=m.useState(!1),[_,U]=m.useState(null),[E,V]=m.useState(""),[me,Be]=m.useState(""),[M,G]=m.useState(!1),[be,ce]=m.useState(!1),[nt,St]=m.useState(!1),[ct,Ot]=m.useState(null),[vt,ot]=m.useState({}),[zt,ai]=m.useState(!1),[Vn,Jt]=m.useState(!1),[Wt,en]=m.useState(null),[wt,Ln]=m.useState("default"),[Et,tn]=m.useState(0),[ft,Vt]=m.useState([]),[pt,qn]=m.useState(!1),[$t,ba]=m.useState(!1),X=m.useMemo(()=>Dv(f?.daysOnCarnivore,f?.carnivoreStartDate),[f?.daysOnCarnivore,f?.carnivoreStartDate]);m.useEffect(()=>{(async()=>{const ke=await Ig();ue(ke)})()},[c?.date]);const ee=m.useCallback(S=>{S?w(S):j()},[w,j]),Fn=m.useRef(!1);m.useEffect(()=>{Fn.current||(r&&r(()=>{}),l&&l(S=>{h(S)}),Fn.current=!0)},[r,l,h]),m.useEffect(()=>{de&&yt()},[de]),m.useEffect(()=>{Q&&Cn()},[Q]),m.useEffect(()=>{const S=()=>{z(cl())};return S(),window.addEventListener("favoritesUpdated",S),()=>{window.removeEventListener("favoritesUpdated",S)}},[]),m.useEffect(()=>{const S=()=>{Ln(yg()),tn(eu()),Vt(ei())};return S(),window.addEventListener("notificationsUpdated",S),()=>{window.removeEventListener("notificationsUpdated",S)}},[]);const yt=async()=>{const S=rl(),Re=(await wv()).map(Ge=>({...Ge,date:new Date().toISOString().split("T")[0]})),Me=[...S];Re.forEach(Ge=>{Me.some(Fe=>Fe.foodName===Ge.foodName&&Fe.amount===Ge.amount&&Fe.unit===Ge.unit)||Me.push(Ge)}),O(Me)},Cn=async()=>{const{getDailyLogs:S}=await Xe(async()=>{const{getDailyLogs:Ge}=await Promise.resolve().then(()=>nu);return{getDailyLogs:Ge}},void 0),ke=await S(),Re=[],Me=new Date;Me.setDate(Me.getDate()-30),ke.filter(Ge=>new Date(Ge.date)>=Me).sort((Ge,De)=>new Date(De.date).getTime()-new Date(Ge.date).getTime()).forEach(Ge=>{Ge.fuel.forEach(De=>{Re.push({foodName:De.item,amount:De.amount,unit:De.unit,date:Ge.date})})}),Se(Re.slice(0,50))},nn=S=>{Z(S),le(S.amount.toString()),we(!0)},Pn=async S=>{const ke=await ya();let Re=null;const Me=ke.find(Ie=>Ie.date===S.date);if(Me&&(Re=Me.fuel.find(Ie=>Ie.item===S.foodName&&Ie.amount===S.amount&&Ie.unit===S.unit)||null,Re||(Re=Me.fuel.find(Ie=>Ie.item===S.foodName)||null)),!Re){for(const Ie of ke)if(Re=Ie.fuel.find(Ue=>Ue.item===S.foodName)||null,Re)break}if(Re&&Re.nutrients&&Object.keys(Re.nutrients).length>0){const Ie=S.amount/Re.amount,Ue={item:S.foodName,amount:S.amount,unit:S.unit,type:Re.type,nutrients:Object.fromEntries(Object.entries(Re.nutrients||{}).map(([Ct,pn])=>[Ct,(pn||0)*Ie]))};h(Ue),setTimeout(()=>{window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},200),Ne(!1);return}const Ge=hg(S.foodName),De=Ge.length>0?Ge[0]:null;if(!De){const Ie={item:S.foodName,amount:S.amount,unit:S.unit,type:"animal",nutrients:{}};h(Ie),setTimeout(()=>{window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},200),Ne(!1);return}const Fe=S.amount/100,He={item:S.foodName,amount:S.amount,unit:S.unit,type:De.type,nutrients:{protein:(De.nutrientsRaw.protein||0)*Fe,fat:(De.nutrientsRaw.fat||0)*Fe,carbs:(De.nutrientsRaw.carbs||0)*Fe,netCarbs:(De.nutrientsRaw.carbs||0)*Fe,fiber:(De.nutrientsRaw.fiber||0)*Fe,hemeIron:(De.nutrientsRaw.hemeIron||0)*Fe,nonHemeIron:(De.nutrientsRaw.nonHemeIron||0)*Fe,zinc:(De.nutrientsRaw.zinc||0)*Fe,sodium:(De.nutrientsRaw.sodium||0)*Fe,magnesium:(De.nutrientsRaw.magnesium||0)*Fe,vitaminC:(De.nutrientsRaw.vitaminC||0)*Fe,vitaminK:(De.nutrientsRaw.vitaminK||0)*Fe,vitaminB12:(De.nutrientsRaw.vitaminB12||0)*Fe}};h(He),setTimeout(()=>{window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},200),Ne(!1)},gn=S=>{U(S),V(S.amount.toString()),ye(!0)},Zn=async(S,ke)=>{const Re=ke!==void 0?ke:S.amount,Me=await ya();let Ge=null;for(const Ue of Me)if(Ge=Ue.fuel.find(Ct=>Ct.item===S.foodName)||null,Ge)break;if(Ge&&Ge.nutrients&&Object.keys(Ge.nutrients).length>0){const Ue=Re/Ge.amount,Ct={item:S.foodName,amount:Re,unit:S.unit,type:Ge.type,nutrients:Object.fromEntries(Object.entries(Ge.nutrients||{}).map(([pn,kt])=>[pn,(kt||0)*Ue]))};h(Ct),setTimeout(()=>{window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},200),je(!1);return}const De=hg(S.foodName),Fe=De.length>0?De[0]:null;if(!Fe){const Ue={item:S.foodName,amount:Re,unit:S.unit,type:"animal",nutrients:{}};h(Ue),setTimeout(()=>{window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},200),je(!1);return}const He=Re/100,Ie={item:S.foodName,amount:Re,unit:S.unit,type:Fe.type,nutrients:{protein:(Fe.nutrientsRaw.protein||0)*He,fat:(Fe.nutrientsRaw.fat||0)*He,carbs:(Fe.nutrientsRaw.carbs||0)*He,netCarbs:(Fe.nutrientsRaw.carbs||0)*He,fiber:(Fe.nutrientsRaw.fiber||0)*He,hemeIron:(Fe.nutrientsRaw.hemeIron||0)*He,nonHemeIron:(Fe.nutrientsRaw.nonHemeIron||0)*He,zinc:(Fe.nutrientsRaw.zinc||0)*He,sodium:(Fe.nutrientsRaw.sodium||0)*He,magnesium:(Fe.nutrientsRaw.magnesium||0)*He,vitaminC:(Fe.nutrientsRaw.vitaminC||0)*He,vitaminK:(Fe.nutrientsRaw.vitaminK||0)*He,vitaminB12:(Fe.nutrientsRaw.vitaminB12||0)*He}};h(Ie),setTimeout(()=>{window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},200),je(!1)},It=m.useMemo(()=>({effectiveProtein:0,proteinRequirement:100,fatTotal:0,effectiveVitC:0,vitCRequirement:10,effectiveVitK:0,effectiveIron:0,ironRequirement:8,effectiveZinc:0,magnesiumTotal:0,sodiumTotal:0,netCarbs:0,fiberTotal:0,potassiumTotal:0,omega3Total:0,omega6Total:0,vitaminDTotal:0,vitaminATotal:0,vitaminK2Total:0,vitaminB12Total:0,cholineTotal:0}),[]);m.useMemo(()=>{if(!x)return[];const S=c?.calculatedMetrics||It,ke=S.effectiveProtein??0,Re=S.proteinRequirement??100,Me={protein:{key:"protein",label:"",current:ke,previewValue:x.protein||0,target:Re,unit:"g",nutrient:"protein",status:ke>=Re?"optimal":"low"},fat:{key:"fat",label:"",current:S.fatTotal??0,previewValue:x.fat||0,target:150,unit:"g",nutrient:"fat",status:(S.fatTotal??0)>=150?"optimal":(S.fatTotal??0)<100?"warning":"low"},zinc:{key:"zinc",label:"",current:S.effectiveZinc,previewValue:x.zinc||0,target:11,unit:"mg",nutrient:"zinc",status:S.effectiveZinc>=11?"optimal":"low"},iron:{key:"iron",label:"",current:S.effectiveIron,previewValue:x.iron||0,target:S.ironRequirement||8,unit:"mg",nutrient:"iron",status:S.effectiveIron>=(S.ironRequirement||8)?"optimal":"low"},magnesium:{key:"magnesium",label:"",current:S.magnesiumTotal,previewValue:x.magnesium||0,target:400,unit:"mg",nutrient:"magnesium",status:S.magnesiumTotal>=400?"optimal":"low"},sodium:{key:"sodium",label:"",current:S.sodiumTotal,previewValue:x.sodium||0,target:5e3,unit:"mg",nutrient:"sodium",status:S.sodiumTotal>=5e3?"optimal":S.sodiumTotal<3e3?"warning":"low"}},Ge=De=>({protein:"#3b82f6",fat:"#3b82f6",zinc:"#06b6d4",magnesium:"#06b6d4",iron:"#06b6d4",sodium:"#10b981"})[De]||"#06b6d4";return Object.values(Me).filter(De=>De.current>0||De.previewValue>0).map(De=>a.jsx(Ye,{label:De.label,currentDailyTotal:De.current,previewAmount:De.previewValue,target:De.target,color:Ge(De.key),unit:De.unit,nutrientKey:De.key},De.key))},[x,c]);const Gn=S=>S==="beef"?"beef":S==="pork"?"pork":S==="chicken"?"chicken":null;return a.jsxs("div",{className:"home-screen-container",children:[a.jsx(yv,{previewData:x,showPreview:v}),a.jsxs("div",{className:"home-screen-content",style:{paddingTop:"100px"},children:[X&&a.jsx(Ev,{daysInTransition:X.daysInTransition,totalDays:X.totalDays,onPress:()=>ge(!0)}),re&&X&&a.jsx(Mv,{progress:X,onClose:()=>ge(!1)}),c&&c.calculatedMetrics&&a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[Jc("sodium",p)&&a.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",backgroundColor:"#f0f9ff",borderRadius:"12px",border:"2px solid #3b82f6"},children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:"700",color:"#1e40af",marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:" "}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:pg.electrolytes.map(S=>{const ke=c?.calculatedMetrics||It,Me={sodium:{label:"",current:ke.sodiumTotal||0,target:T.sodium,unit:"mg"},potassium:{label:"",current:ke.potassiumTotal||0,target:T.potassium,unit:"mg"},magnesium:{label:"",current:ke.magnesiumTotal||0,target:T.magnesium,unit:"mg"}}[S];return a.jsx(Ye,{label:Me.label,currentDailyTotal:Me.current,previewAmount:0,target:Me.target,color:"#3b82f6",unit:Me.unit,nutrientKey:S},S)})})]}),Jc("fat",p)&&a.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",backgroundColor:"#fef3c7",borderRadius:"12px",border:"2px solid #f59e0b"},children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:"700",color:"#92400e",marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:" "}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:pg.macros.map(S=>{const ke=c?.calculatedMetrics||It,Me={fat:{label:"",current:ke.fatTotal||0,target:T.fat,unit:"g"},protein:{label:"",current:ke.effectiveProtein||0,target:T.protein,unit:"g"}}[S];return a.jsx(Ye,{label:Me.label,currentDailyTotal:Me.current,previewAmount:0,target:Me.target,color:"#f59e0b",unit:Me.unit,nutrientKey:S},S)})})]}),p!=="simple"&&Jc("iron",p)&&a.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",backgroundColor:"#f3f4f6",borderRadius:"12px",border:"1px solid #d1d5db"},children:[a.jsxs("button",{onClick:()=>ba(!$t),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",background:"none",border:"none",padding:"0.5rem",cursor:"pointer",fontSize:"16px",fontWeight:"600",color:"#374151"},children:[a.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[" ",a.jsxs("span",{style:{fontSize:"12px",fontWeight:"400",color:"#6b7280"},children:["(",va.tier2.length,")"]})]}),a.jsx("span",{style:{fontSize:"20px"},children:$t?"":""})]}),$t&&a.jsx("div",{style:{marginTop:"0.75rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:va.tier2.map(S=>{const ke=c?.calculatedMetrics||It,Me={omegaRatio:{label:"3/6",current:ke.omega6Total?ke.omega6Total/Math.max(ke.omega3Total||1,1):0,target:4,unit:":1"},glycineMethionineRatio:null,calciumPhosphorusRatio:null,iron:{label:"",current:ke.effectiveIron||0,target:T.iron,unit:"mg"},zinc:{label:"",current:ke.effectiveZinc||0,target:T.zinc,unit:"mg"},vitaminD:{label:"D",current:ke.vitaminDTotal||0,target:T.vitamin_d,unit:"IU"},vitaminA:{label:"A",current:ke.vitaminATotal||0,target:T.vitamin_a,unit:"IU"},vitaminK2:{label:"K2",current:ke.vitaminK2Total||0,target:T.vitamin_k2,unit:"g"},vitaminB12:{label:"B12",current:ke.vitaminB12Total||0,target:T.vitamin_b12,unit:"g"},choline:{label:"",current:ke.cholineTotal||0,target:T.choline,unit:"mg"}}[S];return Me?a.jsx(Ye,{label:Me.label,currentDailyTotal:Me.current,previewAmount:0,target:Me.target,color:"#6b7280",unit:Me.unit,nutrientKey:S},S):null})})]})]}),a.jsx("div",{style:{marginBottom:"1rem"},children:a.jsx(qv,{compact:!0})}),ze.length>0&&a.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",backgroundColor:"#fffbeb",borderRadius:"12px",border:"1px solid #fbbf24"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[a.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#92400e"},children:" "}),ze.length>3&&a.jsx("button",{onClick:()=>{const S=new CustomEvent("navigateToScreen",{detail:"history"});window.dispatchEvent(S)},style:{padding:"0.25rem 0.75rem",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:""})]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:ze.slice(0,3).map(S=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",backgroundColor:"white",borderRadius:"8px",border:"1px solid #fbbf24"},children:[S.photoUrl&&a.jsx("img",{src:S.photoUrl,alt:S.foodItem.item,style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"6px"}}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:S.foodItem.item}),a.jsxs("div",{style:{fontSize:"12px",color:"#6b7280"},children:[S.foodItem.amount,S.foodItem.unit]})]}),a.jsx("button",{onClick:()=>{h(S.foodItem)},style:{padding:"0.5rem 1rem",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",cursor:"pointer",whiteSpace:"nowrap"},children:""})]},S.id))})]}),a.jsxs("div",{onClick:()=>{wt==="granted"&&qn(!0)},style:{padding:"0.75rem",marginBottom:"1rem",backgroundColor:wt==="granted"?"#d1fae5":wt==="denied"?"#fee2e2":"#fef3c7",border:wt==="granted"?"1px solid #10b981":wt==="denied"?"1px solid #ef4444":"1px solid #fbbf24",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.5rem",cursor:wt==="granted"?"pointer":"default"},children:[a.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsxs("div",{style:{position:"relative"},children:[a.jsxs("span",{style:{fontSize:"20px"},children:["",wt==="denied"&&a.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",fontSize:"12px"},children:""})]}),Et>0&&wt==="granted"&&a.jsx("span",{style:{position:"absolute",top:"-8px",right:"-8px",backgroundColor:"#ef4444",color:"white",borderRadius:"50%",padding:"2px 6px",fontSize:"10px",fontWeight:"700",minWidth:"18px",textAlign:"center"},children:Et})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"0.25rem"},children:wt==="granted"?"":wt==="denied"?"":""}),a.jsx("div",{style:{fontSize:"12px",color:wt==="granted"?"#065f46":wt==="denied"?"#991b1b":"#92400e"},children:wt==="granted"?Et>0?` ${Et}  `:"":wt==="denied"?"":""})]})]}),wt!=="granted"&&a.jsx("button",{onClick:async S=>{if(S.stopPropagation(),wt==="denied"){alert(`

`);const Me=new CustomEvent("navigateToScreen",{detail:"settings"});window.dispatchEvent(Me);return}const{requestNotificationPermission:ke}=await Xe(async()=>{const{requestNotificationPermission:Me}=await Promise.resolve().then(()=>kg);return{requestNotificationPermission:Me}},void 0);await ke()&&(localStorage.setItem("settings_notification_enabled",JSON.stringify(!0)),Ln(yg()))},style:{padding:"0.5rem 1rem",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:""})]}),a.jsx("div",{className:"home-screen-section",style:{position:"relative",zIndex:10},children:a.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"0.25rem",marginBottom:"1rem",flexWrap:"wrap"},children:[a.jsx("button",{onClick:S=>{S.preventDefault(),S.stopPropagation(),oe("beef"),je(!1),Ne(!1)},title:d("home.addFood"),style:{width:"44px",height:"44px",padding:0,backgroundColor:te?"#b91c1c":"#f3f4f6",color:te?"white":"#374151",fontWeight:600,borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,position:"relative"},onMouseEnter:S=>{te||(S.currentTarget.style.backgroundColor="#e5e7eb")},onMouseLeave:S=>{te||(S.currentTarget.style.backgroundColor="#f3f4f6")},children:"+"}),a.jsx("button",{onClick:S=>{S.preventDefault(),S.stopPropagation(),Ne(!Q),je(!1),oe(null)},title:d("home.history"),style:{width:"44px",height:"44px",padding:0,backgroundColor:Q?"#b91c1c":"#f3f4f6",color:Q?"white":"#374151",fontWeight:600,borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,position:"relative"},onMouseEnter:S=>{Q||(S.currentTarget.style.backgroundColor="#e5e7eb")},onMouseLeave:S=>{Q||(S.currentTarget.style.backgroundColor="#f3f4f6")},children:""}),a.jsx("button",{onClick:S=>{S.preventDefault(),S.stopPropagation(),je(!de),Ne(!1),oe(null)},title:d("home.myFoods"),style:{width:"44px",height:"44px",padding:0,backgroundColor:de?"#b91c1c":"#f3f4f6",color:de?"white":"#374151",fontWeight:600,borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,position:"relative"},onMouseEnter:S=>{de||(S.currentTarget.style.backgroundColor="#e5e7eb")},onMouseLeave:S=>{de||(S.currentTarget.style.backgroundColor="#f3f4f6")},children:""}),a.jsx("button",{onClick:()=>{const S=new CustomEvent("navigateToScreen",{detail:"customFood"});window.dispatchEvent(S)},title:d("customFood.title"),style:{width:"44px",height:"44px",padding:0,backgroundColor:"#f3f4f6",color:"#374151",fontWeight:600,borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,position:"relative"},onMouseEnter:S=>{S.currentTarget.style.backgroundColor="#e5e7eb"},onMouseLeave:S=>{S.currentTarget.style.backgroundColor="#f3f4f6"},children:""}),a.jsx("button",{onClick:()=>{const S=new CustomEvent("navigateToScreen",{detail:"input"});window.dispatchEvent(S)},title:d("home.manualInput"),style:{width:"44px",height:"44px",padding:0,backgroundColor:"#f3f4f6",color:"#374151",fontWeight:600,borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,position:"relative"},onMouseEnter:S=>{S.currentTarget.style.backgroundColor="#e5e7eb"},onMouseLeave:S=>{S.currentTarget.style.backgroundColor="#f3f4f6"},children:""}),k.photoUpload&&a.jsx("button",{onClick:()=>{ce(!0)},title:d("home.addFromPhoto")+" / "+d("home.barcodeScan"),style:{width:"44px",height:"44px",padding:0,backgroundColor:"#f3f4f6",color:"#374151",fontWeight:600,borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,position:"relative"},onMouseEnter:S=>{S.currentTarget.style.backgroundColor="#e5e7eb"},onMouseLeave:S=>{S.currentTarget.style.backgroundColor="#f3f4f6"},children:""})]})}),k.myFoodsTab&&de&&a.jsxs("div",{className:"home-screen-section",style:{marginTop:"1rem"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[a.jsx("h2",{className:"home-screen-section-title",children:d("home.myFoodsTitle")}),a.jsx("button",{onClick:()=>{const S=new CustomEvent("navigateToScreen",{detail:"customFood"});window.dispatchEvent(S)},style:{padding:"0.5rem 1rem",backgroundColor:"#b91c1c",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},children:"+ "})]}),Oe.length===0?a.jsx("p",{style:{textAlign:"center",color:"#6b7280",padding:"2rem"},children:d("home.noMyFoodsRegistered")}):a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{marginBottom:"1rem"},children:a.jsx("input",{type:"text",value:me,onChange:S=>Be(S.target.value),placeholder:d("input.searchPlaceholder"),style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px"}})}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:Oe.filter(S=>{const ke=me.toLowerCase();return(S.displayName||S.foodName).toLowerCase().includes(ke)||S.foodName.toLowerCase().includes(ke)}).map((S,ke)=>a.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("button",{onClick:()=>gn(S),style:{flex:1,textAlign:"left",cursor:"pointer",background:"none",border:"none",padding:0},children:[a.jsx("div",{style:{fontWeight:600,fontSize:"16px",marginBottom:"0.25rem"},children:S.displayName||S.foodName}),a.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[S.amount,S.unit==="g"?"g":""]})]}),a.jsx("button",{onClick:Re=>{Re.stopPropagation(),_v(S),yt()},style:{padding:"0.5rem",backgroundColor:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"500"},title:d("common.delete"),children:""})]},`${S.foodName}_${S.amount}_${S.unit}_${ke}`))})]})]}),k.historyTab&&Q&&a.jsxs("div",{className:"home-screen-section",style:{marginTop:"1rem"},children:[a.jsx("h2",{className:"home-screen-section-title",children:d("home.history")}),W.length===0?a.jsx("p",{style:{textAlign:"center",color:"#6b7280",padding:"2rem"},children:d("home.noHistory")}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:W.map((S,ke)=>a.jsx("div",{onClick:()=>nn(S),style:{padding:"1rem",backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",textAlign:"left",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:Re=>{Re.currentTarget.style.backgroundColor="#f3f4f6",Re.currentTarget.style.borderColor="#dc2626"},onMouseLeave:Re=>{Re.currentTarget.style.backgroundColor="#f9fafb",Re.currentTarget.style.borderColor="#e5e7eb"},children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:600,fontSize:"16px",marginBottom:"0.25rem"},children:S.foodName}),a.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[S.amount,S.unit==="g"?"g":""]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx("button",{onClick:async Re=>{Re.stopPropagation(),Re.preventDefault();try{Og({foodName:S.foodName,amount:S.amount,unit:S.unit}),await yt()}catch{}},style:{padding:"0.25rem 0.5rem",backgroundColor:"#b91c1c",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"500"},title:d("home.myFoods"),children:""}),a.jsx("div",{style:{fontSize:"12px",color:"#9ca3af"},children:new Date(S.date).toLocaleDateString("ja-JP",{month:"short",day:"numeric"})})]})]})},`${S.foodName}_${S.amount}_${S.unit}_${S.date}_${ke}`))})]}),te&&Gn(te)&&a.jsxs("div",{className:"home-screen-section",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h2",{className:"home-screen-section-title",children:[d(te==="beef"?"home.beef":te==="pork"?"home.pork":te==="chicken"?"home.chicken":"home.food")," ",d("home.select")]}),a.jsxs("button",{onClick:()=>oe(null),className:"text-sm text-carnivore-zinc-600 hover:text-carnivore-red-600",children:[" ",d("common.close")]})]}),a.jsx(vv,{initialAnimal:Gn(te),onSelect:(S,ke)=>{},onPreviewChange:ee,onFoodAdd:S=>{en(S),Jt(!0),oe(null)},currentDailyTotal:c?.calculatedMetrics?{protein:c.calculatedMetrics.effectiveProtein||0,fat:c.calculatedMetrics.fatTotal||0,zinc:c.calculatedMetrics.effectiveZinc||0,magnesium:c.calculatedMetrics.magnesiumTotal||0,iron:c.calculatedMetrics.effectiveIron||0,vitamin_b12:c.calculatedMetrics.vitaminB12Total||0,sodium:c.calculatedMetrics.sodiumTotal||0,potassium:c.calculatedMetrics.potassiumTotal||0,vitamin_a:c.calculatedMetrics.vitaminATotal||0,vitamin_d:c.calculatedMetrics.vitaminDTotal||0,vitamin_k2:c.calculatedMetrics.vitaminK2Total||0,choline:c.calculatedMetrics.cholineTotal||0,iodine:c.calculatedMetrics.iodineTotal||0,calcium:c.calculatedMetrics.calciumTotal||0,phosphorus:c.calculatedMetrics.phosphorusTotal||0,glycine:c.calculatedMetrics.glycineTotal||0,methionine:c.calculatedMetrics.methionineTotal||0,plantProtein:c.calculatedMetrics.plantProteinTotal||0,vegetableOil:c.calculatedMetrics.vegetableOilTotal||0,fiber:c.calculatedMetrics.fiberTotal||0,netCarbs:c.calculatedMetrics.netCarbs||0,phytates:c.calculatedMetrics.phytatesTotal||0,polyphenols:c.calculatedMetrics.polyphenolsTotal||0,flavonoids:c.calculatedMetrics.flavonoidsTotal||0,oxalates:c.calculatedMetrics.oxalatesTotal||0,lectins:c.calculatedMetrics.lectinsTotal||0,saponins:c.calculatedMetrics.saponinsTotal||0,goitrogens:c.calculatedMetrics.goitrogensTotal||0,tannins:c.calculatedMetrics.tanninsTotal||0}:{}})]}),k.recoveryProtocol&&c?.recoveryProtocol&&a.jsxs("div",{className:"home-screen-recovery",onClick:()=>ne(!0),children:[a.jsx("div",{className:"home-screen-recovery-title",children:" Recovery Protocol Active"}),a.jsxs("div",{className:"home-screen-recovery-text",children:["Fasting: ",c?.recoveryProtocol?.fastingTargetHours,"h"]}),c?.recoveryProtocol?.dietRecommendations?.slice(0,2).map((S,ke)=>a.jsxs("div",{className:"home-screen-recovery-text",children:[" ",S]},ke)),a.jsx("div",{className:"home-screen-recovery-tap",children:"Tap to view/edit "})]}),k.recoveryProtocol&&q&&c?.recoveryProtocol&&a.jsx(J0,{protocol:c.recoveryProtocol,onClose:()=>ne(!1),onSetProtocol:S=>{y(S),ne(!1)}}),fe&&c&&c.calculatedMetrics&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>se(!1),children:a.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",maxWidth:"90%",maxHeight:"90%",overflow:"auto",position:"relative"},onClick:S=>S.stopPropagation(),children:[a.jsx("button",{onClick:()=>se(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer"},children:""}),a.jsx("h2",{style:{marginBottom:"1rem"},children:""}),(()=>{const S=c.calculatedMetrics;return S?a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"0.5rem",color:"#333"},children:""}),a.jsxs("div",{children:[": ",S.effectiveProtein.toFixed(1)," /"," ",S.proteinRequirement.toFixed(1)," g"]}),a.jsxs("div",{children:[": ",S.fatTotal.toFixed(1)," g"]}),a.jsxs("div",{children:[": ",S.netCarbs.toFixed(1)," g"," ",a.jsx("span",{style:{color:"#999",fontSize:"0.9rem"},children:"()"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"0.5rem",color:"#333"},children:""}),a.jsxs("div",{children:["B12: ",S.vitaminB12Total?.toFixed(1)||"0.0"," g"]}),a.jsxs("div",{children:[": ",S.effectiveZinc.toFixed(1)," / 11.0 mg"]}),a.jsxs("div",{children:[": ",S.effectiveIron.toFixed(1)," /"," ",S.ironRequirement.toFixed(1)," mg"]}),a.jsxs("div",{children:["A: ",S.effectiveVitC>0?"":"0"," g"]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"0.5rem",color:"#333"},children:"B"}),a.jsxs("div",{children:["B1: ",S.vitaminB1Total?.toFixed(2)||"0.00"," mg"]}),a.jsxs("div",{children:["B2: ",S.vitaminB2Total?.toFixed(2)||"0.00"," mg"]}),a.jsxs("div",{children:["B3: ",S.vitaminB3Total?.toFixed(2)||"0.00"," mg"]}),a.jsxs("div",{children:["B6: ",S.vitaminB6Total?.toFixed(2)||"0.00"," mg"]}),a.jsxs("div",{children:["B12: ",S.vitaminB12Total?.toFixed(1)||"0.0"," g"]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"0.5rem",color:"#333"},children:""}),a.jsxs("div",{children:["C: ",S.effectiveVitC.toFixed(1)," /"," ",S.vitCRequirement.toFixed(1)," mg"]}),a.jsxs("div",{children:["K: ",S.effectiveVitK.toFixed(1)," / 120.0 g"]}),a.jsxs("div",{children:["E: ",S.vitaminETotal?.toFixed(2)||"0.00"," mg"]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"0.5rem",color:"#333"},children:""}),a.jsxs("div",{children:[": ",S.sodiumTotal.toFixed(0)," / 5000 mg"]}),a.jsxs("div",{children:[": ",S.magnesiumTotal.toFixed(0)," / 400 mg"]}),a.jsxs("div",{children:[": ",S.calciumTotal?.toFixed(0)||"0"," mg"]}),a.jsxs("div",{children:[": ",S.phosphorusTotal?.toFixed(0)||"0"," mg"]}),a.jsxs("div",{children:[": ",S.seleniumTotal?.toFixed(1)||"0.0"," g"]}),a.jsxs("div",{children:[": ",S.copperTotal?.toFixed(2)||"0.00"," mg"]}),a.jsxs("div",{children:[": ",S.manganeseTotal?.toFixed(2)||"0.00"," mg"]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"0.5rem",color:"#333"},children:""}),a.jsxs("div",{children:[": ",S.fiberTotal.toFixed(1)," g"," ",a.jsx("span",{style:{color:"#999",fontSize:"0.9rem"},children:"(0)"})]})]})]}):null})()]})}),he&&R&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>we(!1),children:a.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"2rem",maxWidth:"400px",width:"90%",maxHeight:"90vh",overflow:"auto"},onClick:S=>S.stopPropagation(),children:[a.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"1.5rem"},children:d("home.selectAmount")}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:[R.foodName," (",R.amount,R.unit,")"]}),a.jsx("input",{type:"number",value:J,onChange:S=>le(S.target.value),placeholder:R.amount.toString(),style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"16px"},autoFocus:!0}),a.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"0.25rem"},children:[d("home.unit"),": ",R.unit]})]}),a.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>we(!1),style:{padding:"0.75rem 1.5rem",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"600"},children:d("common.cancel")}),a.jsx("button",{onClick:()=>{const S=Number(J);!isNaN(S)&&S>0&&(Pn({...R,amount:S}),we(!1),Z(null))},style:{padding:"0.75rem 1.5rem",backgroundColor:"#b91c1c",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"600"},children:d("home.add")})]})]})}),A&&_&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>ye(!1),children:a.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"2rem",maxWidth:"400px",width:"90%",maxHeight:"90vh",overflow:"auto"},onClick:S=>S.stopPropagation(),children:[a.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"1.5rem"},children:d("home.confirmAdd")}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"16px"},children:_.foodName}),a.jsxs("div",{style:{marginBottom:"1rem",fontSize:"14px",color:"#6b7280"},children:[d("home.originalAmount"),": ",_.amount,_.unit]}),a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:d("home.changeAmount")}),a.jsx("input",{type:"number",value:E,onChange:S=>V(S.target.value),placeholder:_.amount.toString(),style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"16px"},autoFocus:!0}),a.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"0.25rem"},children:[d("home.unit"),": ",_.unit]})]}),a.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>ye(!1),style:{padding:"0.75rem 1.5rem",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"600"},children:d("common.cancel")}),a.jsx("button",{onClick:()=>{const S=Number(E);!isNaN(S)&&S>0&&(Zn(_,S),ye(!1),U(null))},disabled:!E||isNaN(Number(E))||Number(E)<=0,style:{padding:"0.75rem 1.5rem",backgroundColor:!E||isNaN(Number(E))||Number(E)<=0?"#d1d5db":"#b91c1c",color:"white",border:"none",borderRadius:"8px",cursor:!E||isNaN(Number(E))||Number(E)<=0?"not-allowed":"pointer",fontSize:"16px",fontWeight:"600",transition:"background-color 0.2s"},children:d("common.confirm")})]})]})})]}),a.jsx(Fv,{isOpen:nt,onClose:()=>St(!1),analysisResult:ct,onConfirm:S=>{h(S),St(!1),Ot(null)},dynamicTargets:T}),a.jsx("div",{style:{marginTop:"2rem",marginBottom:"6rem",textAlign:"center"},children:a.jsx("button",{onClick:()=>{const S=new CustomEvent("navigateToScreen",{detail:"feedback"});window.dispatchEvent(S)},style:{background:"none",border:"none",color:"#6b7280",textDecoration:"underline",fontSize:"12px",cursor:"pointer",padding:"1rem"},children:" Report Issue / Feedback (Beta)"})}),be&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},onClick:()=>ce(!1),children:a.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"1.5rem",maxWidth:"400px",width:"100%",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"},onClick:S=>S.stopPropagation(),children:[a.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"18px",fontWeight:"600"},children:""}),a.jsx("p",{style:{margin:"0 0 1.5rem 0",fontSize:"14px",color:"#6b7280"},children:""}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>{ce(!1),G(!0)},style:{padding:"0.75rem 1.5rem",backgroundColor:"#e5e7eb",color:"#374151",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500"},children:""}),a.jsx("button",{onClick:async()=>{ce(!1);const S=document.createElement("input");S.type="file",S.accept="image/*",S.capture="environment",S.style.display="none",document.body.appendChild(S),S.onchange=async ke=>{const Re=ke.target.files?.[0];if(!Re){document.body.removeChild(S);return}try{const Me=document.createElement("div");Me.textContent="...",Me.style.cssText="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.8); color: white; padding: 1rem 2rem; border-radius: 8px; z-index: 10000;",document.body.appendChild(Me);const{analyzeFoodImage:Ge}=await Xe(async()=>{const{analyzeFoodImage:Fe}=await Promise.resolve().then(()=>As);return{analyzeFoodImage:Fe}},void 0),De=await Ge(Re);document.body.removeChild(Me),Ot(De),ot({}),St(!0),document.body.removeChild(S)}catch(Me){const Ge=document.querySelector('div[style*=""]');Ge&&document.body.removeChild(Ge);const{getUserFriendlyErrorMessage:De}=await Xe(async()=>{const{getUserFriendlyErrorMessage:Fe}=await Promise.resolve().then(()=>D0);return{getUserFriendlyErrorMessage:Fe}},void 0);alert(De(Me)||""),document.body.removeChild(S)}},S.click()},style:{padding:"0.75rem 1.5rem",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500"},children:""})]})]})}),a.jsx(Hg,{isOpen:M,onClose:()=>G(!1),onSuccess:(S,ke)=>{en({item:S,amount:ke,unit:"g",type:"animal"}),Jt(!0),G(!1)}}),Vn&&Wt&&a.jsx(Vg,{isOpen:Vn,initialFood:Wt,onClose:()=>Jt(!1),onSave:async S=>{await h(S),Jt(!1),en(null),j()}}),pt&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},onClick:()=>qn(!1),children:a.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",maxWidth:"600px",width:"100%",maxHeight:"80vh",display:"flex",flexDirection:"column",overflow:"hidden"},onClick:S=>S.stopPropagation(),children:[a.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsx("h2",{style:{fontSize:"18px",fontWeight:"700",margin:0},children:""}),a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[Et>0&&a.jsx("button",{onClick:()=>{Kv(),tn(0),Vt(ei())},style:{padding:"0.5rem 0.75rem",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:""}),a.jsx("button",{onClick:()=>qn(!1),style:{padding:"0.5rem 0.75rem",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:""})]})]}),a.jsx("div",{style:{flex:1,overflowY:"auto",padding:"1rem"},children:ft.length===0?a.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:[a.jsx("div",{style:{fontSize:"48px",marginBottom:"0.5rem"},children:""}),a.jsx("div",{style:{fontSize:"14px"},children:""})]}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:ft.map(S=>a.jsxs("div",{style:{padding:"0.75rem",backgroundColor:S.read?"#f9fafb":"#eff6ff",borderRadius:"8px",border:S.read?"1px solid #e5e7eb":"1px solid #3b82f6"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"0.5rem"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",marginBottom:"0.25rem"},children:S.title}),a.jsx("div",{style:{fontSize:"13px",color:"#4b5563"},children:S.body})]}),a.jsx("button",{onClick:()=>{Yv(S.id),Vt(ei()),tn(eu())},style:{padding:"0.25rem",backgroundColor:"transparent",border:"none",cursor:"pointer",fontSize:"16px",color:"#6b7280"},title:"",children:""})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"11px",color:"#6b7280"},children:[a.jsx("span",{children:new Date(S.timestamp).toLocaleString("ja-JP",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),!S.read&&a.jsx("button",{onClick:()=>{Gv(S.id),Vt(ei()),tn(eu())},style:{padding:"0.25rem 0.5rem",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"4px",fontSize:"10px",fontWeight:"600",cursor:"pointer"},children:""})]})]},S.id))})})]})})]})}const fu="primal_logic_saved_tips";function _i(){try{const r=localStorage.getItem(fu);return r?JSON.parse(r):[]}catch{return[]}}function Pa(r){try{const l=_i();l.includes(r)||(l.push(r),localStorage.setItem(fu,JSON.stringify(l)))}catch{}}function Za(r){try{const d=_i().filter(c=>c!==r);localStorage.setItem(fu,JSON.stringify(d))}catch{}}function _t(r){return _i().includes(r)}class nl{recognition=null;isListening=!1;onResultCallback=null;onErrorCallback=null;onEndCallback=null;constructor(l={}){const d=window.SpeechRecognition||window.webkitSpeechRecognition;if(!d){console.warn("Web Speech API is not supported in this browser.");return}this.recognition=new d,this.recognition&&(this.recognition.lang=l.language||"ja-JP",this.recognition.continuous=l.continuous??!1,this.recognition.interimResults=l.interimResults??!0,this.recognition.maxAlternatives=l.maxAlternatives||1,this.recognition.onresult=c=>{const y=c.results[c.results.length-1],h=y[0].transcript,f=y[0].confidence||.8;this.onResultCallback&&this.onResultCallback({text:h,confidence:f,isFinal:y.isFinal})},this.recognition.onerror=c=>{const y=c.error;this.onErrorCallback&&this.onErrorCallback(y)},this.recognition.onend=()=>{this.isListening=!1,this.onEndCallback&&this.onEndCallback()})}start(){if(this.recognition){if(this.isListening){console.warn("Voice input is already listening.");return}try{this.recognition.start(),this.isListening=!0}catch{}}}stop(){if(!(!this.recognition||!this.isListening))try{this.recognition.stop(),this.isListening=!1}catch{}}onResult(l){this.onResultCallback=l}onError(l){this.onErrorCallback=l}onEnd(l){this.onEndCallback=l}setLanguage(l){this.recognition&&(this.recognition.lang=l)}static isAvailable(){const l=window;return!!(l.SpeechRecognition||l.webkitSpeechRecognition)}}function qg({foodId:r,onClose:l,onSave:d}){const{t:c}=ni(),{addFood:y}=ti(),[h,f]=m.useState(""),[x,w]=m.useState(""),[j,v]=m.useState("animal"),[p,k]=m.useState({}),[T,q]=m.useState(!1),[ne,fe]=m.useState(null),[se,te]=m.useState(!1),[oe,ve]=m.useState(!1),[xe,de]=m.useState(!1),[je,Q]=m.useState([]),[Ne,Oe]=m.useState(!1),[O,ze]=m.useState({}),[z,W]=m.useState(null),[Se,F]=m.useState(!1),[ue,re]=m.useState(!1),[ge,he]=m.useState([]),[we,R]=m.useState(!1),Z=m.useMemo(()=>new nl({language:"ja-JP",continuous:!1,interimResults:!0}),[]);m.useEffect(()=>(Z.onResult(_=>{f(_.text),w(_.text),_.isFinal&&R(!1)}),Z.onError(_=>{console.error("Voice input error:",_),R(!1)}),Z.onEnd(()=>{R(!1)}),()=>{Z.stop()}),[Z]);const J=()=>{we?Z.stop():(f(""),Z.start(),R(!0))};m.useEffect(()=>{if(r){const _=Cv(r);_&&(f(_.foodName),w(_.displayName||_.foodName),v((_.type==="plant"?"animal":_.type)||"animal"),k(_.nutrients||{}))}},[r]);const le=async()=>{if(!h.trim()){fe(c("customFood.enterFoodName"));return}te(!0),fe(null),z&&he(U=>[...U,z]);const _=z?Qa(z.id):Ds();W(_),F(_t(_.id));try{const U=await Bg(h,Object.keys(O).length>0?O:void 0);f(U.foodName),v(U.type==="plant"?"animal":U.type),k(U.nutrients||{}),U.followupQuestions&&U.followupQuestions.length>0?(Q(U.followupQuestions),Oe(!0)):(Q([]),Oe(!1))}catch(U){fe(U instanceof Error?U.message:c("customFood.analyzeFailed"))}finally{te(!1),W(null)}},A=()=>{if(!h.trim()){fe(c("customFood.enterFoodName"));return}try{const _={foodName:h,displayName:x||h,amount:100,unit:"g",type:j,nutrients:p};r?Tv(r,_):Nv(_),ue&&(y({item:x||h,amount:100,unit:"g",type:j,nutrients:p}),setTimeout(()=>{window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},200)),d?.(),l()}catch(_){fe(_ instanceof Error?_.message:c("customFood.saveFailed"))}},ye=(_,U)=>{k(E=>({...E,[_]:U===void 0||U===0?void 0:U}))};return a.jsx("div",{className:"custom-food-screen",children:a.jsxs("div",{className:"custom-food-content",children:[a.jsxs("div",{className:"custom-food-header",children:[a.jsx("h2",{children:c(r?"customFood.edit":"customFood.add")}),a.jsx("button",{onClick:l,className:"close-button",style:{fontSize:"1.5rem",padding:"0.5rem 1rem"},children:""})]}),ne&&a.jsx("div",{className:"error-message",style:{color:"#dc2626",padding:"0.75rem",marginBottom:"1rem",backgroundColor:"#fef2f2",borderRadius:"8px"},children:ne}),a.jsxs("div",{className:"custom-food-section",children:[a.jsxs("label",{children:[a.jsx("strong",{children:c("customFood.foodName")}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"0.25rem",marginBottom:"0.5rem"},children:c("customFood.foodNameDescription")}),a.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[a.jsxs("div",{style:{position:"relative",flex:1,display:"flex",alignItems:"center"},children:[a.jsx("input",{type:"text",value:h,onChange:_=>{const U=_.target.value;f(U),w(U)},placeholder:c("customFood.foodNamePlaceholder"),style:{width:"100%",padding:"0.75rem",paddingRight:"3rem",border:"1px solid #e5e7eb",borderRadius:"8px"}}),a.jsx("button",{onClick:J,className:`voice-input-button ${we?"listening":""}`,style:{position:"absolute",right:"0.5rem",padding:"0.4rem",borderRadius:"50%",border:"none",backgroundColor:we?"#ef4444":"transparent",color:we?"white":"#9ca3af",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:we?"":"",children:we?a.jsx("span",{style:{fontSize:"1.2rem",animation:"pulse 1.5s infinite"},children:""}):a.jsx("span",{style:{fontSize:"1.2rem"},children:""})})]}),a.jsx("button",{onClick:le,disabled:se||!h.trim(),style:{padding:"0.75rem 1.5rem",backgroundColor:se?"#9ca3af":"#b91c1c",color:"white",border:"none",borderRadius:"8px",cursor:se?"not-allowed":"pointer",fontWeight:"600",whiteSpace:"nowrap"},children:c(se?"customFood.analyzing":"customFood.aiSuggest")})]})]}),a.jsxs("label",{style:{marginTop:"1rem",display:"block"},children:[a.jsx("strong",{children:c("customFood.displayName")}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"0.25rem",marginBottom:"0.5rem"},children:c("customFood.displayNameDescription")}),a.jsx("input",{type:"text",value:x,onChange:_=>w(_.target.value),placeholder:h||c("customFood.displayNamePlaceholder"),style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"8px",marginTop:"0.5rem"}})]}),se&&z&&a.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[a.jsxs("div",{style:{fontWeight:"600",color:"#92400e",flex:1},children:[" ",z.title]}),a.jsx("button",{onClick:()=>{Se?Za(z.id):Pa(z.id),F(!Se)},style:{background:Se?"#fef3c7":"none",border:Se?"1px solid #f59e0b":"1px solid #d1d5db",borderRadius:"4px",fontSize:"16px",cursor:"pointer",color:Se?"#f59e0b":"#6b7280",padding:"0.25rem 0.5rem",minWidth:"32px",height:"32px"},children:""})]}),a.jsxs("div",{style:{fontSize:"12px",color:"#78350f",lineHeight:"1.5",marginBottom:"0.5rem"},children:[z.content.substring(0,150),"..."]}),a.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[ge.length>0&&a.jsx("button",{onClick:()=>{const _=ge[ge.length-1];he(U=>U.slice(0,-1)),W(_),F(_t(_.id))},style:{padding:"0.5rem 1rem",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:""}),a.jsx("button",{onClick:()=>{z&&he(U=>[...U,z]);const _=Qa(z.id);W(_),F(_t(_.id))},style:{padding:"0.5rem 1rem",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:c("customFood.nextTip")})]}),a.jsx("div",{style:{clear:"both"}})]})]}),Ne&&je.length>0&&a.jsxs("div",{className:"custom-food-section",style:{backgroundColor:"#fef3c7",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:"1px solid #fbbf24"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[a.jsx("span",{style:{backgroundColor:"#f59e0b",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold"},children:"?"}),a.jsx("strong",{style:{fontSize:"16px"},children:c("customFood.additionalInfoNeeded")})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[je.map((_,U)=>a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"14px",color:"#374151",display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:_}),a.jsx("input",{type:"text",value:O[_]||"",onChange:E=>ze({...O,[_]:E.target.value}),placeholder:c("customFood.answerPlaceholder"),style:{width:"100%",padding:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px",fontSize:"14px"}})]},U)),a.jsx("button",{onClick:le,disabled:se,style:{marginTop:"0.5rem",padding:"0.75rem 1.5rem",backgroundColor:se?"#9ca3af":"#f59e0b",color:"white",border:"none",borderRadius:"8px",cursor:se?"not-allowed":"pointer",fontWeight:"600"},children:c(se?"customFood.reanalyzing":"customFood.reanalyzeWithAnswer")})]})]}),a.jsxs("div",{className:"custom-food-section",style:{backgroundColor:"#f9fafb",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[a.jsx("span",{style:{backgroundColor:"#3b82f6",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold"},children:"2"}),a.jsx("strong",{style:{fontSize:"16px"},children:c("customFood.foodType")})]}),a.jsx("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem",flexWrap:"wrap"},children:["animal","trash"].map(_=>a.jsx("button",{onClick:()=>v(_),style:{padding:"0.5rem 1rem",backgroundColor:j===_?"#b91c1c":"#f3f4f6",color:j===_?"white":"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px"},children:c(_==="animal"?"customFood.foodTypeAnimal":"customFood.foodTypeTrash")},_))})]}),a.jsxs("div",{className:"custom-food-section",style:{backgroundColor:"#f9fafb",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[a.jsx("span",{style:{backgroundColor:"#3b82f6",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold"},children:"3"}),a.jsx("strong",{style:{fontSize:"16px"},children:c("customFood.nutrientsRequired")})]}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"0.75rem"},children:"100g"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:0,maxHeight:"400px",overflowY:"auto",padding:"0.5rem",backgroundColor:"transparent",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.protein||0,previewAmount:0,target:100,color:"#64748b",unit:"g"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.protein")})]}),a.jsx("input",{type:"number",value:p?.protein||"",onChange:_=>ye("protein",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.fat||0,previewAmount:0,target:100,color:"#64748b",unit:"g"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.fat")})]}),a.jsx("input",{type:"number",value:p?.fat||"",onChange:_=>ye("fat",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.carbs||0,previewAmount:0,target:100,color:"#64748b",unit:"g"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.carbs")})]}),a.jsx("input",{type:"number",value:p?.carbs||"",onChange:_=>ye("carbs",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]})]})]}),a.jsxs("div",{className:"custom-food-section",style:{backgroundColor:"#f9fafb",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx("span",{style:{backgroundColor:"#3b82f6",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold"},children:"4"}),a.jsx("strong",{style:{fontSize:"16px"},children:c("customFood.nutrientsDetailed")})]}),a.jsx("button",{onClick:()=>ve(!oe),style:{padding:"0.5rem 1rem",backgroundColor:oe?"#b91c1c":"#f3f4f6",color:oe?"white":"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:c(oe?"customFood.hideDetails":"customFood.showDetails")})]}),oe&&a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.sodium||0,previewAmount:0,target:5e3,color:"#64748b",unit:"mg",nutrientKey:"sodium"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.sodium")})]}),a.jsx("input",{type:"number",value:p?.sodium||"",onChange:_=>ye("sodium",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.magnesium||0,previewAmount:0,target:600,color:"#64748b",unit:"mg",nutrientKey:"magnesium"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.magnesium")})]}),a.jsx("input",{type:"number",value:p?.magnesium||"",onChange:_=>ye("magnesium",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.potassium||0,previewAmount:0,target:4500,color:"#64748b",unit:"mg",nutrientKey:"potassium"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.potassium")})]}),a.jsx("input",{type:"number",value:p?.potassium||"",onChange:_=>ye("potassium",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.zinc||0,previewAmount:0,target:11,color:"#64748b",unit:"mg",nutrientKey:"zinc"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.zinc")})]}),a.jsx("input",{type:"number",value:p?.zinc||"",onChange:_=>ye("zinc",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.iron||0,previewAmount:0,target:8,color:"#64748b",unit:"mg",nutrientKey:"iron"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.iron")})]}),a.jsx("input",{type:"number",value:p?.iron||"",onChange:_=>ye("iron",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.vitaminA||0,previewAmount:0,target:5e3,color:"#64748b",unit:"IU",nutrientKey:"vitamin_a"}),a.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:[c("customFood.vitaminA")," (IU/100g)"]})]}),a.jsx("input",{type:"number",value:p?.vitaminA||"",onChange:_=>ye("vitaminA",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.vitaminD||0,previewAmount:0,target:2e3,color:"#64748b",unit:"IU",nutrientKey:"vitamin_d"}),a.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:[c("customFood.vitaminD")," (IU/100g)"]})]}),a.jsx("input",{type:"number",value:p?.vitaminD||"",onChange:_=>ye("vitaminD",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.vitaminK2||0,previewAmount:0,target:200,color:"#64748b",unit:"g",nutrientKey:"vitamin_k2"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.vitaminK2")})]}),a.jsx("input",{type:"number",value:p?.vitaminK2||"",onChange:_=>ye("vitaminK2",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.vitaminB12||0,previewAmount:0,target:2.4,color:"#64748b",unit:"g",nutrientKey:"vitamin_b12"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.vitaminB12")})]}),a.jsx("input",{type:"number",value:p?.vitaminB12||"",onChange:_=>ye("vitaminB12",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.omega3||0,previewAmount:0,target:2,color:"#64748b",unit:"g",nutrientKey:"omega3"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.omega3")})]}),a.jsx("input",{type:"number",value:p?.omega3||"",onChange:_=>ye("omega3",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.omega6||0,previewAmount:0,target:5,color:"#64748b",unit:"g",nutrientKey:"omega6"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.omega6")})]}),a.jsx("input",{type:"number",value:p?.omega6||"",onChange:_=>ye("omega6",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.calcium||0,previewAmount:0,target:1e3,color:"#64748b",unit:"mg",nutrientKey:"calcium"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.calcium")})]}),a.jsx("input",{type:"number",value:p?.calcium||"",onChange:_=>ye("calcium",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.phosphorus||0,previewAmount:0,target:700,color:"#64748b",unit:"mg",nutrientKey:"phosphorus"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.phosphorus")})]}),a.jsx("input",{type:"number",value:p?.phosphorus||"",onChange:_=>ye("phosphorus",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.glycine||0,previewAmount:0,target:10,color:"#64748b",unit:"g",nutrientKey:"glycine"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.glycine")})]}),a.jsx("input",{type:"number",value:p?.glycine||"",onChange:_=>ye("glycine",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.methionine||0,previewAmount:0,target:2,color:"#64748b",unit:"g",nutrientKey:"methionine"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.methionine")})]}),a.jsx("input",{type:"number",value:p?.methionine||"",onChange:_=>ye("methionine",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.taurine||0,previewAmount:0,target:500,color:"#64748b",unit:"mg",nutrientKey:"taurine"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.taurine")})]}),a.jsx("input",{type:"number",value:p?.taurine||"",onChange:_=>ye("taurine",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("label",{children:[c("customFood.vitaminB5"),a.jsx("input",{type:"number",value:p?.vitaminB5||"",onChange:_=>ye("vitaminB5",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("label",{children:[c("customFood.vitaminB9"),a.jsx("input",{type:"number",value:p?.vitaminB9||"",onChange:_=>ye("vitaminB9",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("label",{children:[c("customFood.chromium"),a.jsx("input",{type:"number",value:p?.chromium||"",onChange:_=>ye("chromium",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("label",{children:[c("customFood.molybdenum"),a.jsx("input",{type:"number",value:p?.molybdenum||"",onChange:_=>ye("molybdenum",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("label",{children:[c("customFood.fluoride"),a.jsx("input",{type:"number",value:p?.fluoride||"",onChange:_=>ye("fluoride",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("label",{children:[c("customFood.chloride"),a.jsx("input",{type:"number",value:p?.chloride||"",onChange:_=>ye("chloride",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("label",{children:[c("customFood.boron"),a.jsx("input",{type:"number",value:p?.boron||"",onChange:_=>ye("boron",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("label",{children:[c("customFood.nickel"),a.jsx("input",{type:"number",value:p?.nickel||"",onChange:_=>ye("nickel",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("label",{children:[c("customFood.silicon"),a.jsx("input",{type:"number",value:p?.silicon||"",onChange:_=>ye("silicon",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("label",{children:[c("customFood.vanadium"),a.jsx("input",{type:"number",value:p?.vanadium||"",onChange:_=>ye("vanadium",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]})]})]}),a.jsxs("div",{className:"custom-food-section",style:{backgroundColor:"#f9fafb",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[a.jsx("span",{style:{backgroundColor:"#3b82f6",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold"},children:"5"}),a.jsx("strong",{style:{fontSize:"16px"},children:c("customFood.antiNutrients")})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.phytates||0,previewAmount:0,target:0,color:"#ef4444",unit:"mg",nutrientKey:"phytates"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.phytates")})]}),a.jsx("input",{type:"number",value:p?.phytates||"",onChange:_=>ye("phytates",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.oxalates||0,previewAmount:0,target:0,color:"#ef4444",unit:"mg",nutrientKey:"oxalates"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.oxalates")})]}),a.jsx("input",{type:"number",value:p?.oxalates||"",onChange:_=>ye("oxalates",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.lectins||0,previewAmount:0,target:0,color:"#ef4444",unit:"mg",nutrientKey:"lectins"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.lectins")})]}),a.jsx("input",{type:"number",value:p?.lectins||"",onChange:_=>ye("lectins",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]})]})]}),a.jsxs("div",{className:"custom-food-section",style:{backgroundColor:"#f9fafb",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx("span",{style:{backgroundColor:"#3b82f6",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold"},children:"6"}),a.jsx("strong",{style:{fontSize:"16px"},children:c("customFood.antiNutrientsDetailed")})]}),a.jsx("button",{onClick:()=>de(!xe),style:{padding:"0.5rem 1rem",backgroundColor:xe?"#b91c1c":"#f3f4f6",color:xe?"white":"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:c(xe?"customFood.hideDetails":"customFood.showDetails")})]}),xe&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.polyphenols||0,previewAmount:0,target:0,color:"#ef4444",unit:"mg",nutrientKey:"polyphenols"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.polyphenols")})]}),a.jsx("input",{type:"number",value:p?.polyphenols||"",onChange:_=>ye("polyphenols",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.flavonoids||0,previewAmount:0,target:0,color:"#ef4444",unit:"mg",nutrientKey:"flavonoids"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.flavonoids")})]}),a.jsx("input",{type:"number",value:p?.flavonoids||"",onChange:_=>ye("flavonoids",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.saponins||0,previewAmount:0,target:0,color:"#ef4444",unit:"mg",nutrientKey:"saponins"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.saponins")})]}),a.jsx("input",{type:"number",value:p?.saponins||"",onChange:_=>ye("saponins",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.goitrogens||0,previewAmount:0,target:0,color:"#ef4444",unit:"mg",nutrientKey:"goitrogens"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.goitrogens")})]}),a.jsx("input",{type:"number",value:p?.goitrogens||"",onChange:_=>ye("goitrogens",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ye,{label:"",currentDailyTotal:p?.tannins||0,previewAmount:0,target:0,color:"#ef4444",unit:"mg",nutrientKey:"tannins"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.tannins")})]}),a.jsx("input",{type:"number",value:p?.tannins||"",onChange:_=>ye("tannins",_.target.value?parseFloat(_.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]})]})]}),!r&&a.jsx("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"8px"},children:a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:ue,onChange:_=>re(_.target.checked),style:{width:"20px",height:"20px",cursor:"pointer"}}),a.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:c("customFood.addToTodayLog")})]})}),a.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:l,style:{padding:"0.75rem 1.5rem",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600"},children:c("common.cancel")}),a.jsx("button",{onClick:A,disabled:T,style:{padding:"0.75rem 1.5rem",backgroundColor:T?"#9ca3af":"#b91c1c",color:"white",border:"none",borderRadius:"8px",cursor:T?"not-allowed":"pointer",fontWeight:"600"},children:c(T?"customFood.saving":"customFood.save")})]})]})})}function $v(){const{t:r}=ni(),{userProfile:l,loadUserProfile:d}=ti(),{debugMode:c,toggleDebugMode:y}=sl(),{config:h}=Ag(),[f,x]=m.useState(l?.language||Ci()),[w,j]=m.useState(!1);return m.useEffect(()=>{if(l){const v=l.language||Ci(),p=Ci();v!==p&&Ng(v),x(v)}},[l]),a.jsxs("div",{className:"profile-screen-container",children:[a.jsxs("div",{className:"profile-screen-content",children:[a.jsx("h1",{className:"profile-screen-title",children:r("settings.title")}),a.jsx("div",{className:"profile-screen-section",children:a.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":r("profile.navigateToUserSettings"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"userSettings"}))},onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"userSettings"})))},children:[a.jsxs("div",{className:"nav-item-content",children:[a.jsx("h2",{className:"nav-item-title",children:r("profile.userSettings")}),a.jsx("p",{className:"nav-item-description",children:r("profile.userSettingsDescription")})]}),a.jsx("span",{className:"nav-item-arrow",children:""})]})}),a.jsx("div",{className:"profile-screen-section",children:a.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":r("profile.navigateToLanguage"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"language"}))},onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"language"})))},children:[a.jsxs("div",{className:"nav-item-content",children:[a.jsx("h2",{className:"nav-item-title",children:r("profile.languageSettings")}),a.jsxs("p",{className:"nav-item-description",children:[r("common.current"),":"," ",r(f==="ja"?"language.japanese":f==="en"?"language.english":f==="fr"?"language.french":f==="de"?"language.german":"language.chinese")]})]}),a.jsx("span",{className:"nav-item-arrow",children:""})]})}),a.jsxs("div",{className:"profile-screen-section",children:[a.jsx("h2",{className:"profile-screen-section-title",children:r("profile.debugMode")}),a.jsxs("div",{className:"switch-container",children:[a.jsxs("div",{className:"switch-row",children:[a.jsx("span",{className:"switch-label",children:r("profile.debugModeDescription")}),a.jsxs("label",{className:"profile-screen-switch",children:[a.jsx("input",{type:"checkbox",checked:c,onChange:y}),a.jsx("span",{className:"profile-screen-switch-slider"})]})]}),a.jsx("div",{className:"switch-status",children:r(c?"profile.debugModeOn":"profile.debugModeOff")})]})]}),a.jsx("div",{className:"profile-screen-section",children:a.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":r("profile.openCustomFood"),onClick:()=>j(!0),onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),j(!0))},children:[a.jsxs("div",{className:"nav-item-content",children:[a.jsx("h2",{className:"nav-item-title",children:r("profile.customFood")}),a.jsx("p",{className:"nav-item-description",children:r("profile.customFoodDescription")})]}),a.jsx("span",{className:"nav-item-arrow",children:""})]})}),a.jsx("div",{className:"profile-screen-section",children:a.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":r("profile.navigateToUISettings"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"settings"}))},onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"settings"})))},children:[a.jsxs("div",{className:"nav-item-content",children:[a.jsx("h2",{className:"nav-item-title",children:r("profile.uiSettings")}),a.jsx("p",{className:"nav-item-description",children:r("profile.uiSettingsDescription")})]}),a.jsx("span",{className:"nav-item-arrow",children:""})]})}),a.jsx("div",{className:"profile-screen-section",children:a.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":r("profile.navigateToSaltSettings"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"salt"}))},onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"salt"})))},children:[a.jsxs("div",{className:"nav-item-content",children:[a.jsx("h2",{className:"nav-item-title",children:r("profile.saltSettings")}),a.jsxs("p",{className:"nav-item-description",children:[r("profile.saltType"),":"," ",h.saltType==="table_salt"?r("profile.tableSalt"):h.saltType==="sea_salt"?r("profile.seaSalt"):h.saltType==="himalayan_salt"?r("profile.himalayanSalt"):r("profile.celticSalt")," ","/ ",h.saltUnitWeight,"g/",r("profile.perShave")]})]}),a.jsx("span",{className:"nav-item-arrow",children:""})]})}),a.jsx("div",{className:"profile-screen-section",children:a.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":r("profile.navigateToCarbTargetSettings"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"carbTarget"}))},onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"carbTarget"})))},children:[a.jsxs("div",{className:"nav-item-content",children:[a.jsx("h2",{className:"nav-item-title",children:r("profile.carbTargetSettings")}),a.jsxs("p",{className:"nav-item-description",children:[r("common.current"),": ",h.targetCarbs,"g/",r("common.perDay")]})]}),a.jsx("span",{className:"nav-item-arrow",children:""})]})}),a.jsxs("div",{style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid #e5e7eb"},children:[a.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"1rem",color:"#1f2937"},children:r("profile.dataManagement")}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[a.jsxs("button",{onClick:async()=>{try{const v=await lu(),p=new Blob([v],{type:"application/json"}),k=URL.createObjectURL(p),T=document.createElement("a");T.href=k,T.download=`primal-logic-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(k),alert(r("profile.exportSuccess"))}catch(v){alert(r("profile.exportFailed")+": "+(v instanceof Error?v.message:""))}},style:{padding:"0.75rem 1rem",backgroundColor:"#f3f4f6",color:"#1f2937",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500"},children:[" ",r("profile.exportData")]}),a.jsxs("button",{onClick:()=>{const v=document.createElement("input");v.type="file",v.accept="application/json",v.onchange=async p=>{const k=p.target.files?.[0];if(k)try{const T=await k.text();window.confirm(r("profile.importConfirm"))&&(await Cg(T),await d(),alert(r("profile.importSuccess")))}catch(T){alert(r("profile.importFailed")+": "+(T instanceof Error?T.message:""))}},v.click()},style:{padding:"0.75rem 1rem",backgroundColor:"#f3f4f6",color:"#1f2937",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500"},children:[" ",r("profile.importData")]})]})]}),Ms(),a.jsxs("div",{className:"profile-screen-section",children:[a.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":r("profile.navigateToDataExport"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"dataExport"}))},onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"dataExport"})))},children:[a.jsxs("div",{className:"nav-item-content",children:[a.jsx("h2",{className:"nav-item-title",children:r("profile.exportData")}),a.jsx("p",{className:"nav-item-description",children:r("profile.exportDescription")})]}),a.jsx("span",{className:"nav-item-arrow",children:""})]}),a.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":r("profile.navigateToDataDelete"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"dataDelete"}))},onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"dataDelete"})))},style:{color:"#dc2626"},children:[a.jsxs("div",{className:"nav-item-content",children:[a.jsx("h2",{className:"nav-item-title",children:r("profile.deleteData")}),a.jsx("p",{className:"nav-item-description",children:r("profile.deleteDescription")})]}),a.jsx("span",{className:"nav-item-arrow",children:""})]})]}),a.jsx("div",{className:"profile-screen-section",children:a.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":r("profile.navigateToFeedback"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"feedback"}))},onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"feedback"})))},children:[a.jsxs("div",{className:"nav-item-content",children:[a.jsx("h2",{className:"nav-item-title",children:""}),a.jsx("p",{className:"nav-item-description",children:""})]}),a.jsx("span",{className:"nav-item-arrow",children:""})]})}),a.jsxs("div",{className:"profile-screen-section",children:[a.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":r("profile.navigateToPrivacyPolicy"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"privacy"}))},onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"privacy"})))},children:[a.jsxs("div",{className:"nav-item-content",children:[a.jsx("h2",{className:"nav-item-title",children:""}),a.jsx("p",{className:"nav-item-description",children:""})]}),a.jsx("span",{className:"nav-item-arrow",children:""})]}),a.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":r("profile.navigateToTermsOfService"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"terms"}))},onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"terms"})))},children:[a.jsxs("div",{className:"nav-item-content",children:[a.jsx("h2",{className:"nav-item-title",children:""}),a.jsx("p",{className:"nav-item-description",children:""})]}),a.jsx("span",{className:"nav-item-arrow",children:""})]})]}),a.jsxs("div",{className:"profile-screen-section",children:[a.jsx("div",{className:"profile-screen-section-title",style:{marginBottom:"0.5rem",fontSize:"0.9rem",color:"#6b7280"},children:""}),a.jsxs("div",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#6b7280"},children:[a.jsx("div",{style:{marginBottom:"0.25rem"},children:"CarnivoreOS"}),a.jsx("div",{style:{fontSize:"0.75rem",color:"#9ca3af"},children:" 0.0.0"})]})]})]}),w&&a.jsx(qg,{onClose:()=>j(!1),onSave:()=>{}})]})}const gu=[{id:"fiber-constipation",category:"Digestion",myth:"Fiber is essential for healthy bowel movements and preventing constipation.",truth:"Fiber acts as a mechanical irritant. Removing it completely can cure idiopathic constipation.",mechanism:'Fiber increases stool bulk, which adds mechanical load to the colon. In patients with slow transit or pelvic floor dyssynergia, this extra bulk exacerbates the inability to evacuate. Removing fiber eliminates the bulk, allowing the gut to rest and function naturally without "traffic jams".',source:'Ho KS et al., "Stopping or reducing dietary fiber intake reduces constipation and its associated symptoms", World Journal of Gastroenterology (2012).',effectSize:"100% efficacy. In the study, 41 patients who stopped fiber completely had 100% resolution of constipation, bloating, and bleeding. Those who continued high fiber saw 0% improvement."},{id:"ldl-heart-disease",category:"Heart Health",myth:"High LDL cholesterol caused by red meat leads to atherosclerosis and heart disease.",truth:"LDL concentration alone is a poor predictor of CVD. In the context of low Triglycerides and high HDL (Lean Mass Hyper-Responder), high LDL is energy delivery, not pathology.",mechanism:'The "Lipid Energy Model" suggests that in a carbohydrate-restricted state, the liver exports VLDL (energy) which remodels to LDL. Unlike "Pattern B" small dense LDL (caused by insulin resistance/sugar) which penetrates arterial walls, large buoyant "Pattern A" LDL observed in carnivores is resistant to oxidation and atherogenesis.',source:`Diamond & O'Kelly (2022) "The Lipid Energy Model"; O'Kelly et al. (2024) - UCLA/Lundquist Institute Match Study (Preliminary Data).`,effectSize:"Risk stratification fails: Studies show that high LDL with optimal metabolic markers (High HDL, Low Tg) often results in a Hazard Ratio (HR) of ~1.0 (no increased risk), compared to HR >2.0 for insulin resistant phenotypes."},{id:"red-meat-cancer",category:"Cancer",myth:"Red meat is a Class 2A carcinogen that causes colorectal cancer.",truth:'The WHO classification relies on weak epidemiology riddled with "Healthy User Bias", not clinical trials.',mechanism:'Observational studies rarely separate "burger eaters" (meat + bun + seed oils + soda) from healthy meat eaters. The mechanism often cited (heme iron/N-nitroso compounds) is nullified by the presence of other nutrients in whole meat and the absence of gut-damaging inflammatory refined carbs.',source:"WHO/IARC 2015 Report; critique by Dr. David Klurfeld (IARC working group member).",effectSize:'Negligible relative risk. The reported Hazard Ratio is roughly 1.17 (17-18% relative increase). In epidemiology, an HR < 2.0 is generally considered "noise" or potential confounding, unlike smoking which has an HR of 10-30.'},{id:"vitamin-c-scurvy",category:"Micronutrients",myth:"You will get scurvy without fruit and vegetables (Vitamin C).",truth:"Vitamin C requirements drop drastically in the absence of dietary glucose.",mechanism:"Glucose and Vitamin C (Ascorbic Acid) compete for entry into cells via the same GLUT-1 receptors (Glucose-Ascorbate Antagonism). In ketosis, low blood glucose allows Vitamin C to be transported efficiently. Furthermore, hydroxyproline/glutathione sparing reduces total demand. Fresh meat also contains sufficient Vitamin C to prevent scurvy.",source:"Cahill (1970s Starvation Studies); Stefansson (1928) Bellevue Hospital Study.",effectSize:"Binary Outcome: Historical records of Arctic explorers and clinical observations of modern carnivores show 0% incidence of scurvy despite intake levels (e.g. 10mg/day) below the standard RDA (65-90mg/day)."}];function Qv(r){return gu.filter(l=>l.category===r)}function Pv(){return Array.from(new Set(gu.map(r=>r.category)))}function Zv(){const[r,l]=m.useState(new Set),[d,c]=m.useState("All"),y=m.useMemo(()=>["All",...Pv()],[]),h=m.useMemo(()=>d==="All"?gu:Qv(d),[d]),f=x=>{l(w=>{const j=new Set(w);return j.has(x)?j.delete(x):j.add(x),j})};return a.jsxs("div",{className:"knowledge-screen-container",children:[a.jsxs("div",{className:"knowledge-screen-header",children:[a.jsx("h1",{className:"knowledge-screen-title",children:" Logic Armor ()"}),a.jsx("p",{className:"knowledge-screen-subtitle",children:""})]}),a.jsx("div",{className:"knowledge-category-filter",children:y.map(x=>a.jsx("button",{className:`knowledge-category-button ${d===x?"active":""}`,onClick:()=>c(x),children:x==="All"?"":x==="Digestion"?"":x==="Heart Health"?"":x==="Long-term Health"?"":x==="Nutrition"?"":""},x))}),a.jsx("div",{className:"knowledge-cards-container",children:h.map(x=>{const w=r.has(x.id);return a.jsx("div",{className:`knowledge-card ${w?"flipped":""}`,onClick:()=>f(x.id),children:a.jsxs("div",{className:"knowledge-card-inner",children:[a.jsxs("div",{className:"knowledge-card-front",children:[a.jsx("div",{className:"knowledge-card-category",children:x.category}),a.jsx("h3",{className:"knowledge-card-title",children:x.title}),a.jsxs("div",{className:"knowledge-card-myth",children:[a.jsx("div",{className:"knowledge-card-label",children:" Myth ()"}),a.jsx("p",{className:"knowledge-card-text",children:x.myth})]}),a.jsx("div",{className:"knowledge-card-hint",children:" "})]}),a.jsxs("div",{className:"knowledge-card-back",children:[a.jsx("div",{className:"knowledge-card-category",children:x.category}),a.jsx("h3",{className:"knowledge-card-title",children:x.title}),a.jsxs("div",{className:"knowledge-card-truth",children:[a.jsx("div",{className:"knowledge-card-label",children:" Truth ()"}),a.jsx("p",{className:"knowledge-card-text",children:x.truth})]}),a.jsxs("div",{className:"knowledge-card-details",children:[a.jsx("div",{className:"knowledge-card-label",children:" Details"}),a.jsx("p",{className:"knowledge-card-text",children:x.details})]}),a.jsxs("div",{className:"knowledge-card-source",children:[a.jsx("div",{className:"knowledge-card-label",children:" Source"}),a.jsx("p",{className:"knowledge-card-text",children:x.source})]}),a.jsx("div",{className:"knowledge-card-hint",children:" "})]})]})},x.id)})}),h.length===0&&a.jsx("div",{className:"knowledge-empty-state",children:a.jsx("p",{children:""})})]})}async function Jv(r){throw new Error(`Replicate API
VITE_REPLICATE_API_TOKEN  .env 

:
1. https://replicate.com/ 
2. https://replicate.com/account/api-tokens API
3. .env: VITE_REPLICATE_API_TOKEN=r8_...`)}async function Ts(r,l=1){return ey(r,l),Jv()}async function Wv(){const r=[];for(let l=1;l<=4;l++)try{const d=await Ts(1,l);r.push({style:1,variation:l,url:d}),await new Promise(c=>setTimeout(c,2e3))}catch{}for(let l=1;l<=3;l++)try{const d=await Ts(2,l);r.push({style:2,variation:l,url:d}),await new Promise(c=>setTimeout(c,2e3))}catch{}for(let l=1;l<=3;l++)try{const d=await Ts(3,l);r.push({style:3,variation:l,url:d}),await new Promise(c=>setTimeout(c,2e3))}catch{}return r}function ey(r,l){const c={1:['Create a simple, modern app icon for a carnivore diet app called "CarnivoreGuid". Square format (1024x1024px), geometric abstract meat shape, style: Modern clean minimalist, colors: Warm reds and browns, no text, bold clear silhouette recognizable at 16x16px, rounded corners, app icon style.','Create a simple, modern app icon for a carnivore diet app called "CarnivoreGuid". Square format (1024x1024px), realistic but simplified steak silhouette, style: Modern clean minimalist, colors: Warm reds and browns, no text, bold clear silhouette recognizable at 16x16px, rounded corners, app icon style.','Create a simple, modern app icon for a carnivore diet app called "CarnivoreGuid". Square format (1024x1024px), minimalist meat cut outline, style: Modern clean minimalist, colors: Warm reds and browns, no text, bold clear silhouette recognizable at 16x16px, rounded corners, app icon style.','Create a simple, modern app icon for a carnivore diet app called "CarnivoreGuid". Square format (1024x1024px), bold flat design meat icon, style: Modern clean minimalist, colors: Warm reds and browns, no text, bold clear silhouette recognizable at 16x16px, rounded corners, app icon style.'],2:['Create a modern app icon combining "logic" and "meat" concepts for "CarnivoreGuid" app. Square format (1024x1024px), brain icon with meat texture inside, style: Modern geometric clean, colors: Cool blues (logic) + warm reds (meat), no text, recognizable at 16x16px, rounded corners, app icon style.','Create a modern app icon combining "logic" and "meat" concepts for "CarnivoreGuid" app. Square format (1024x1024px), meat cut with logic/circuit pattern overlay, style: Modern geometric clean, colors: Cool blues (logic) + warm reds (meat), no text, recognizable at 16x16px, rounded corners, app icon style.','Create a modern app icon combining "logic" and "meat" concepts for "CarnivoreGuid" app. Square format (1024x1024px), geometric brain and meat icon side by side, style: Modern geometric clean, colors: Cool blues (logic) + warm reds (meat), no text, recognizable at 16x1024px, rounded corners, app icon style.'],3:['Create a modern app icon featuring the letter "C" (for Carnivore) combined with a meat element for "CarnivoreGuid" app. Square format (1024x1024px), bold sans-serif "C" with meat icon inside, style: Modern bold typography + icon, colors: Strong vibrant colors (reds, oranges), "C" prominent and readable at small sizes, rounded corners, app icon style.','Create a modern app icon featuring the letter "C" (for Carnivore) combined with a meat element for "CarnivoreGuid" app. Square format (1024x1024px), "C" made of meat texture/pattern, style: Modern bold typography + icon, colors: Strong vibrant colors (reds, oranges), "C" prominent and readable at small sizes, rounded corners, app icon style.','Create a modern app icon featuring the letter "C" (for Carnivore) combined with a meat element for "CarnivoreGuid" app. Square format (1024x1024px), meat icon replacing part of the "C" letter, style: Modern bold typography + icon, colors: Strong vibrant colors (reds, oranges), "C" prominent and readable at small sizes, rounded corners, app icon style.']}[r],y=Math.min(l-1,c.length-1);return c[y]}async function ty(r,l="1024x1024"){if(navigator.clipboard)try{await navigator.clipboard.writeText(r)}catch{}throw new Error(` API

 : ${r}

 :
- Replicate (Stable Diffusion): https://replicate.com/
- Hugging Face: https://huggingface.co/spaces/stabilityai/stable-diffusion
- Craiyon: https://www.craiyon.com/

`)}async function ny(r,l=1){const d=Ns(r,l);return ty(d,"1024x1024")}function Ns(r,l){const c={1:['Create a simple, modern app icon for a carnivore diet app called "CarnivoreGuid". Square format (1024x1024px), geometric abstract meat shape, style: Modern clean minimalist, colors: Warm reds and browns, no text, bold clear silhouette recognizable at 16x16px, rounded corners, app icon style.','Create a simple, modern app icon for a carnivore diet app called "CarnivoreGuid". Square format (1024x1024px), realistic but simplified steak silhouette, style: Modern clean minimalist, colors: Warm reds and browns, no text, bold clear silhouette recognizable at 16x16px, rounded corners, app icon style.','Create a simple, modern app icon for a carnivore diet app called "CarnivoreGuid". Square format (1024x1024px), minimalist meat cut outline, style: Modern clean minimalist, colors: Warm reds and browns, no text, bold clear silhouette recognizable at 16x16px, rounded corners, app icon style.','Create a simple, modern app icon for a carnivore diet app called "CarnivoreGuid". Square format (1024x1024px), bold flat design meat icon, style: Modern clean minimalist, colors: Warm reds and browns, no text, bold clear silhouette recognizable at 16x16px, rounded corners, app icon style.'],2:['Create a modern app icon combining "logic" and "meat" concepts for "CarnivoreGuid" app. Square format (1024x1024px), brain icon with meat texture inside, style: Modern geometric clean, colors: Cool blues (logic) + warm reds (meat), no text, recognizable at 16x16px, rounded corners, app icon style.','Create a modern app icon combining "logic" and "meat" concepts for "CarnivoreGuid" app. Square format (1024x1024px), meat cut with logic/circuit pattern overlay, style: Modern geometric clean, colors: Cool blues (logic) + warm reds (meat), no text, recognizable at 16x16px, rounded corners, app icon style.','Create a modern app icon combining "logic" and "meat" concepts for "CarnivoreGuid" app. Square format (1024x1024px), geometric brain and meat icon side by side, style: Modern geometric clean, colors: Cool blues (logic) + warm reds (meat), no text, recognizable at 16x16px, rounded corners, app icon style.'],3:['Create a modern app icon featuring the letter "C" (for Carnivore) combined with a meat element for "CarnivoreGuid" app. Square format (1024x1024px), bold sans-serif "C" with meat icon inside, style: Modern bold typography + icon, colors: Strong vibrant colors (reds, oranges), "C" prominent and readable at small sizes, rounded corners, app icon style.','Create a modern app icon featuring the letter "C" (for Carnivore) combined with a meat element for "CarnivoreGuid" app. Square format (1024x1024px), "C" made of meat texture/pattern, style: Modern bold typography + icon, colors: Strong vibrant colors (reds, oranges), "C" prominent and readable at small sizes, rounded corners, app icon style.','Create a modern app icon featuring the letter "C" (for Carnivore) combined with a meat element for "CarnivoreGuid" app. Square format (1024x1024px), meat icon replacing part of the "C" letter, style: Modern bold typography + icon, colors: Strong vibrant colors (reds, oranges), "C" prominent and readable at small sizes, rounded corners, app icon style.']}[r],y=Math.min(l-1,c.length-1);return c[y]}async function ay(){const r=[];for(let d=1;d<=4;d++){const c=Ns(1,d);r.push({style:1,variation:d,prompt:c})}for(let d=1;d<=3;d++){const c=Ns(2,d);r.push({style:2,variation:d,prompt:c})}for(let d=1;d<=3;d++){const c=Ns(3,d);r.push({style:3,variation:d,prompt:c})}const l=r.map((d,c)=>`${c+1}. ${d.style} - ${d.variation}:
${d.prompt}
`).join(`
`);if(navigator.clipboard)try{await navigator.clipboard.writeText(l)}catch{}throw new Error(` API

 10:

`+l+`
 :
1. Replicate (Stable Diffusion): https://replicate.com/
   - 
2. Hugging Face: https://huggingface.co/spaces/stabilityai/stable-diffusion
   - 
3. Craiyon: https://www.craiyon.com/
   - 

10`)}function iy(){const[r,l]=m.useState(!1),[d,c]=m.useState([]),[y,h]=m.useState(null),f=async()=>{l(!0),h(null);try{const w=await Wv();c(w)}catch(w){const j=w instanceof Error?w.message:"";if(j.includes("Replicate API"))try{await ay()}catch{h(j)}else h(j)}finally{l(!1)}},x=async(w,j=1)=>{l(!0),h(null);try{const v=await Ts(w,j);c(p=>[...p,{style:w,variation:j,url:v}])}catch(v){const p=v instanceof Error?v.message:"";if(p.includes("Replicate API"))try{await ny(w,j)}catch{h(p)}else h(p)}finally{l(!1)}};return a.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:""}),a.jsxs("div",{className:"mb-4 space-x-2",children:[a.jsx("button",{onClick:f,disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"...":"10"}),a.jsx("button",{onClick:()=>x(1,1),disabled:r,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:"1-1"}),a.jsx("button",{onClick:()=>x(2,1),disabled:r,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50",children:"2-1"}),a.jsx("button",{onClick:()=>x(3,1),disabled:r,className:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 disabled:opacity-50",children:"3-1"})]}),y&&a.jsxs("div",{className:"mb-4 p-4 bg-yellow-100 border border-yellow-400 text-yellow-800 rounded whitespace-pre-line",children:[a.jsx("div",{className:"font-bold mb-2",children:" "}),a.jsx("div",{className:"mb-3",children:y}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-bold mb-1",children:" :"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[a.jsxs("li",{children:[a.jsx("a",{href:"https://replicate.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Replicate (Stable Diffusion)"})," ","- "]}),a.jsxs("li",{children:[a.jsx("a",{href:"https://huggingface.co/spaces/stabilityai/stable-diffusion",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Hugging Face"})," ","- "]}),a.jsxs("li",{children:[a.jsx("a",{href:"https://www.craiyon.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Craiyon"})," ","- "]})]}),a.jsx("p",{className:"mt-2 text-xs text-gray-600",children:""})]})]}),d.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:d.map((w,j)=>a.jsxs("div",{className:"border rounded p-2",children:[a.jsx("img",{src:w.url,alt:`${w.style} - ${w.variation}`,className:"w-full aspect-square object-cover rounded mb-2"}),a.jsxs("div",{className:"text-sm text-gray-600",children:["",w.style," - ",w.variation]}),a.jsx("a",{href:w.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:""})]},j))})]})}function oy(){const{t:r}=ni(),{tipsEnabled:l}=sl(),[d,c]=m.useState(!1),[y,h]=m.useState(null),[f,x]=m.useState(0),[w,j]=m.useState(!1),[v,p]=m.useState(!1),[k,T]=m.useState(!1),[q,ne]=m.useState("all"),[fe,se]=m.useState(0),[te,oe]=m.useState([]),[ve,xe]=m.useState(!1),[de,je]=m.useState(null),[Q,Ne]=m.useState(!1);m.useEffect(()=>{const z=async()=>{const Se=await Ig();je(Se)};z();const W=()=>{z()};return window.addEventListener("dailyLogUpdated",W),window.addEventListener("screenChanged",W),()=>{window.removeEventListener("dailyLogUpdated",W),window.removeEventListener("screenChanged",W)}},[]),m.useEffect(()=>{const z=localStorage.getItem("primal_logic_tip_history"),W=localStorage.getItem("primal_logic_tips_displayed"),Se=_i(),F=[];if(Se.length>0){const re=Ht.filter(ge=>Se.includes(ge.id));F.push(...re)}if(z){const re=JSON.parse(z);F.push(...re)}if(W){const re=JSON.parse(W);F.push(...re)}const ue=F.filter((re,ge,he)=>ge===he.findIndex(we=>"id"in re&&"id"in we&&re.id===we.id||"symptom"in re&&"symptom"in we&&re.symptom===we.symptom));oe(ue)},[]);const Oe=()=>{const z=(f+1)%Ht.length;x(z);const W=Ht[z];h(W),j(_t(W.id))},O=()=>{const z=f===0?Ht.length-1:f-1;x(z);const W=Ht[z];h(W),j(_t(W.id))},ze=async z=>{let W="";if("title"in z&&z.title?W=`Did you know? ${z.title}

${z.content} #PrimalLogic`:"symptom"in z&&(W=`Did you know? ${z.symptom} -> ${z.remedies.join(", ")} #PrimalLogic`),navigator.share)try{await navigator.share({title:"CarnivoreOS Tip",text:W})}catch{}else try{await navigator.clipboard.writeText(W),alert("Copied to clipboard!")}catch{}};return a.jsxs("div",{className:"labs-screen-container",style:{padding:"1rem",maxWidth:"600px",margin:"0 auto"},children:[a.jsx("div",{style:{marginBottom:"2rem",padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"8px"},children:a.jsx("p",{style:{fontSize:"14px",color:"#78716c",lineHeight:"1.6"},children:r("labs.description")})}),a.jsx("div",{style:{marginBottom:"2rem"},children:a.jsxs("div",{onClick:z=>{z.preventDefault(),z.stopPropagation();const W=new CustomEvent("navigateToScreen",{detail:"stats"});window.dispatchEvent(W)},style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",backgroundColor:"#ecfdf5",borderRadius:"8px",border:"1px solid #10b981",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:z=>z.currentTarget.style.backgroundColor="#d1fae5",onMouseLeave:z=>z.currentTarget.style.backgroundColor="#ecfdf5",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px",color:"#065f46"},children:" Bio-Hack Terminal"}),a.jsx("p",{style:{fontSize:"12px",color:"#065f46"},children:""})]}),a.jsx("span",{style:{fontSize:"20px",color:"#065f46"},children:""})]})}),a.jsx("div",{style:{marginBottom:"2rem"},children:a.jsxs("div",{onClick:z=>{z.preventDefault(),z.stopPropagation();const W=new CustomEvent("navigateToScreen",{detail:"diary"});window.dispatchEvent(W)},style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",backgroundColor:"#ecfdf5",borderRadius:"8px",border:"1px solid #10b981",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:z=>z.currentTarget.style.backgroundColor="#d1fae5",onMouseLeave:z=>z.currentTarget.style.backgroundColor="#ecfdf5",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px",color:"#065f46"},children:" Bio-Tuner (Output & Log)"}),a.jsx("p",{style:{fontSize:"12px",color:"#065f46"},children:"()"})]}),a.jsx("span",{style:{fontSize:"20px",color:"#065f46"},children:""})]})}),a.jsx("div",{style:{marginBottom:"2rem"},children:a.jsxs("div",{onClick:z=>{z.preventDefault(),z.stopPropagation();const W=new CustomEvent("navigateToScreen",{detail:"results"});window.dispatchEvent(W)},style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",backgroundColor:"#eff6ff",borderRadius:"8px",border:"1px solid #3b82f6",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:z=>z.currentTarget.style.backgroundColor="#dbeafe",onMouseLeave:z=>z.currentTarget.style.backgroundColor="#eff6ff",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px",color:"#1e40af"},children:" SNS Video Generator"}),a.jsx("p",{style:{fontSize:"12px",color:"#1e40af"},children:"YouTube, TikTok, Instagram"})]}),a.jsx("span",{style:{fontSize:"20px",color:"#1e40af"},children:""})]})}),a.jsx("div",{style:{marginBottom:"2rem"},children:a.jsxs("div",{onClick:z=>{z.preventDefault(),z.stopPropagation();const W=new CustomEvent("navigateToScreen",{detail:"ifThenRules"});window.dispatchEvent(W)},style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",backgroundColor:"#fef3c7",borderRadius:"8px",border:"1px solid #fbbf24",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:z=>z.currentTarget.style.backgroundColor="#fde68a",onMouseLeave:z=>z.currentTarget.style.backgroundColor="#fef3c7",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px",color:"#92400e"},children:" If-Then"}),a.jsx("p",{style:{fontSize:"12px",color:"#92400e"},children:""})]}),a.jsx("span",{style:{fontSize:"20px",color:"#92400e"},children:""})]})}),a.jsx("div",{style:{marginBottom:"2rem"},children:a.jsxs("div",{onClick:z=>{z.preventDefault(),z.stopPropagation();const W=new CustomEvent("navigateToScreen",{detail:"shop"});window.dispatchEvent(W)},style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",backgroundColor:"#f0f9ff",borderRadius:"8px",border:"1px solid #0ea5e9",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:z=>z.currentTarget.style.backgroundColor="#e0f2fe",onMouseLeave:z=>z.currentTarget.style.backgroundColor="#f0f9ff",children:[a.jsxs("div",{children:[a.jsxs("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px",color:"#0c4a6e"},children:[" ",r("labs.shop")]}),a.jsx("p",{style:{fontSize:"12px",color:"#0c4a6e"},children:r("labs.shopDescription")})]}),a.jsx("span",{style:{fontSize:"20px",color:"#0c4a6e"},children:""})]})}),a.jsx("div",{style:{marginBottom:"2rem"},children:a.jsxs("div",{onClick:z=>{z.preventDefault(),z.stopPropagation();const W=new CustomEvent("navigateToScreen",{detail:"gift"});window.dispatchEvent(W)},style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",backgroundColor:"#fef3c7",borderRadius:"8px",border:"1px solid #fbbf24",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:z=>z.currentTarget.style.backgroundColor="#fde68a",onMouseLeave:z=>z.currentTarget.style.backgroundColor="#fef3c7",children:[a.jsxs("div",{children:[a.jsxs("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px",color:"#78350f"},children:[" ",r("labs.gift")]}),a.jsx("p",{style:{fontSize:"12px",color:"#78350f"},children:r("labs.giftDescription")})]}),a.jsx("span",{style:{fontSize:"20px",color:"#78350f"},children:""})]})}),a.jsx("div",{style:{marginBottom:"2rem"},children:a.jsxs("div",{onClick:()=>{const z=new CustomEvent("navigateToScreen",{detail:"streakTracker"});window.dispatchEvent(z)},style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e7e5e4",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:z=>z.currentTarget.style.backgroundColor="#f9fafb",onMouseLeave:z=>z.currentTarget.style.backgroundColor="white",children:[a.jsxs("div",{children:[a.jsxs("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px"},children:[" ",r("labs.streakTracker")]}),a.jsx("p",{style:{fontSize:"12px",color:"#78716c"},children:de?`${de.currentStreak}${r("common.days")} ${r("common.consecutive")} | ${de.phase}`:r("labs.streakTrackerDescription")})]}),a.jsx("span",{style:{fontSize:"20px"},children:""})]})}),l&&a.jsxs("div",{style:{marginBottom:"2rem"},children:[a.jsxs("h3",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"1rem"},children:[" ",r("labs.tips")]}),a.jsx("button",{onClick:()=>{ne("all"),T(!0)},style:{padding:"0.75rem 1.5rem",backgroundColor:"#fbbf24",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer",color:"#78350f",fontWeight:"bold",width:"100%"},children:r("labs.viewTipsList")})]}),d&&y&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>c(!1),children:a.jsxs("div",{style:{backgroundColor:"white",padding:"1.5rem",borderRadius:"8px",maxHeight:"80%",overflow:"auto",position:"relative",width:"100%",maxWidth:"400px"},onClick:z=>z.stopPropagation(),children:[a.jsx("button",{onClick:()=>c(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer"},children:""}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[a.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",margin:0,flex:1},children:y.title}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx("button",{onClick:()=>{w?Za(y.id):Pa(y.id),j(!w)},style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",padding:"4px"},title:r(w?"labs.tipSaved":"labs.tipSave"),children:w?"":""}),a.jsxs("span",{style:{fontSize:"12px",color:"#6b7280"},children:[f+1," / ",Ht.length]})]})]}),a.jsx("p",{style:{fontSize:"14px",lineHeight:"1.6",color:"#374151",marginBottom:"1rem"},children:y.content}),y.category&&a.jsx("div",{style:{marginBottom:"1rem"},children:a.jsx("span",{style:{padding:"4px 8px",backgroundColor:"#f3f4f6",borderRadius:"4px",fontSize:"12px",color:"#6b7280"},children:y.category})}),a.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"space-between",marginTop:"1.5rem"},children:[a.jsx("button",{onClick:O,style:{padding:"8px 16px",backgroundColor:"#f3f4f6",border:"none",borderRadius:"4px",fontSize:"14px",cursor:"pointer",color:"#374151",flex:1},children:r("labs.tipBack")}),a.jsx("button",{onClick:Oe,style:{padding:"8px 16px",backgroundColor:"#f3f4f6",border:"none",borderRadius:"4px",fontSize:"14px",cursor:"pointer",color:"#374151",flex:1},children:r("labs.tipNext")})]}),a.jsx("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:a.jsx("button",{onClick:()=>ze(y),style:{padding:"8px 16px",backgroundColor:"#fee2e2",border:"none",borderRadius:"4px",fontSize:"14px",cursor:"pointer",color:"#dc2626",flex:1},children:r("labs.tipShare")})})]})}),v&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>p(!1),children:a.jsxs("div",{style:{backgroundColor:"white",padding:"1.5rem",borderRadius:"8px",maxHeight:"80%",overflow:"auto",position:"relative",width:"100%",maxWidth:"400px"},onClick:z=>z.stopPropagation(),children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[a.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold"},children:r("labs.tipsHistory")}),a.jsx("button",{onClick:()=>p(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer"},children:""})]}),te.length===0?a.jsx("p",{style:{fontSize:"14px",color:"#78716c",textAlign:"center",padding:"2rem 0"},children:r("labs.noTipsHistory")}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:te.map((z,W)=>a.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f9fafb",border:"1px solid #e7e5e4",borderRadius:"8px"},children:["title"in z?a.jsxs(a.Fragment,{children:[a.jsx("h4",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"4px"},children:z.title}),a.jsx("p",{style:{fontSize:"12px",color:"#374151",marginBottom:"8px",lineHeight:"1.5"},children:z.content}),z.category&&a.jsx("div",{style:{marginBottom:"8px"},children:a.jsx("span",{style:{padding:"2px 6px",backgroundColor:"#e5e7eb",borderRadius:"4px",fontSize:"10px",color:"#6b7280"},children:z.category})})]}):a.jsxs(a.Fragment,{children:[a.jsx("h4",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"4px"},children:z.symptom}),a.jsx("p",{style:{fontSize:"12px",color:"#78716c",marginBottom:"8px"},children:z.logic}),a.jsx("ul",{style:{fontSize:"12px",color:"#374151",listStyle:"disc",paddingLeft:"1.5rem",marginBottom:"8px"},children:z.remedies.map((Se,F)=>a.jsx("li",{children:Se},F))})]}),a.jsx("button",{onClick:()=>ze(z),style:{padding:"4px 8px",backgroundColor:"#fee2e2",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",color:"#dc2626"},children:" Share"})]},W))})]})}),k&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>T(!1),children:a.jsxs("div",{style:{backgroundColor:"white",padding:"1.5rem",borderRadius:"8px",maxHeight:"80%",overflow:"auto",position:"relative",width:"100%",maxWidth:"600px"},onClick:z=>z.stopPropagation(),children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",position:"relative",paddingRight:"2rem"},children:[a.jsxs("h3",{style:{fontSize:"18px",fontWeight:"bold",margin:0},children:[r("labs.tipsList")," (",q==="all"?Ht.length:_i().length,r("common.items"),")"]}),a.jsx("button",{onClick:()=>T(!1),style:{position:"absolute",top:0,right:0,background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",padding:"0.25rem",zIndex:10},children:""})]}),a.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem",borderBottom:"2px solid #e7e5e4"},children:[a.jsxs("button",{onClick:()=>ne("all"),style:{padding:"0.5rem 1rem",background:"none",border:"none",borderBottom:q==="all"?"2px solid #fbbf24":"2px solid transparent",fontSize:"14px",fontWeight:q==="all"?"bold":"normal",color:q==="all"?"#78350f":"#6b7280",cursor:"pointer",marginBottom:"-2px"},children:[r("labs.tipsListAll")," (",Ht.length,")"]}),a.jsxs("button",{onClick:()=>ne("saved"),style:{padding:"0.5rem 1rem",background:"none",border:"none",borderBottom:q==="saved"?"2px solid #fbbf24":"2px solid transparent",fontSize:"14px",fontWeight:q==="saved"?"bold":"normal",color:q==="saved"?"#78350f":"#6b7280",cursor:"pointer",marginBottom:"-2px"},children:[r("labs.tipsListSaved")," (",_i().length,")"]})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(q==="all"?Ht:Ht.filter(z=>_t(z.id))).map((z,W)=>{const Se=Ht.findIndex(F=>F.id===z.id);return a.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f9fafb",border:"1px solid #e7e5e4",borderRadius:"8px",transition:"background-color 0.2s"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[a.jsxs("h4",{onClick:()=>{x(Se>=0?Se:0),h(z),j(_t(z.id)),T(!1),c(!0)},style:{fontSize:"14px",fontWeight:"bold",margin:0,flex:1,cursor:"pointer"},children:[Se>=0?Se+1:W+1,". ",z.title]}),a.jsx("button",{onClick:F=>{F.stopPropagation(),_t(z.id)?Za(z.id):Pa(z.id),se(re=>re+1)},style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",padding:"4px",marginLeft:"0.5rem"},title:_t(z.id)?r("labs.tipSaved"):r("labs.tipSave"),children:_t(z.id)?"":""})]}),a.jsxs("p",{onClick:()=>{x(Se>=0?Se:0),h(z),j(_t(z.id)),T(!1),c(!0)},style:{fontSize:"12px",color:"#374151",marginBottom:"0.5rem",lineHeight:"1.5",cursor:"pointer"},children:[z.content.substring(0,100),"..."]}),z.category&&a.jsx("span",{style:{padding:"2px 6px",backgroundColor:"#e5e7eb",borderRadius:"4px",fontSize:"10px",color:"#6b7280"},children:z.category})]},z.id)}),q==="saved"&&_i().length===0&&a.jsx("p",{style:{fontSize:"14px",color:"#78716c",textAlign:"center",padding:"2rem 0"},children:r("labs.noSavedTips")})]},fe)]})}),ve&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>xe(!1),children:a.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"1.5rem",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto",position:"relative"},onClick:z=>z.stopPropagation(),children:[a.jsx("button",{onClick:()=>xe(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6b7280"},children:""}),a.jsx(Zv,{})]})}),Q&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>Ne(!1),children:a.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"2rem",width:"100%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto",position:"relative"},onClick:z=>z.stopPropagation(),children:[a.jsx("button",{onClick:()=>Ne(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6b7280"},children:""}),a.jsxs("h2",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"1.5rem",textAlign:"center"},children:[" ",r("labs.appIconGenerator")]}),a.jsx(iy,{})]})})]})}function Si({text:r,children:l,position:d="bottom"}){const[c,y]=m.useState(!1),[h,f]=m.useState({x:0,y:0}),x=p=>{p.stopPropagation(),p.preventDefault();const k=p.currentTarget.getBoundingClientRect();f({x:k.left,y:k.top}),y(!c)},w=p=>{p.stopPropagation(),p.preventDefault();const k=p.currentTarget.getBoundingClientRect();f({x:k.left,y:k.top}),y(!0)},j=p=>{const k=p.currentTarget.getBoundingClientRect();f({x:k.left,y:k.top}),y(!0)},v=()=>{const p={position:"fixed",left:`${h.x}px`,backgroundColor:"#1f2937",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",maxWidth:"250px",zIndex:1e3,pointerEvents:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",whiteSpace:"pre-wrap"};switch(d){case"top":return{...p,bottom:`${window.innerHeight-h.y+20}px`};case"bottom":return{...p,top:`${h.y+20}px`};case"left":return{...p,right:`${window.innerWidth-h.x+20}px`,top:`${h.y}px`,left:"auto"};case"right":return{...p,left:`${h.x+20}px`,top:`${h.y}px`};default:return{...p,top:`${h.y+20}px`}}};return a.jsxs("span",{className:"help-tooltip-trigger",onClick:x,onTouchStart:w,onMouseEnter:j,onMouseLeave:()=>y(!1),style:{userSelect:"none",WebkitTapHighlightColor:"transparent"},children:[l||"",c&&a.jsx("div",{className:"help-tooltip-content",style:v(),children:r})]})}function ly({onShowOnboarding:r}={}){const{showKnowledge:l,toggleKnowledge:d,showNutrientPreview:c,toggleNutrientPreview:y,fontSize:h,setFontSize:f,darkMode:x,toggleDarkMode:w,tipsEnabled:j,toggleTips:v,debugMode:p,toggleDebugMode:k,nutrientDisplayMode:T,setNutrientDisplayMode:q}=sl(),[ne,fe]=m.useState(h||"medium"),[se,te]=m.useState("default"),[oe,ve]=m.useState(()=>{const je=localStorage.getItem("settings_notification_enabled");return je?JSON.parse(je):!1});m.useEffect(()=>{h&&fe(h)},[h]),m.useEffect(()=>{"Notification"in window&&te(Notification.permission)},[]);const xe=async()=>{if(!("Notification"in window)){alert("");return}oe?(ve(!1),localStorage.setItem("settings_notification_enabled",JSON.stringify(!1))):await su()?(ve(!0),te(Notification.permission),localStorage.setItem("settings_notification_enabled",JSON.stringify(!0))):alert("")},de=je=>{fe(je),f(je)};return a.jsx("div",{className:"settings-screen-container",children:a.jsxs("div",{className:"settings-screen-content",children:[a.jsx("h1",{className:"settings-screen-title",children:""}),a.jsxs("div",{className:"settings-screen-section",children:[a.jsx("h2",{className:"settings-screen-section-title",children:""}),a.jsxs("div",{className:"settings-screen-button-row",children:[a.jsx("button",{className:`settings-screen-option-button ${ne==="small"?"active":""}`,onClick:()=>de("small"),children:""}),a.jsx("button",{className:`settings-screen-option-button ${ne==="medium"?"active":""}`,onClick:()=>de("medium"),children:""}),a.jsx("button",{className:`settings-screen-option-button ${ne==="large"?"active":""}`,onClick:()=>de("large"),children:""}),a.jsx("button",{className:`settings-screen-option-button ${ne==="xlarge"?"active":""}`,onClick:()=>de("xlarge"),children:""})]})]}),a.jsxs("div",{className:"settings-screen-section",children:[a.jsx("h2",{className:"settings-screen-section-title",children:""}),a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"600",color:"#374151"},children:["",a.jsx(Si,{text:""})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",padding:"0.75rem",backgroundColor:T==="simple"?"#dbeafe":"transparent",borderRadius:"8px",cursor:"pointer",border:T==="simple"?"2px solid #3b82f6":"2px solid #e5e7eb"},children:[a.jsx("input",{type:"radio",name:"nutrientDisplayMode",checked:T==="simple",onChange:()=>q("simple"),style:{marginTop:"0.25rem",cursor:"pointer"}}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",marginBottom:"0.25rem"},children:""}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",lineHeight:"1.4"},children:Wc("simple")})]})]}),a.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",padding:"0.75rem",backgroundColor:T==="standard"?"#dbeafe":"transparent",borderRadius:"8px",cursor:"pointer",border:T==="standard"?"2px solid #3b82f6":"2px solid #e5e7eb"},children:[a.jsx("input",{type:"radio",name:"nutrientDisplayMode",checked:T==="standard",onChange:()=>q("standard"),style:{marginTop:"0.25rem",cursor:"pointer"}}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",marginBottom:"0.25rem"},children:""}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",lineHeight:"1.4"},children:Wc("standard")})]})]}),a.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",padding:"0.75rem",backgroundColor:T==="detailed"?"#dbeafe":"transparent",borderRadius:"8px",cursor:"pointer",border:T==="detailed"?"2px solid #3b82f6":"2px solid #e5e7eb"},children:[a.jsx("input",{type:"radio",name:"nutrientDisplayMode",checked:T==="detailed",onChange:()=>q("detailed"),style:{marginTop:"0.25rem",cursor:"pointer"}}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",marginBottom:"0.25rem"},children:""}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",lineHeight:"1.4"},children:Wc("detailed")})]})]})]})]})]}),a.jsxs("div",{className:"settings-screen-section",children:[a.jsx("h2",{className:"settings-screen-section-title",children:""}),a.jsxs("div",{className:"settings-screen-switch-row",children:[a.jsxs("div",{className:"settings-screen-switch-label-group",children:[a.jsxs("label",{className:"settings-screen-switch-label",children:["",a.jsx(Si,{text:""})]}),a.jsx("div",{className:"settings-screen-switch-description",children:""})]}),a.jsxs("label",{className:"settings-screen-switch",children:[a.jsx("input",{type:"checkbox",checked:l,onChange:d}),a.jsx("span",{className:"settings-screen-switch-slider"})]})]}),a.jsxs("div",{className:"settings-screen-switch-row",children:[a.jsxs("div",{className:"settings-screen-switch-label-group",children:[a.jsxs("label",{className:"settings-screen-switch-label",children:["",a.jsx(Si,{text:""})]}),a.jsx("div",{className:"settings-screen-switch-description",children:""})]}),a.jsxs("label",{className:"settings-screen-switch",children:[a.jsx("input",{type:"checkbox",checked:c,onChange:y}),a.jsx("span",{className:"settings-screen-switch-slider"})]})]}),a.jsxs("div",{className:"settings-screen-switch-row",children:[a.jsxs("div",{className:"settings-screen-switch-label-group",children:[a.jsxs("label",{className:"settings-screen-switch-label",children:["",a.jsx(Si,{text:""})]}),a.jsx("div",{className:"settings-screen-switch-description",children:""})]}),a.jsxs("label",{className:"settings-screen-switch",children:[a.jsx("input",{type:"checkbox",checked:x,onChange:w}),a.jsx("span",{className:"settings-screen-switch-slider"})]})]}),a.jsxs("div",{className:"settings-screen-switch-row",children:[a.jsxs("div",{className:"settings-screen-switch-label-group",children:[a.jsxs("label",{className:"settings-screen-switch-label",children:["Tips",a.jsx(Si,{text:"AITips"})]}),a.jsx("div",{className:"settings-screen-switch-description",children:"AITips"})]}),a.jsxs("label",{className:"settings-screen-switch",children:[a.jsx("input",{type:"checkbox",checked:j,onChange:v}),a.jsx("span",{className:"settings-screen-switch-slider"})]})]}),a.jsxs("div",{className:"settings-screen-switch-row",children:[a.jsxs("div",{className:"settings-screen-switch-label-group",children:[a.jsxs("label",{className:"settings-screen-switch-label",children:["",a.jsx(Si,{text:"30"})]}),a.jsx("div",{className:"settings-screen-switch-description",children:"30"})]}),a.jsxs("label",{className:"settings-screen-switch",children:[a.jsx("input",{type:"checkbox",checked:p,onChange:k}),a.jsx("span",{className:"settings-screen-switch-slider"})]})]})]}),a.jsxs("div",{className:"settings-screen-section",children:[a.jsx("h2",{className:"settings-screen-section-title",children:""}),a.jsxs("div",{className:"settings-screen-switch-row",children:[a.jsxs("div",{className:"settings-screen-switch-label-group",children:[a.jsxs("label",{className:"settings-screen-switch-label",children:["",a.jsx(Si,{text:""})]}),a.jsx("div",{className:"settings-screen-switch-description",children:se==="granted"?"":se==="denied"?"":""})]}),a.jsxs("label",{className:"settings-screen-switch",children:[a.jsx("input",{type:"checkbox",checked:oe&&se==="granted",onChange:xe,disabled:se==="denied"}),a.jsx("span",{className:"settings-screen-switch-slider"})]})]}),se==="denied"&&a.jsx("div",{style:{marginTop:"0.5rem",padding:"0.75rem",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px",fontSize:"0.875rem",color:"#991b1b"},children:" "})]}),a.jsxs("div",{className:"settings-screen-section",children:[a.jsx("h2",{className:"settings-screen-section-title",children:""}),a.jsxs("div",{className:"settings-screen-button-row",children:[a.jsx("button",{className:"settings-screen-option-button",onClick:()=>{const je=new CustomEvent("navigateToScreen",{detail:"dataExport"});window.dispatchEvent(je)},children:""}),a.jsx("button",{className:"settings-screen-option-button",onClick:()=>{const je=new CustomEvent("navigateToScreen",{detail:"dataImport"});window.dispatchEvent(je)},children:""})]})]}),a.jsxs("div",{className:"settings-screen-section",children:[a.jsx("h2",{className:"settings-screen-section-title",children:""}),a.jsxs("div",{className:"settings-screen-button-row",children:[a.jsx("button",{className:"settings-screen-option-button",onClick:()=>{r&&(localStorage.removeItem("primal_logic_onboarding_completed"),r())},children:""}),a.jsx("button",{className:"settings-screen-option-button",onClick:()=>{const je=new CustomEvent("navigateToScreen",{detail:"terms"});window.dispatchEvent(je)},children:""}),a.jsx("button",{className:"settings-screen-option-button",onClick:()=>{const je=new CustomEvent("navigateToScreen",{detail:"privacy"});window.dispatchEvent(je)},children:""})]})]})]})})}function sy({onAuthSuccess:r}){const[l,d]=m.useState("login"),[c,y]=m.useState(""),[h,f]=m.useState(""),[x,w]=m.useState(""),[j,v]=m.useState(!1),[p,k]=m.useState(null),[T,q]=m.useState(null),[ne,fe]=m.useState(null);m.useEffect(()=>{},[r]);const se=async()=>{};return ne?a.jsx("div",{className:"auth-screen",children:a.jsxs("div",{className:"auth-container",children:[a.jsx("h2",{className:"auth-title",children:""}),a.jsxs("p",{className:"auth-message",children:[": ",ne.user.email]}),a.jsx("button",{onClick:se,className:"auth-button auth-button-secondary",children:""})]})}):a.jsx("div",{className:"auth-screen",children:a.jsxs("div",{className:"auth-container",children:[a.jsx("h2",{className:"auth-title",children:""}),a.jsx("p",{className:"auth-message",children:"Supabase "}),r&&a.jsx("button",{onClick:r,className:"auth-button auth-button-primary",children:""})]})})}function ry({onAccept:r,onDecline:l}){const[d,c]=m.useState(!1),[y,h]=m.useState(!1),f=()=>{d&&y&&(localStorage.setItem("primal_logic_consent_accepted","true"),localStorage.setItem("primal_logic_consent_date",new Date().toISOString()),r())},x=()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"privacy"}))},w=()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"terms"}))};return a.jsx("div",{className:"consent-screen-container",children:a.jsxs("div",{className:"consent-screen-content",children:[a.jsx("h1",{className:"consent-screen-title",children:"CarnivoreOS"}),a.jsx("p",{className:"consent-screen-description",children:""}),a.jsxs("div",{className:"consent-screen-checkboxes",children:[a.jsxs("label",{className:"consent-screen-checkbox",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:j=>c(j.target.checked)}),a.jsxs("span",{children:[a.jsx("a",{href:"#",onClick:j=>{j.preventDefault(),x()},children:""}),""]})]}),a.jsxs("label",{className:"consent-screen-checkbox",children:[a.jsx("input",{type:"checkbox",checked:y,onChange:j=>h(j.target.checked)}),a.jsxs("span",{children:[a.jsx("a",{href:"#",onClick:j=>{j.preventDefault(),w()},children:""}),""]})]})]}),a.jsxs("div",{className:"consent-screen-buttons",children:[a.jsx("button",{className:"consent-screen-button consent-screen-button-decline",onClick:l,children:""}),a.jsx("button",{className:"consent-screen-button consent-screen-button-accept",onClick:f,disabled:!d||!y,children:""})]})]})})}const ws=[{title:"",description:"",icon:"",isLanguageStep:!0},{title:"",description:"",icon:"",isPersonaStep:!0},{title:"",description:"",icon:"",isNotificationStep:!0}];function cy({onComplete:r}){const[l,d]=m.useState(0),[c,y]=m.useState(Ci()),[h,f]=m.useState(!1),[x,w]=m.useState(null);m.useEffect(()=>{window.__onboardingCurrentStep=l,window.dispatchEvent(new CustomEvent("onboardingStepChanged"))},[l]);const j=[{code:"ja",name:"Japanese",nativeName:""},{code:"en",name:"English",nativeName:"English"},{code:"fr",name:"French",nativeName:"Franais"},{code:"de",name:"German",nativeName:"Deutsch"},{code:"zh",name:"Chinese",nativeName:""}],v=fe=>{y(fe),Ng(fe);const se=new CustomEvent("languageChanged",{detail:fe});window.dispatchEvent(se)},p=async()=>{if(ne.isPersonaStep&&x){const fe=jv(x);Fg(fe)}if(ne.isNotificationStep){const{requestNotificationPermission:fe}=await Xe(async()=>{const{requestNotificationPermission:se}=await Promise.resolve().then(()=>kg);return{requestNotificationPermission:se}},void 0);await fe()}if(l<ws.length-1){const fe=l+1;d(fe),window.__onboardingCurrentStep=fe,window.dispatchEvent(new CustomEvent("onboardingStepChanged"))}else q()},k=()=>{if(l>0){const fe=l-1;d(fe),window.__onboardingCurrentStep=fe,window.dispatchEvent(new CustomEvent("onboardingStepChanged"))}},T=()=>{q()},q=()=>{localStorage.setItem("primal_logic_onboarding_completed","true"),r()},ne=ws[l];return m.useEffect(()=>{if(ne.isAISpotlightStep&&!h){const fe=()=>{f(!0)};return window.addEventListener("onboardingAIClicked",fe),()=>{window.removeEventListener("onboardingAIClicked",fe)}}},[ne.isAISpotlightStep,h]),a.jsx("div",{className:"onboarding-screen-container",children:a.jsxs("div",{className:"onboarding-screen-content",children:[a.jsx("div",{className:"onboarding-screen-icon",children:ne.icon}),a.jsx("h1",{className:"onboarding-screen-title",children:ne.title}),a.jsx("p",{className:"onboarding-screen-description",children:ne.description}),ne.isLanguageStep&&a.jsx("div",{className:"onboarding-language-selector",children:j.map(fe=>a.jsxs("button",{className:`onboarding-language-button ${c===fe.code?"active":""}`,onClick:()=>v(fe.code),children:[a.jsx("div",{className:"onboarding-language-name",children:fe.nativeName}),a.jsx("div",{className:"onboarding-language-subtitle",children:fe.name}),c===fe.code&&a.jsx("span",{className:"onboarding-language-check",children:""})]},fe.code))}),ne.isPersonaStep&&a.jsxs("div",{className:"onboarding-persona-selector",children:[a.jsxs("button",{className:`onboarding-persona-button ${x==="carnivore_practitioner"?"active":""}`,onClick:()=>w("carnivore_practitioner"),style:{padding:"1.25rem",marginBottom:"0.75rem",border:x==="carnivore_practitioner"?"2px solid #3b82f6":"2px solid #e5e7eb",borderRadius:"12px",backgroundColor:x==="carnivore_practitioner"?"#dbeafe":"white",cursor:"pointer",textAlign:"left",width:"100%"},children:[a.jsx("div",{style:{fontSize:"24px",marginBottom:"0.5rem"},children:""}),a.jsx("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"0.25rem"},children:""}),a.jsx("div",{style:{fontSize:"13px",color:"#6b7280",lineHeight:"1.4"},children:""}),a.jsx("div",{style:{marginTop:"0.5rem",fontSize:"12px",color:"#3b82f6",fontWeight:"500"},children:" +"})]}),a.jsxs("button",{className:`onboarding-persona-button ${x==="beginner"?"active":""}`,onClick:()=>w("beginner"),style:{padding:"1.25rem",marginBottom:"0.75rem",border:x==="beginner"?"2px solid #3b82f6":"2px solid #e5e7eb",borderRadius:"12px",backgroundColor:x==="beginner"?"#dbeafe":"white",cursor:"pointer",textAlign:"left",width:"100%"},children:[a.jsx("div",{style:{fontSize:"24px",marginBottom:"0.5rem"},children:""}),a.jsx("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"0.25rem"},children:""}),a.jsx("div",{style:{fontSize:"13px",color:"#6b7280",lineHeight:"1.4"},children:""}),a.jsx("div",{style:{marginTop:"0.5rem",fontSize:"12px",color:"#3b82f6",fontWeight:"500"},children:" 10"})]}),a.jsxs("button",{className:`onboarding-persona-button ${x==="data_focused"?"active":""}`,onClick:()=>w("data_focused"),style:{padding:"1.25rem",border:x==="data_focused"?"2px solid #3b82f6":"2px solid #e5e7eb",borderRadius:"12px",backgroundColor:x==="data_focused"?"#dbeafe":"white",cursor:"pointer",textAlign:"left",width:"100%"},children:[a.jsx("div",{style:{fontSize:"24px",marginBottom:"0.5rem"},children:""}),a.jsx("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"0.25rem"},children:""}),a.jsx("div",{style:{fontSize:"13px",color:"#6b7280",lineHeight:"1.4"},children:""}),a.jsx("div",{style:{marginTop:"0.5rem",fontSize:"12px",color:"#3b82f6",fontWeight:"500"},children:" 60"})]})]}),ne.isAISpotlightStep&&a.jsx("div",{className:"onboarding-ai-spotlight-guide",children:a.jsxs("div",{className:"onboarding-ai-instruction",children:[a.jsx("p",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"1rem"},children:" AI"}),a.jsxs("p",{style:{fontSize:"14px",color:"var(--color-text-secondary)",lineHeight:"1.6"},children:["AI",a.jsx("br",{}),""]})]})}),ne.isChoiceStep&&h&&a.jsxs("div",{className:"onboarding-choice-selector",children:[a.jsxs("button",{className:"onboarding-choice-button onboarding-choice-button-spotlight",onClick:p,children:[a.jsx("div",{className:"onboarding-choice-icon",children:""}),a.jsx("div",{className:"onboarding-choice-title",children:""}),a.jsx("div",{className:"onboarding-choice-description",children:""})]}),a.jsxs("button",{className:"onboarding-choice-button onboarding-choice-button-primary onboarding-choice-button-spotlight",onClick:q,children:[a.jsx("div",{className:"onboarding-choice-icon",children:""}),a.jsx("div",{className:"onboarding-choice-title",children:""}),a.jsx("div",{className:"onboarding-choice-description",children:""})]})]}),a.jsx("div",{className:"onboarding-screen-progress",children:ws.map((fe,se)=>a.jsx("div",{className:`onboarding-screen-progress-dot ${se===l?"active":se<l?"completed":""}`},se))}),!ne.isChoiceStep&&a.jsxs("div",{className:"onboarding-screen-buttons",children:[l>0&&a.jsx("button",{className:"onboarding-screen-button onboarding-screen-button-back",onClick:k,children:""}),a.jsx("button",{className:"onboarding-screen-button onboarding-screen-button-secondary",onClick:T,children:""}),a.jsx("button",{className:"onboarding-screen-button onboarding-screen-button-primary",onClick:p,disabled:ne.isPersonaStep&&!x,style:{opacity:ne.isPersonaStep&&!x?.5:1,cursor:ne.isPersonaStep&&!x?"not-allowed":"pointer"},children:l<ws.length-1?"":ne.isNotificationStep?"":""})]})]})})}function uy({onOpenFatTab:r,onAddFood:l}={}){const{addFood:d,userProfile:c}=ti(),{aiMode:y}=sl(),[h,f]=m.useState(()=>{const b=localStorage.getItem("ai_chat_ui_mode");return b==="modal"||b==="bubble"?b:"bubble"}),[x,w]=m.useState(()=>{const b=localStorage.getItem("ai_chat_bubble_position");if(b)try{return JSON.parse(b)}catch{return{x:window.innerWidth-280-20,y:window.innerHeight-400-100}}return{x:window.innerWidth-280-20,y:window.innerHeight-400-100}}),[j,v]=m.useState(()=>{const b=localStorage.getItem("ai_chat_bubble_size");if(b)try{const Y=JSON.parse(b),ae=180,Ae=220,pe=window.innerWidth,ie=window.innerHeight;return{width:Math.max(ae,Math.min(pe,Y.width||280)),height:Math.max(Ae,Math.min(ie,Y.height||400))}}catch{return{width:280,height:400}}return{width:280,height:400}}),[p,k]=m.useState(!1),[T,q]=m.useState(!1),[ne,fe]=m.useState(null),[se,te]=m.useState({x:0,y:0}),[oe,ve]=m.useState({x:0,y:0}),xe=m.useRef(null),[de,je]=m.useState(()=>{const b=localStorage.getItem("ai_chat_fab_position");if(b)try{return JSON.parse(b)}catch{return{x:window.innerWidth-80,y:window.innerHeight-100}}return{x:window.innerWidth-80,y:window.innerHeight-100}}),[Q,Ne]=m.useState(!1),[Oe,O]=m.useState({x:0,y:0}),[ze,z]=m.useState({x:0,y:0}),W=m.useRef(!1),Se=m.useRef(null),[F,ue]=m.useState(!1),[re,ge]=m.useState(null),[he,we]=m.useState(!1),[R,Z]=m.useState(!1),[J,le]=m.useState({saltUsed:!1,saltType:"",saltAmount:0,fatTrimmed:0,cookingMethod:"grilled",butterUsed:!1,additionalFoods:[]}),[A,ye]=m.useState(!1),[_,U]=m.useState(""),[E,V]=m.useState(0),[me,Be]=m.useState("g"),[M,G]=m.useState(!1),[be,ce]=m.useState(null),[nt,St]=m.useState(!1),ct=m.useRef(null),[Ot,vt]=m.useState(!1);m.useEffect(()=>{const b=Y=>{ct.current&&!ct.current.contains(Y.target)&&St(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const ot=async()=>{St(!1);try{const b=document.createElement("input");b.type="file",b.accept="image/*",b.onchange=async Y=>{const ae=Y.target.files?.[0];ae&&await Vn(ae)},b.click()}catch{alert("")}},zt=async()=>{St(!1);try{const b=document.createElement("input");b.type="file",b.accept=".csv,.txt,.json",b.onchange=async Y=>{const ae=Y.target.files?.[0];ae&&alert(`
: ${ae.name}`)},b.click()}catch{alert("")}},ai=()=>{St(!1),vt(!0)},Vn=async b=>{G(!0),ce(null);try{const{analyzeFoodImage:Y}=await Xe(async()=>{const{analyzeFoodImage:Ke}=await Promise.resolve().then(()=>As);return{analyzeFoodImage:Ke}},void 0),ae=await Y(b),{getFoodMasterItem:Ae}=await Xe(async()=>{const{getFoodMasterItem:Ke}=await Promise.resolve().then(()=>fg);return{getFoodMasterItem:Ke}},void 0),{searchFoodMasterByName:pe}=await Xe(async()=>{const{searchFoodMasterByName:Ke}=await Promise.resolve().then(()=>fg);return{searchFoodMasterByName:Ke}},void 0);let ie=pe(ae.foodName);ie||(ae.type==="ruminant"||ae.type==="animal"?ie=Ae("beef","ribeye"):ae.type==="dairy"?ie=Ae("dairy","butter"):ie=Ae("beef","ribeye"));const Ce=ae.estimatedWeight/100,et={protein:"protein",fat:"fat",carbs:"carbs",fiber:"fiber",sodium:"sodium",potassium:"potassium",magnesium:"magnesium",zinc:"zinc",iron:"iron",calcium:"calcium",phosphorus:"phosphorus",selenium:"selenium",copper:"copper",manganese:"manganese",vitaminA:"vitaminA",vitaminD:"vitaminD",vitaminE:"vitaminE",vitaminK:"vitaminK",vitaminK2:"vitaminK2",vitaminB1:"vitaminB1",vitaminB2:"vitaminB2",vitaminB3:"vitaminB3",vitaminB5:"vitaminB5",vitaminB6:"vitaminB6",vitaminB7:"vitaminB7",vitaminB9:"vitaminB9",vitaminB12:"vitaminB12",vitaminC:"vitaminC",choline:"choline",taurine:"taurine",iodine:"iodine",omega3:"omega3",omega6:"omega6",glycine:"glycine",methionine:"methionine",chromium:"chromium",molybdenum:"molybdenum",boron:"boron",vanadium:"vanadium"},Qt=ie?{protein:(ie.protein?.value||0)*Ce,fat:(ie.fat?.value||0)*Ce,carbs:(ie.carbs?.value||0)*Ce,netCarbs:(ie.carbs?.value||0)*Ce,zinc:(ie.zinc?.value||0)*Ce,sodium:(ie.sodium?.value||0)*Ce,magnesium:(ie.magnesium?.value||0)*Ce,hemeIron:(ie.iron?.value||0)*Ce,nonHemeIron:0,vitaminB12:(ie.vitamin_b12?.value||0)*Ce,potassium:(ie.potassium?.value||0)*Ce,calcium:(ie.calcium?.value||0)*Ce,phosphorus:(ie.phosphorus?.value||0)*Ce,vitaminA:(ie.vitamin_a?.value||0)*Ce,vitaminD:(ie.vitamin_d?.value||0)*Ce,vitaminK2:(ie.vitamin_k2?.value||0)*Ce,omega3:(ie.omega_3?.value||0)*Ce,omega6:(ie.omega_6?.value||0)*Ce,choline:(ie.choline?.value||0)*Ce,iodine:(ie.iodine?.value||0)*Ce,vitaminB7:(ie.vitamin_b7?.value||0)*Ce,glycine:(ie.glycine?.value||0)*Ce,methionine:(ie.methionine?.value||0)*Ce}:{},qt={};ae.nutrients&&Object.entries(ae.nutrients).forEach(([Ke,ht])=>{const Pt=et[Ke]||Ke;Pt&&typeof ht=="number"&&(qt[Pt]=ht*Ce)});const $e={item:ae.foodName,amount:ae.estimatedWeight,unit:"g",type:"ruminant",nutrients:{...Qt,...qt}};if(ie){const Ke=ae.estimatedWeight/100;$e.nutrients={protein:(ie.protein?.value||0)*Ke,fat:(ie.fat?.value||0)*Ke,carbs:0,netCarbs:0,zinc:(ie.zinc?.value||0)*Ke,sodium:(ie.sodium?.value||0)*Ke,magnesium:(ie.magnesium?.value||0)*Ke,hemeIron:(ie.iron?.value||0)*Ke,nonHemeIron:0,vitaminB12:(ie.vitamin_b12?.value||0)*Ke}}if(!l){alert(": ");return}ge($e),Z(!0),G(!1)}catch(Y){G(!1);const ae=Wa(Y)||"";ce(ae),confirm(`${ae}

`)&&setTimeout(()=>{Jt()},100)}},Jt=async()=>{St(!1),ce(null);try{const b=document.createElement("input");b.type="file",b.accept="image/*",b.capture="environment",b.onchange=async Y=>{const ae=Y.target.files?.[0];ae&&await Vn(ae)},b.click()}catch(b){const Y=Wa(b)||"";ce(Y),alert(Y)}},[Wt,en]=m.useState(!1),[wt,Ln]=m.useState("input"),[Et,tn]=m.useState(()=>{const b=localStorage.getItem("ai_reading_position");if(b)try{return JSON.parse(b)}catch{}return{x:20,y:100}}),[ft,Vt]=m.useState(()=>{const b=localStorage.getItem("ai_reading_size");if(b)try{return JSON.parse(b)}catch{}return{width:300,height:200}}),[pt,qn]=m.useState(!1),[$t,ba]=m.useState(!1),[X,ee]=m.useState({x:0,y:0}),Fn=m.useRef(null),[yt,Cn]=m.useState([]),[nn,Pn]=m.useState(""),[gn,Zn]=m.useState(!1),[It,Gn]=m.useState(!1),S=m.useRef(null),ke=()=>{Ln("input"),en(!0)};m.useEffect(()=>(nl.isAvailable()&&(S.current=new nl({language:"ja-JP",continuous:!1,interimResults:!0}),S.current.onResult(b=>{b.isFinal?(Pn(b.text),Gn(!1),S.current?.stop()):Pn(b.text)}),S.current.onError(b=>{Gn(!1);const Y=Wa(b)||`: ${b}`;alert(Y)}),S.current.onEnd(()=>{Gn(!1)})),()=>{S.current&&S.current.stop()}),[]);const Re=()=>{if(!S.current){alert("");return}if(It)S.current.stop(),Gn(!1);else try{S.current.start(),Gn(!0)}catch(b){const Y=Wa(b)||"";alert(Y)}},[Me,Ge]=m.useState([]),[De,Fe]=m.useState(null),[He,Ie]=m.useState(null),[Ue,Ct]=m.useState([]),[pn,kt]=m.useState(!1);m.useEffect(()=>{if(Wt&&!He){const b=Ds();Ie(b),kt(_t(b.id))}},[Wt]);const Os=async b=>{const Y=`Did you know? ${b.title}

${b.content} #PrimalLogic`;if(navigator.share)try{await navigator.share({title:"CarnivoreOS Tip",text:Y})}catch{}else try{await navigator.clipboard.writeText(Y),alert("")}catch{alert("")}},xa=({tip:b,onNextTip:Y,onPrevTip:ae,onToggleSave:Ae,isSaved:pe,canGoBack:ie})=>{const Ce=Ht.findIndex(Qt=>Qt.id===b.id),et=Ce>=0?Ce+1:0;return a.jsxs("div",{className:"ai-chat-tips-card",children:[a.jsxs("div",{className:"ai-chat-tips-header",children:[a.jsxs("div",{className:"ai-chat-tips-title",children:[" ",b.title,a.jsxs("span",{style:{fontSize:"12px",color:"#6b7280",marginLeft:"0.5rem",fontWeight:"normal"},children:["(",et," / ",Ht.length,")"]})]}),a.jsx("button",{onClick:()=>Ae(b.id,pe),className:`ai-chat-tips-save-button ${pe?"saved":""}`,title:pe?"":"",children:pe?"":""})]}),a.jsx("div",{className:"ai-chat-tips-content",children:b.content}),a.jsxs("div",{className:"ai-chat-tips-footer",children:[ie&&a.jsx("button",{onClick:ae,style:{padding:"6px 12px",backgroundColor:"#f3f4f6",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",color:"#374151",marginRight:"0.5rem"},children:" "}),a.jsx("button",{onClick:Y,className:"ai-chat-tips-next-button",children:"Tips "}),a.jsx("button",{onClick:()=>Os(b),style:{padding:"6px 12px",backgroundColor:"#fee2e2",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",color:"#dc2626",marginLeft:"0.5rem"},title:"SNS",children:" Share"})]})]})},Kn=async()=>{if(!nn.trim()||gn)return;const b=nn.trim();Pn(""),Cn(ae=>[...ae,{role:"user",content:b}]),Zn(!0);const Y=He?Qa(He.id):Ds();Fe(Y),Ie(Y),kt(_t(Y.id));try{const{getDailyLogs:ae}=await Xe(async()=>{const{getDailyLogs:$e}=await Promise.resolve().then(()=>nu);return{getDailyLogs:$e}},void 0),pe={logs:(await ae()).map($e=>({date:$e.date,diary:$e.diary,foods:$e.fuel.map(Ke=>Ke.item)}))},{chatWithAIStructured:ie}=await Xe(async()=>{const{chatWithAIStructured:$e}=await Promise.resolve().then(()=>As);return{chatWithAIStructured:$e}},void 0),Ce=await ie(b,yt,!1,!0,y,pe,c?{height:c.height,weight:c.weight,age:c.age,gender:c.gender}:void 0);if(Zn(!1),Fe(null),Cn($e=>[...$e,{role:"assistant",content:Ce.answer}]),Ce.todos&&Ce.todos.length>0){Ge(an=>[...an,{id:`todos_${Date.now()}`,todos:Ce.todos}]);const{getDailyLogByDate:$e,saveDailyLog:Ke}=await Xe(async()=>{const{getDailyLogByDate:an,saveDailyLog:hn}=await Promise.resolve().then(()=>nu);return{getDailyLogByDate:an,saveDailyLog:hn}},void 0),ht=new Date().toISOString().split("T")[0];let Pt=!1;for(const an of Ce.todos)try{if(an.actionType==="update_input"&&an.actionParams){const hn=await $e(ht),Ni=hn?.status||{},wa=an.actionParams,ul={...Ni,...wa},on=hn?{...hn,status:ul}:{date:ht,status:ul,fuel:[],diary:"",calculatedMetrics:{protein:0,fat:0,carbs:0,energy:0,pfr:0}};await Ke(on),Pt=!0}if(an.actionType==="add_food"&&an.actionParams){const{item:hn,amount:Ni,unit:wa}=an.actionParams;await d({item:hn,amount:Ni||0,unit:wa||"g",type:"ruminant",nutrients:{}}),Pt=!0}}catch(hn){console.error("Omni-Input execution failed:",hn)}Pt&&(window.dispatchEvent(new CustomEvent("externalDiaryUpdate")),Cn(an=>[...an,{role:"assistant",content:"  (Omni-Input Active)"}]))}const{getRemedyBySymptom:et}=await Xe(async()=>{const{getRemedyBySymptom:$e}=await import("./remedyLogic-BsZnelrK.js");return{getRemedyBySymptom:$e}},[]);if(["","","","","",""].some($e=>b.includes($e))){const $e=localStorage.getItem("primal_logic_tip_history"),Ke=$e?JSON.parse($e):[],ht={id:`chat_${Date.now()}`,title:b.substring(0,50),content:Ce.answer,category:"",viewed_at:new Date().toISOString()};Ke.unshift(ht),localStorage.setItem("primal_logic_tip_history",JSON.stringify(Ke.slice(0,50)))}}catch(ae){Zn(!1),Fe(null);let Ae="";ae instanceof Error&&(ae.message.includes("API")||ae.message.includes("API key")?Ae="Gemini APIAPI":ae.message.includes("network")||ae.message.includes("fetch")?Ae="":ae.message.includes("timeout")?Ae="":(ae.message.includes("quota")||ae.message.includes("rate limit"))&&(Ae="API")),Cn(pe=>[...pe,{role:"assistant",content:Ae}])}},Ti=b=>{if(b.preventDefault(),b.stopPropagation(),xe.current){const Y=xe.current.getBoundingClientRect(),ae="touches"in b?b.touches[0].clientX:b.clientX,Ae="touches"in b?b.touches[0].clientY:b.clientY;te({x:ae-Y.left,y:Ae-Y.top}),k(!0)}};m.useEffect(()=>{if(!p)return;const b=ae=>{ae.preventDefault();const Ae="touches"in ae?ae.touches[0].clientX:ae.clientX,pe="touches"in ae?ae.touches[0].clientY:ae.clientY,ie=Math.max(0,Math.min(window.innerWidth-j.width,Ae-se.x)),Ce=Math.max(0,Math.min(window.innerHeight-j.height,pe-se.y));w({x:ie,y:Ce})},Y=()=>{k(!1)};return window.addEventListener("mousemove",b),window.addEventListener("mouseup",Y),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",Y),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",Y),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",Y)}},[p,se,j]);const Jn=b=>{if(b.preventDefault(),b.stopPropagation(),Se.current){const Y=Se.current.getBoundingClientRect(),ae="touches"in b?b.touches[0].clientX:b.clientX,Ae="touches"in b?b.touches[0].clientY:b.clientY;O({x:ae-Y.left,y:Ae-Y.top}),z({x:ae,y:Ae}),W.current=!1,Ne(!0)}};m.useEffect(()=>{if(!Q)return;const b=ae=>{ae.preventDefault();const Ae="touches"in ae?ae.touches[0].clientX:ae.clientX,pe="touches"in ae?ae.touches[0].clientY:ae.clientY,ie=Math.abs(Ae-ze.x),Ce=Math.abs(pe-ze.y);Math.sqrt(ie*ie+Ce*Ce)>5&&(W.current=!0);const Qt=59,qt=Math.max(0,Math.min(window.innerWidth-Qt,Ae-Oe.x)),$e=Math.max(0,Math.min(window.innerHeight-Qt,pe-Oe.y));je({x:qt,y:$e})},Y=()=>{Ne(!1)};return window.addEventListener("mousemove",b),window.addEventListener("mouseup",Y),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",Y),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",Y),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",Y)}},[Q,Oe]),m.useEffect(()=>{!Q&&de&&localStorage.setItem("ai_chat_fab_position",JSON.stringify(de))},[de,Q]),m.useEffect(()=>{localStorage.setItem("ai_chat_ui_mode",h)},[h]),m.useEffect(()=>{!p&&x&&localStorage.setItem("ai_chat_bubble_position",JSON.stringify(x))},[x,p]),m.useEffect(()=>{!T&&j&&localStorage.setItem("ai_chat_bubble_size",JSON.stringify(j))},[j,T]),m.useEffect(()=>{if(!T||!ne)return;const b=ae=>{ae.preventDefault();const Ae="touches"in ae?ae.touches[0].clientX:ae.clientX,pe="touches"in ae?ae.touches[0].clientY:ae.clientY;if(xe.current){const ie=xe.current.getBoundingClientRect(),Ce=180,et=220,Qt=window.innerWidth,qt=window.innerHeight;let $e=j.width,Ke=j.height,ht=x.x,Pt=x.y;ne==="top-left"?($e=Math.max(Ce,Math.min(Qt,ie.right-Ae+oe.x)),Ke=Math.max(et,Math.min(qt,ie.bottom-pe+oe.y)),ht=Ae-oe.x,Pt=pe-oe.y):ne==="top-right"?($e=Math.max(Ce,Math.min(Qt,Ae-ie.left+oe.x)),Ke=Math.max(et,Math.min(qt,ie.bottom-pe+oe.y)),Pt=pe-oe.y):ne==="bottom-left"?($e=Math.max(Ce,Math.min(Qt,ie.right-Ae+oe.x)),Ke=Math.max(et,Math.min(qt,pe-ie.top+oe.y)),ht=Ae-oe.x):($e=Math.max(Ce,Math.min(Qt,Ae-ie.left+oe.x)),Ke=Math.max(et,Math.min(qt,pe-ie.top+oe.y))),ht=Math.max(0,Math.min(window.innerWidth-$e,ht)),Pt=Math.max(0,Math.min(window.innerHeight-Ke,Pt)),v({width:$e,height:Ke}),w({x:ht,y:Pt})}},Y=()=>{q(!1),fe(null)};return window.addEventListener("mousemove",b),window.addEventListener("mouseup",Y),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",Y),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",Y),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",Y)}},[T,ne,oe,j,x]),m.useEffect(()=>{!pt&&Et&&localStorage.setItem("ai_reading_position",JSON.stringify(Et))},[Et,pt]),m.useEffect(()=>{!$t&&ft&&localStorage.setItem("ai_reading_size",JSON.stringify(ft))},[ft,$t]);const Wn=b=>{if(b.preventDefault(),b.stopPropagation(),Fn.current){const Y=Fn.current.getBoundingClientRect(),ae="touches"in b?b.touches[0].clientX:b.clientX,Ae="touches"in b?b.touches[0].clientY:b.clientY;ee({x:ae-Y.left,y:Ae-Y.top}),qn(!0)}};m.useEffect(()=>{if(!pt)return;const b=ae=>{ae.preventDefault();const Ae="touches"in ae?ae.touches[0].clientX:ae.clientX,pe="touches"in ae?ae.touches[0].clientY:ae.clientY,ie=Math.max(0,Math.min(window.innerWidth-ft.width,Ae-X.x)),Ce=Math.max(0,Math.min(window.innerHeight-ft.height,pe-X.y));tn({x:ie,y:Ce})},Y=()=>{qn(!1)};return window.addEventListener("mousemove",b),window.addEventListener("mouseup",Y),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",Y),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",Y),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",Y)}},[pt,X,ft]);const Sa=b=>{b.preventDefault(),b.stopPropagation(),ba(!0)};m.useEffect(()=>{if(!$t)return;const b=ae=>{ae.preventDefault();const Ae="touches"in ae?ae.touches[0].clientX:ae.clientX,pe="touches"in ae?ae.touches[0].clientY:ae.clientY,ie=200,Ce=100,et=window.innerWidth-Et.x,Qt=window.innerHeight-Et.y,qt=Math.max(ie,Math.min(et,Ae-Et.x)),$e=Math.max(Ce,Math.min(Qt,pe-Et.y));Vt({width:qt,height:$e})},Y=()=>{ba(!1)};return window.addEventListener("mousemove",b),window.addEventListener("mouseup",Y),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",Y),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",Y),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",Y)}},[$t,Et]);const ja=()=>{for(let b=yt.length-1;b>=0;b--)if(yt[b].role==="assistant")return yt[b].content;return""};return a.jsxs(a.Fragment,{children:[wt==="reading"&&yt.length>0&&a.jsxs("div",{ref:Fn,className:"ai-reading-float",style:{position:"fixed",left:`${Et.x}px`,top:`${Et.y}px`,width:`${ft.width}px`,height:`${ft.height}px`,backgroundColor:"rgba(30, 30, 30, 0.95)",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",zIndex:9999,display:"flex",flexDirection:"column",overflow:"hidden",cursor:pt?"grabbing":"default",transition:pt||$t?"none":"all 0.2s ease"},children:[a.jsxs("div",{onMouseDown:Wn,onTouchStart:Wn,style:{padding:"8px 12px",backgroundColor:"rgba(255, 255, 255, 0.1)",cursor:pt?"grabbing":"grab",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",flexShrink:0},children:[a.jsx("span",{style:{fontSize:"12px",color:"#aaa",userSelect:"none"},children:"AI"}),a.jsx("button",{onClick:()=>Ln("input"),style:{padding:"4px 8px",backgroundColor:"var(--color-accent, #2196F3)",color:"white",border:"none",borderRadius:"4px",fontSize:"11px",cursor:"pointer",minWidth:"48px",minHeight:"32px"},children:""})]}),a.jsx("div",{style:{flex:1,padding:"12px",overflowY:"auto",fontSize:"14px",lineHeight:"1.6",color:"#fff",whiteSpace:"pre-wrap"},children:ja()}),a.jsx("div",{onMouseDown:Sa,onTouchStart:Sa,style:{position:"absolute",right:0,bottom:0,width:"20px",height:"20px",cursor:"nwse-resize",background:"linear-gradient(135deg, transparent 50%, rgba(255,255,255,0.3) 50%)"}})]}),Wt&&a.jsx(a.Fragment,{children:h==="modal"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"ai-chat-modal-overlay",onClick:()=>en(!1),"aria-label":""}),a.jsxs("div",{className:"ai-chat-modal",role:"dialog","aria-label":"AI","aria-modal":"false",children:[a.jsxs("div",{className:"ai-chat-header",children:[a.jsx("h3",{className:"ai-chat-header-title",children:"AI"}),a.jsxs("div",{className:"ai-chat-header-actions",children:[yt.some(b=>b.role==="assistant")&&a.jsx("button",{onClick:()=>{Ln("reading"),en(!1)},className:"ai-chat-ui-toggle-button",title:"",style:{fontSize:"12px",padding:"4px 8px"},children:" "}),a.jsx("button",{onClick:()=>f("bubble"),className:"ai-chat-ui-toggle-button",title:"UI",children:""}),a.jsx("button",{onClick:()=>en(!1),className:"ai-chat-close-button",children:""})]})]}),a.jsx("div",{className:"ai-chat-messages",children:yt.length===0?a.jsxs("div",{className:"ai-chat-empty-state",children:[a.jsx("p",{className:"ai-chat-empty-state-text",children:""}),a.jsx("p",{className:"ai-chat-empty-state-text",style:{fontSize:"11px",color:"#6b7280",marginTop:"0.5rem",lineHeight:"1.5"},children:""}),He&&a.jsx(xa,{tip:He,onNextTip:()=>{He&&Ct(Y=>[...Y,He]);const b=Qa(He.id);Ie(b),kt(_t(b.id))},onPrevTip:()=>{if(Ue.length>0){const b=Ue[Ue.length-1];Ct(Y=>Y.slice(0,-1)),Ie(b),kt(_t(b.id))}},onToggleSave:(b,Y)=>{Y?Za(b):Pa(b),kt(!Y)},isSaved:pn,canGoBack:Ue.length>0})]}):a.jsxs("div",{className:"ai-chat-message-list",children:[yt.map((b,Y)=>{Me.find(pe=>pe.id===`todos_${Y}`)?.todos;const ae=Y===yt.length-1&&b.role==="assistant",Ae=ae?Me[Me.length-1]?.todos||[]:[];return a.jsxs("div",{className:`ai-chat-message ${b.role==="user"?"ai-chat-message-user":"ai-chat-message-assistant"}`,children:[a.jsx("div",{className:"ai-chat-message-bubble",children:b.content}),ae&&Ae.length>0&&a.jsx("div",{className:"ai-chat-message ai-chat-message-assistant",children:Ae.map(pe=>a.jsxs("div",{className:"ai-chat-todo-card",children:[a.jsx("div",{className:"ai-chat-todo-title",children:pe.title}),pe.description&&a.jsx("div",{className:"ai-chat-todo-description",children:pe.description}),pe.action&&a.jsx("button",{onClick:()=>{if(pe.action?.type==="add_food"&&pe.action.params){const{item:ie,amount:Ce,unit:et}=pe.action.params;d&&ie&&Ce&&(d({item:ie,amount:Number(Ce),unit:et||"g",type:"animal"}),alert(`${ie} ${Ce}${et||"g"}`))}else if(pe.action?.type==="timer"&&pe.action.params){const{hours:ie}=pe.action.params;alert(`${ie}`)}else if(pe.action?.type==="set_protocol")window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"labs"})),alert("");else if(pe.action?.type==="open_screen"&&pe.action.params){const{screen:ie}=pe.action.params;ie?window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:ie})):alert("")}},className:"ai-chat-todo-action-button",children:""})]},pe.id))}),!gn&&He&&ae&&a.jsx("div",{className:"ai-chat-message ai-chat-message-assistant",children:a.jsx(xa,{tip:He,onNextTip:()=>{He&&Ct(ie=>[...ie,He]);const pe=Qa(He.id);Ie(pe),kt(_t(pe.id))},onPrevTip:()=>{if(Ue.length>0){const pe=Ue[Ue.length-1];Ct(ie=>ie.slice(0,-1)),Ie(pe),kt(_t(pe.id))}},onToggleSave:(pe,ie)=>{ie?Za(pe):Pa(pe),kt(!ie)},isSaved:pn,canGoBack:Ue.length>0})})]},Y)}),gn&&a.jsxs("div",{className:"ai-chat-message ai-chat-message-assistant",children:[a.jsxs("div",{className:"ai-chat-loading",children:[a.jsx("div",{className:"ai-chat-loading-spinner"}),a.jsx("span",{children:"..."})]}),De&&a.jsx(xa,{tip:De,onNextTip:()=>{const b=Qa(De.id);Fe(b),Ie(b),kt(_t(b.id))},onPrevTip:()=>{if(Ue.length>0){const b=Ue[Ue.length-1];Ct(Y=>Y.slice(0,-1)),Fe(b),Ie(b),kt(_t(b.id))}},onToggleSave:(b,Y)=>{Y?Za(b):Pa(b),kt(!Y)},isSaved:pn,canGoBack:Ue.length>0})]})]})}),a.jsx("div",{className:"ai-chat-input-container",children:a.jsxs("div",{className:"ai-chat-input-wrapper",style:{position:"relative"},children:[a.jsxs("div",{ref:ct,style:{position:"relative",display:"flex",alignItems:"flex-end"},children:[a.jsx("button",{onClick:()=>St(!nt),style:{padding:"8px 12px",backgroundColor:nt?"#e5e7eb":"transparent",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"20px",transition:"background-color 0.2s",marginRight:"4px"},title:"",children:"+"}),nt&&a.jsxs("div",{style:{position:"absolute",bottom:"100%",left:0,marginBottom:"8px",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",minWidth:"220px",zIndex:1e3,overflow:"hidden"},children:[a.jsxs("button",{onClick:Jt,style:{width:"100%",padding:"12px 16px",backgroundColor:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseOver:b=>b.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:b=>b.currentTarget.style.backgroundColor="transparent",children:[a.jsx("span",{children:""})," "]}),a.jsxs("button",{onClick:ot,style:{width:"100%",padding:"12px 16px",backgroundColor:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseOver:b=>b.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:b=>b.currentTarget.style.backgroundColor="transparent",children:[a.jsx("span",{children:""})," "]}),a.jsxs("button",{onClick:zt,style:{width:"100%",padding:"12px 16px",backgroundColor:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseOver:b=>b.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:b=>b.currentTarget.style.backgroundColor="transparent",children:[a.jsx("span",{children:""})," "]}),a.jsxs("button",{onClick:ai,style:{width:"100%",padding:"12px 16px",backgroundColor:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseOver:b=>b.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:b=>b.currentTarget.style.backgroundColor="transparent",children:[a.jsx("span",{children:""})," "]})]})]}),a.jsx("textarea",{value:nn,onChange:b=>Pn(b.target.value),placeholder:"...",id:"chat-input-field",className:"ai-chat-textarea",rows:1,style:{flex:1},onKeyDown:b=>{b.key==="Enter"&&!b.shiftKey&&!gn&&(b.preventDefault(),Kn())},onInput:b=>{const Y=b.target;Y.style.height="auto",Y.style.height=`${Math.min(Y.scrollHeight,120)}px`}}),nl.isAvailable()&&a.jsx("button",{onClick:Re,className:`ai-chat-voice-button ${It?"active":""}`,title:It?"":"",children:It?"":""}),a.jsx("button",{onClick:Kn,disabled:!nn.trim()||gn,className:"ai-chat-send-button",children:""})]})})]})]}):a.jsxs("div",{ref:xe,className:"ai-chat-bubble",role:"dialog","aria-label":"AI",style:{left:`${x.x}px`,top:`${x.y}px`,right:"auto",bottom:"auto",width:`${j.width}px`,height:`${j.height}px`,cursor:p?"grabbing":"default",transition:p||T?"none":"width 0.3s ease, height 0.3s ease, left 0.3s ease, top 0.3s ease"},children:[a.jsxs("div",{className:"ai-chat-bubble-header",onMouseDown:Ti,onTouchStart:Ti,style:{cursor:p?"grabbing":"grab"},children:[a.jsx("h3",{className:"ai-chat-bubble-title",children:"AI"}),a.jsxs("div",{className:"ai-chat-bubble-actions",style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[yt.some(b=>b.role==="assistant")&&a.jsx("button",{onClick:b=>{b.stopPropagation(),Ln("reading"),en(!1)},className:"ai-chat-bubble-toggle-button",title:"",style:{position:"relative",zIndex:1003,minWidth:"48px",minHeight:"36px",fontSize:"11px",padding:"4px 8px"},children:" "}),a.jsx("button",{onClick:()=>en(!1),className:"ai-chat-bubble-close-button",title:"",style:{position:"relative",zIndex:1003},children:""})]})]}),a.jsx("div",{className:"ai-chat-messages",children:yt.length===0?a.jsxs("div",{className:"ai-chat-empty-state",children:[a.jsx("p",{className:"ai-chat-empty-state-text",children:""}),a.jsx("p",{className:"ai-chat-empty-state-text",style:{fontSize:"11px",color:"#6b7280",marginTop:"0.5rem",lineHeight:"1.5"},children:""}),He&&a.jsx(xa,{tip:He,onNextTip:()=>{He&&Ct(Y=>[...Y,He]);const b=Qa(He.id);Ie(b),kt(_t(b.id))},onPrevTip:()=>{if(Ue.length>0){const b=Ue[Ue.length-1];Ct(Y=>Y.slice(0,-1)),Ie(b),kt(_t(b.id))}},onToggleSave:(b,Y)=>{Y?Za(b):Pa(b),kt(!Y)},isSaved:pn,canGoBack:Ue.length>0})]}):a.jsxs("div",{className:"ai-chat-message-list",children:[yt.map((b,Y)=>{Me.find(pe=>pe.id===`todos_${Y}`)?.todos;const ae=Y===yt.length-1&&b.role==="assistant",Ae=ae?Me[Me.length-1]?.todos||[]:[];return a.jsxs("div",{className:`ai-chat-message ${b.role==="user"?"ai-chat-message-user":"ai-chat-message-assistant"}`,children:[a.jsx("div",{className:"ai-chat-message-bubble",children:b.content}),ae&&Ae.length>0&&a.jsx("div",{className:"ai-chat-message ai-chat-message-assistant",children:Ae.map(pe=>a.jsxs("div",{className:"ai-chat-todo-card",children:[a.jsx("div",{className:"ai-chat-todo-title",children:pe.title}),pe.description&&a.jsx("div",{className:"ai-chat-todo-description",children:pe.description}),pe.action&&a.jsx("button",{onClick:()=>{if(pe.action?.type==="add_food"&&pe.action.params){const{item:ie,amount:Ce,unit:et}=pe.action.params;d&&ie&&Ce&&(d({item:ie,amount:Number(Ce),unit:et||"g",type:"animal"}),alert(`${ie} ${Ce}${et||"g"}`))}else if(pe.action?.type==="timer"&&pe.action.params){const{hours:ie}=pe.action.params;alert(`${ie}`)}else pe.action?.type==="set_protocol"?alert(""):pe.action?.type==="open_screen"&&alert("")},className:"ai-chat-todo-action-button",children:""})]},pe.id))})]},Y)}),gn&&a.jsxs("div",{className:"ai-chat-message ai-chat-message-assistant",children:[a.jsxs("div",{className:"ai-chat-loading",children:[a.jsx("div",{className:"ai-chat-loading-spinner"}),a.jsx("span",{children:"..."})]}),De&&a.jsx(xa,{tip:De,onNextTip:()=>{De&&Ct(Y=>[...Y,De]);const b=Qa(De.id);Fe(b),Ie(b),kt(_t(b.id))},onPrevTip:()=>{if(Ue.length>0){const b=Ue[Ue.length-1];Ct(Y=>Y.slice(0,-1)),Fe(b),Ie(b),kt(_t(b.id))}},onToggleSave:(b,Y)=>{Y?Za(b):Pa(b),kt(!Y)},isSaved:pn,canGoBack:Ue.length>0})]})]})}),a.jsx("div",{className:"ai-chat-input-container",children:a.jsxs("div",{className:"ai-chat-input-wrapper",style:{position:"relative"},children:[a.jsxs("div",{ref:ct,style:{position:"relative",display:"flex",alignItems:"flex-end"},children:[a.jsx("button",{onClick:()=>St(!nt),style:{padding:"8px 12px",backgroundColor:nt?"#e5e7eb":"transparent",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"20px",transition:"background-color 0.2s",marginRight:"4px"},title:"",children:"+"}),nt&&a.jsxs("div",{style:{position:"absolute",bottom:"100%",left:0,marginBottom:"8px",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",minWidth:"220px",zIndex:1e3,overflow:"hidden"},children:[a.jsxs("button",{onClick:Jt,style:{width:"100%",padding:"12px 16px",backgroundColor:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseOver:b=>b.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:b=>b.currentTarget.style.backgroundColor="transparent",children:[a.jsx("span",{children:""})," "]}),a.jsxs("button",{onClick:ot,style:{width:"100%",padding:"12px 16px",backgroundColor:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseOver:b=>b.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:b=>b.currentTarget.style.backgroundColor="transparent",children:[a.jsx("span",{children:""})," "]}),a.jsxs("button",{onClick:zt,style:{width:"100%",padding:"12px 16px",backgroundColor:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseOver:b=>b.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:b=>b.currentTarget.style.backgroundColor="transparent",children:[a.jsx("span",{children:""})," "]}),a.jsxs("button",{onClick:ai,style:{width:"100%",padding:"12px 16px",backgroundColor:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseOver:b=>b.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:b=>b.currentTarget.style.backgroundColor="transparent",children:[a.jsx("span",{children:""})," "]})]})]}),a.jsx("textarea",{value:nn,onChange:b=>Pn(b.target.value),placeholder:"...",className:"ai-chat-textarea",rows:1,style:{flex:1},onKeyDown:b=>{b.key==="Enter"&&!b.shiftKey&&!gn&&(b.preventDefault(),Kn())},onInput:b=>{const Y=b.target;Y.style.height="auto",Y.style.height=`${Math.min(Y.scrollHeight,100)}px`}}),nl.isAvailable()&&a.jsx("button",{onClick:Re,className:`ai-chat-voice-button ${It?"active":""}`,title:It?"":"",children:It?"":""}),a.jsx("button",{onClick:Kn,disabled:!nn.trim()||gn,className:"ai-chat-send-button",children:""})]})})]})}),M&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10003,padding:"1rem"},children:a.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"2rem",maxWidth:"300px",width:"100%",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)",textAlign:"center"},children:[a.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTop:"4px solid #dc2626",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),a.jsx("p",{style:{margin:0,fontSize:"16px",fontWeight:"500",color:"#374151"},children:"..."}),a.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"14px",color:"#6b7280"},children:""})]})}),be&&!M&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10003,padding:"1rem"},onClick:()=>ce(null),children:a.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"1.5rem",maxWidth:"400px",width:"100%",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"},onClick:b=>b.stopPropagation(),children:[a.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"18px",fontWeight:"600",color:"#dc2626"},children:" "}),a.jsx("p",{style:{margin:"0 0 1.5rem 0",fontSize:"14px",color:"#374151"},children:be}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>ce(null),style:{padding:"0.75rem 1.5rem",backgroundColor:"#e5e7eb",color:"#374151",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500"},children:""}),a.jsx("button",{onClick:()=>{ce(null),Jt()},style:{padding:"0.75rem 1.5rem",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500"},children:""})]})]})}),R&&re&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10002,padding:"1rem"},onClick:b=>{b.target===b.currentTarget&&(Z(!1),ge(null))},children:a.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"1.5rem",maxWidth:"400px",width:"100%",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)",maxHeight:"80vh",overflowY:"auto"},onClick:b=>b.stopPropagation(),children:[a.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"18px",fontWeight:"600"},children:" AI"}),a.jsxs("p",{style:{margin:"0 0 1rem 0",fontSize:"14px",color:"#666"},children:[": ",re.item," (",re.amount,"g)"]}),a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.75rem",fontSize:"14px",fontWeight:"600",color:"#374151"},children:""}),a.jsxs("div",{style:{marginBottom:"0.75rem",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:J.saltUsed,onChange:b=>le({...J,saltUsed:b.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}}),a.jsx("span",{style:{fontSize:"14px",fontWeight:"500"},children:""})]}),J.saltUsed&&a.jsxs("div",{style:{marginTop:"0.5rem",marginLeft:"26px"},children:[a.jsxs("select",{value:J.saltType,onChange:b=>le({...J,saltType:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px",marginBottom:"0.5rem"},children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",width:"100%"},children:[a.jsx("button",{onClick:()=>le({...J,saltAmount:Math.max(0,J.saltAmount-.5)}),style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e5e7eb",borderRadius:"6px",border:"none",cursor:"pointer",fontSize:"18px",fontWeight:"bold"},children:""}),a.jsx("input",{type:"number",value:J.saltAmount||"",onChange:b=>le({...J,saltAmount:parseFloat(b.target.value)||0}),style:{flex:1,padding:"0.5rem",border:"2px solid #d1d5db",borderRadius:"6px",fontSize:"16px",textAlign:"center",fontWeight:"bold"},min:"0",step:"0.1"}),a.jsx("button",{onClick:()=>le({...J,saltAmount:J.saltAmount+.5}),style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e5e7eb",borderRadius:"6px",border:"none",cursor:"pointer",fontSize:"18px",fontWeight:"bold"},children:"+"}),a.jsx("span",{style:{fontSize:"14px",color:"#6b7280",minWidth:"20px"},children:"g"})]})]})]}),a.jsxs("div",{style:{marginBottom:"0.75rem",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"500"},children:[": ",J.fatTrimmed,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:J.fatTrimmed,onChange:b=>le({...J,fatTrimmed:parseInt(b.target.value,10)}),style:{width:"100%",height:"6px",borderRadius:"3px",backgroundColor:"#e5e7eb",outline:"none",cursor:"pointer"}}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#6b7280",marginTop:"0.25rem"},children:[a.jsx("span",{children:"0%"}),a.jsx("span",{children:"50%"}),a.jsx("span",{children:"100%"})]})]}),a.jsxs("div",{style:{marginBottom:"0.75rem",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"500"},children:""}),a.jsxs("select",{value:J.cookingMethod,onChange:b=>le({...J,cookingMethod:b.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px"},children:[a.jsx("option",{value:"raw",children:""}),a.jsx("option",{value:"grilled",children:""}),a.jsx("option",{value:"boiled",children:""}),a.jsx("option",{value:"other",children:""})]})]}),a.jsxs("div",{style:{marginBottom:"0.75rem",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"600",color:"#374151"},children:""}),a.jsxs("button",{onClick:()=>{U(""),V(0),Be("g"),ye(!0)},style:{width:"100%",padding:"0.75rem",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx("span",{children:""}),a.jsx("span",{children:""})]}),J.additionalFoods.length>0&&a.jsx("div",{style:{marginTop:"0.5rem",fontSize:"12px",color:"#6b7280"},children:J.additionalFoods.map((b,Y)=>a.jsxs("div",{style:{marginTop:"0.25rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("span",{children:[b.name,": ",b.amount,b.unit==="g"?"g":""]}),a.jsx("button",{onClick:()=>{le({...J,additionalFoods:J.additionalFoods.filter((ae,Ae)=>Ae!==Y)})},style:{background:"none",border:"none",color:"#dc2626",cursor:"pointer",fontSize:"14px",padding:"0.25rem"},children:""})]},Y))})]})]}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end",marginTop:"1rem"},children:[a.jsx("button",{onClick:()=>{Z(!1),ge(null)},style:{padding:"0.75rem 1.5rem",backgroundColor:"#e5e7eb",color:"#374151",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500"},children:""}),a.jsx("button",{onClick:()=>{const b={...re,metadata:{saltUsed:J.saltUsed,saltType:J.saltType,saltAmount:J.saltAmount,fatTrimmed:J.fatTrimmed,cookingMethod:J.cookingMethod,additionalFoods:J.additionalFoods}};ge(b),Z(!1),ue(!0),J.additionalFoods.length>0&&l&&J.additionalFoods.forEach((Y,ae)=>{const{searchFoods:Ae}=require("../../data/foodsDatabase"),pe=Ae(Y.name),ie=pe.length>0?pe[0]:null,Ce={item:Y.name,amount:Y.amount,unit:Y.unit,type:ie?.type||"animal",nutrients:{}};if(ie){const et=Y.unit===""&&ie.pieceWeight?Y.amount*ie.pieceWeight/100:Y.amount/100;Ce.nutrients={protein:(ie.nutrientsRaw.protein||0)*et,fat:(ie.nutrientsRaw.fat||0)*et,carbs:(ie.nutrientsRaw.carbs||0)*et,netCarbs:(ie.nutrientsRaw.carbs||0)*et,fiber:(ie.nutrientsRaw.fiber||0)*et,hemeIron:(ie.nutrientsRaw.hemeIron||0)*et,nonHemeIron:(ie.nutrientsRaw.nonHemeIron||0)*et,zinc:(ie.nutrientsRaw.zinc||0)*et,sodium:(ie.nutrientsRaw.sodium||0)*et,magnesium:(ie.nutrientsRaw.magnesium||0)*et,vitaminC:(ie.nutrientsRaw.vitaminC||0)*et,vitaminK:(ie.nutrientsRaw.vitaminK||0)*et,vitaminB12:(ie.nutrientsRaw.vitaminB12||0)*et}}else Ce.nutrients={protein:0,fat:0,carbs:0,netCarbs:0,fiber:0,hemeIron:0,nonHemeIron:0,zinc:0,sodium:0,magnesium:0,vitaminC:0,vitaminK:0,vitaminB12:0};setTimeout(()=>{l&&l(Ce)},200*(ae+1))})},style:{padding:"0.75rem 1.5rem",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500"},children:""})]})]})}),F&&re&&a.jsx(Vg,{isOpen:F,initialFood:re,onClose:()=>{ue(!1),ge(null)},onSave:async b=>{l&&(await l(b),Cn(Y=>[...Y,{role:"assistant",content:`: ${b.item} (${b.amount}g)
P:F`}]),ue(!1),ge(null))}}),a.jsx(Hg,{isOpen:Ot,onClose:()=>vt(!1),onSuccess:async(b,Y)=>{l&&(await l({item:b,amount:Y,unit:"g",type:"animal",nutrients:{}}),vt(!1))}}),!Wt&&a.jsx("button",{ref:Se,className:"ai-chat-fab-button",onClick:b=>{if(W.current){b.preventDefault(),b.stopPropagation(),W.current=!1;return}ke(),W.current=!1},onMouseDown:Jn,onTouchStart:Jn,title:"AI",style:{position:"fixed",left:`${de.x}px`,top:`${de.y}px`,cursor:Q?"grabbing":"grab",transition:Q?"none":"left 0.2s ease, top 0.2s ease"},children:""})]})}function dy({message:r,duration:l=3e3,onClose:d}){return m.useEffect(()=>{const c=setTimeout(()=>{d()},l);return()=>clearTimeout(c)},[l,d]),a.jsx("div",{className:"toast-container",children:a.jsx("div",{className:"toast-message",children:r})})}const my={home:!0,input:!0,history:!0,profile:!0,settings:!0,stats:!1,diary:!1,recipe:!1,labs:!1,aiFeatures:!1,streakTracker:!1,healthDevice:!1,community:!1,shop:!1,gift:!1,paywall:!0,ifThenRules:!1};function fy(){return my}function bg(r){return fy()[r]}function gy({onAgree:r}){const[l,d]=m.useState(!1);return m.useEffect(()=>{const c=setTimeout(()=>{d(!0)},2e3);return()=>clearTimeout(c)},[]),a.jsx("div",{className:"disclaimer-overlay",children:a.jsxs("div",{className:"disclaimer-content",children:[a.jsx("h2",{className:"disclaimer-title",children:" DISCLAIMER"}),a.jsxs("div",{className:"disclaimer-body",children:[a.jsx("p",{children:a.jsx("strong",{children:"This app is NOT a doctor."})}),a.jsx("p",{children:"CarnivOS provides data tracking and analysis based on nutritional logic, but it does not provide medical advice, diagnosis, or treatment."}),a.jsx("p",{children:"By using this app, you acknowledge that any changes to your diet are your own responsibility. Always consult a physician before making significant lifestyle changes."}),a.jsx("p",{className:"disclaimer-highlight",children:"Your body is your asset. Protect it with logic, not just faith."})]}),a.jsx("button",{className:`disclaimer-button ${l?"active":""}`,onClick:r,disabled:!l,children:l?"I UNDERSTAND & AGREE":"Reading..."})]})})}const py=m.lazy(()=>Xe(()=>import("./HistoryScreen-DmG8_Ti_.js"),__vite__mapDeps([4,1,2,3,5]))),hy=m.lazy(()=>Xe(()=>import("./UserSettingsScreen-yA_3L7oc.js"),__vite__mapDeps([6,1,2,3]))),vy=m.lazy(()=>Xe(()=>import("./StreakTrackerScreen-CTJPuRTT.js"),__vite__mapDeps([7,1,2,3,8]))),yy=m.lazy(()=>Xe(()=>import("./CommunityScreen-C0hGGINt.js"),__vite__mapDeps([9,1,2,3,10]))),by=m.lazy(()=>Xe(()=>import("./DiaryScreen-BnzET_5x.js"),__vite__mapDeps([11,1,2,3,12]))),xy=m.lazy(()=>Xe(()=>import("./StatsScreen-UFPyBgWs.js"),__vite__mapDeps([13,1,2,14,3,15]))),Sy=m.lazy(()=>Xe(()=>import("./PrivacyPolicyScreen-Dxn23R__.js"),__vite__mapDeps([16,1,2,3,17]))),jy=m.lazy(()=>Xe(()=>import("./TermsOfServiceScreen-C3g1P4II.js"),__vite__mapDeps([18,1,2,3,19]))),wy=m.lazy(()=>Xe(()=>import("./DataExportScreen-Dv1eZNq7.js"),__vite__mapDeps([20,1,2,3,21]))),_y=m.lazy(()=>Xe(()=>import("./DataImportScreen-BpOvQQ-p.js"),__vite__mapDeps([22,1,2,3,23]))),Cy=m.lazy(()=>Xe(()=>import("./DataDeleteScreen-BWlxdjMf.js"),__vite__mapDeps([24,1,2,3,25]))),Ty=m.lazy(()=>Xe(()=>import("./FeedbackScreen-B7iJYHl7.js"),__vite__mapDeps([26,1,2,3,27]))),Ny=m.lazy(()=>Xe(()=>import("./LanguageSettingsScreen-BYSMQ6hC.js"),__vite__mapDeps([28,1,2,3,29]))),zy=m.lazy(()=>Xe(()=>import("./SaltSettingsScreen-BBt_jpg9.js"),__vite__mapDeps([30,1,2,3,31]))),ky=m.lazy(()=>Xe(()=>import("./CarbTargetSettingsScreen-Cx_A1pbT.js"),__vite__mapDeps([32,1,2,3,33]))),Ay=m.lazy(()=>Xe(()=>import("./NutrientTargetCustomizationScreen-DOo55GtD.js"),__vite__mapDeps([34,1,2,3,35]))),Dy=m.lazy(()=>Xe(()=>import("./GiftScreen-BEoZ5VHn.js"),__vite__mapDeps([36,1,2,3,37]))),Ey=m.lazy(()=>Xe(()=>import("./ShopScreen-BigyJJ6X.js"),__vite__mapDeps([38,1,2,3,39]))),My=m.lazy(()=>Xe(()=>import("./RecipeScreen-nHWAFCOA.js"),__vite__mapDeps([40,1,2,3,41]))),Ry=m.lazy(()=>Xe(()=>import("./HealthDeviceScreen-COvaBhR0.js"),__vite__mapDeps([42,1,2,3,43]))),By=m.lazy(()=>Xe(()=>import("./InputScreen-D1Nx0Dy2.js"),__vite__mapDeps([44,1,2,3,45]))),Ly=m.lazy(()=>Xe(()=>import("./ResultsScreen-K0Zj5SYD.js"),__vite__mapDeps([46,1,2,14,3,47]))),Fy=m.lazy(()=>Xe(()=>import("./PaywallScreen-CPycHcSw.js"),__vite__mapDeps([48,1,2,3,49]))),Oy=m.lazy(()=>Xe(()=>import("./IfThenRulesScreen-CvygCwoJ.js"),__vite__mapDeps([50,1,2,3])));function Iy(){const{t:r}=ni(),{syncLocalStorageToSupabase:l,error:d,clearError:c,isLoading:y}=ti(),h=["home","profile","history","labs","settings","userSettings","streakTracker","customFood","community","diary","stats","auth","privacy","terms","dataExport","dataImport","dataDelete","feedback","consent","onboarding","language","salt","carbTarget","nutrientCustom","gift","shop","recipe","healthDevice","input","results","ifThenRules","paywall"],[f,x]=m.useState(()=>{const O=window.location.hash.slice(1);if(O&&h.includes(O))return O;const ze=localStorage.getItem("primal_logic_consent_accepted"),z=localStorage.getItem("primal_logic_onboarding_completed");return ze?z?"home":"onboarding":"consent"}),[w,j]=m.useState(null),[v,p]=m.useState(()=>localStorage.getItem("primal_logic_disclaimer_agreed")==="true"),[k,T]=m.useState(null),[q,ne]=m.useState(null),[fe,se]=m.useState(!1),[te,oe]=m.useState(()=>localStorage.getItem("primal_logic_dot_ui_enabled")==="true"),[ve,xe]=m.useState(null),de=()=>{localStorage.setItem("primal_logic_disclaimer_agreed","true"),p(!0)};m.useEffect(()=>(window.showToast=O=>{xe(O)},()=>{delete window.showToast}),[]),m.useEffect(()=>{},[]),m.useEffect(()=>{te?document.documentElement.setAttribute("data-pixel-art","true"):document.documentElement.removeAttribute("data-pixel-art")},[te]),m.useEffect(()=>{const O=()=>{const ze=localStorage.getItem("primal_logic_dot_ui_enabled")==="true";oe(ze)};return window.addEventListener("dotUIChanged",O),()=>{window.removeEventListener("dotUIChanged",O)}},[]),m.useEffect(()=>{l()},[l,q]);const[je,Q]=m.useState(0);m.useEffect(()=>{const O=ze=>{Q(z=>z+1),setTimeout(()=>{window.location.reload()},100)};return window.addEventListener("languageChanged",O),()=>{window.removeEventListener("languageChanged",O)}},[]),m.useEffect(()=>{const O=ze=>{const z=ze.detail;["home","profile","history","labs","settings","userSettings","streakTracker","customFood","community","diary","stats","auth","privacy","terms","dataExport","dataImport","dataDelete","feedback","consent","onboarding","language","salt","carbTarget","nutrientCustom","gift","shop","recipe","healthDevice","input","results","ifThenRules","paywall"].includes(z)&&(x(z),window.dispatchEvent(new CustomEvent("screenChanged")))};return window.addEventListener("navigateToScreen",O),()=>{window.removeEventListener("navigateToScreen",O)}},[]),m.useEffect(()=>{f!=="consent"&&f!=="onboarding"&&window.history.replaceState(null,"",`#${f}`)},[f]),m.useEffect(()=>{const O=()=>{const ze=window.location.hash.slice(1);ze&&h.includes(ze)&&ze!==f&&x(ze)};return window.addEventListener("hashchange",O),()=>{window.removeEventListener("hashchange",O)}},[f,h]);const Ne=m.useCallback(O=>{j(()=>O)},[]),Oe=m.useCallback(O=>{T(()=>O)},[]);return a.jsxs(a.Fragment,{children:[!v&&a.jsx(gy,{onAgree:de}),d&&a.jsxs("div",{style:{position:"fixed",top:"1rem",left:"50%",transform:"translateX(-50%)",backgroundColor:"#fee2e2",color:"#dc2626",padding:"1rem 1.5rem",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",zIndex:2e3,maxWidth:"90%",display:"flex",alignItems:"center",gap:"1rem"},children:[a.jsxs("span",{children:[" ",d]}),a.jsx("button",{onClick:c,style:{background:"none",border:"none",color:"#dc2626",fontSize:"20px",cursor:"pointer",padding:"0",lineHeight:"1"},children:""})]}),y&&a.jsxs("div",{style:{position:"fixed",top:"1rem",right:"1rem",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",padding:"0.75rem 1rem",borderRadius:"8px",zIndex:2e3,fontSize:"14px",display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx("span",{className:"animate-spin",children:""}),a.jsx("span",{children:"..."})]}),ve&&a.jsx(dy,{message:ve,onClose:()=>xe(null)}),a.jsxs("div",{className:"app-container",children:[a.jsxs("div",{className:"app-content",children:[f==="consent"&&a.jsx(ry,{onAccept:()=>x("onboarding"),onDecline:()=>{alert("")}}),f==="onboarding"&&a.jsx(cy,{onComplete:()=>x("home")}),f==="home"&&a.jsx(Xv,{onOpenFatTabReady:Ne,onAddFoodReady:Oe}),f==="profile"&&a.jsx($v,{}),f==="settings"&&a.jsx(ly,{onShowOnboarding:()=>x("onboarding")}),f==="userSettings"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(hy,{})}),f==="history"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(py,{})}),f==="labs"&&a.jsx(oy,{}),f==="streakTracker"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(vy,{onBack:()=>x("labs")})}),f==="customFood"&&a.jsx(qg,{onClose:()=>x("home"),onSave:()=>{x("home")}}),f==="community"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(yy,{onBack:()=>x("labs")})}),f==="diary"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(by,{onBack:()=>x("labs")})}),f==="stats"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(xy,{})}),f==="auth"&&a.jsx(sy,{onAuthSuccess:()=>x("home")}),f==="privacy"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(Sy,{})}),f==="terms"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(jy,{})}),f==="dataExport"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(wy,{})}),f==="dataImport"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(_y,{onBack:()=>x("settings")})}),f==="dataDelete"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(Cy,{})}),f==="feedback"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(Ty,{})}),f==="language"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(Ny,{onBack:()=>x("profile")})}),f==="salt"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(zy,{onBack:()=>x("profile")})}),f==="carbTarget"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(ky,{onBack:()=>x("profile")})}),f==="nutrientCustom"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(Ay,{onBack:()=>x("profile")})}),f==="gift"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(Dy,{onBack:()=>x("labs")})}),f==="shop"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(Ey,{onBack:()=>x("labs")})}),f==="recipe"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(My,{onBack:()=>x("home")})}),f==="healthDevice"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(Ry,{onBack:()=>x("labs")})}),f==="input"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(By,{onClose:()=>x("home")})}),f==="results"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(Ly,{})}),f==="ifThenRules"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(Oy,{})}),f==="paywall"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"..."}),children:a.jsx(Fy,{onUiAction:O=>{(O==="close"||O==="subscribe")&&x("home")}})})]},`screen-${f}`),a.jsxs("nav",{className:"app-navigation",role:"navigation","aria-label":r("nav.mainNavigationAriaLabel"),children:[a.jsxs("button",{className:`app-nav-button ${f==="home"?"active":""}`,onClick:()=>x("home"),"aria-label":r("nav.homeAriaLabel"),"aria-current":f==="home"?"page":void 0,children:[a.jsx("span",{style:{fontSize:"20px"},"aria-hidden":"true",children:""}),a.jsx("span",{children:r("nav.home")})]}),a.jsxs("button",{className:`app-nav-button ${f==="history"?"active":""}`,onClick:()=>x("history"),"aria-label":r("nav.historyAriaLabel"),"aria-current":f==="history"?"page":void 0,children:[a.jsx("span",{style:{fontSize:"20px"},"aria-hidden":"true",children:""}),a.jsx("span",{children:r("nav.history")})]}),bg("labs")&&a.jsxs("button",{className:`app-nav-button ${f==="labs"?"active":""}`,onClick:()=>x("labs"),"aria-label":r("nav.labsAriaLabel"),"aria-current":f==="labs"?"page":void 0,children:[a.jsx("span",{style:{fontSize:"20px"},"aria-hidden":"true",children:""}),a.jsx("span",{children:r("nav.labs")})]}),a.jsxs("button",{className:`app-nav-button ${f==="profile"?"active":""}`,onClick:()=>x("profile"),"aria-label":r("nav.profileAriaLabel"),"aria-current":f==="profile"?"page":void 0,children:[a.jsx("span",{style:{fontSize:"20px"},"aria-hidden":"true",children:""}),a.jsx("span",{children:r("nav.profile")})]})]})]},je),il().aiSpeedDial&&bg("aiFeatures")&&a.jsx(uy,{onOpenFatTab:w||void 0,onAddFood:k||void 0})]})}function Uy(){return a.jsx(U0,{children:a.jsx(V0,{children:a.jsx(Iy,{})})})}class Hy extends m.Component{state={hasError:!1,error:null,errorInfo:null};static getDerivedStateFromError(l){return{hasError:!0,error:l,errorInfo:null}}componentDidCatch(l,d){console.error("Uncaught error:",l,d),this.setState({errorInfo:d})}render(){return this.state.hasError?a.jsxs("div",{style:{padding:"2rem",backgroundColor:"#1a1a1a",color:"#ff4444",height:"100vh",overflow:"auto",fontFamily:"monospace"},children:[a.jsx("h1",{children:" Critical Startup Error"}),a.jsxs("h2",{style:{color:"white"},children:[this.state.error?.name,": ",this.state.error?.message]}),a.jsxs("details",{style:{whiteSpace:"pre-wrap",marginTop:"1rem",color:"#ccc"},children:[a.jsx("summary",{style:{cursor:"pointer",color:"#4da6ff"},children:"Show Component Stack"}),this.state.errorInfo?.componentStack]}),a.jsx("hr",{style:{margin:"1rem 0",borderColor:"#444"}}),a.jsx("h3",{style:{color:"white"},children:"Stack Trace:"}),a.jsx("pre",{style:{backgroundColor:"#000",padding:"1rem",borderRadius:"4px"},children:this.state.error?.stack}),a.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"0.5rem 1rem",fontSize:"1.2rem",cursor:"pointer",backgroundColor:"#444",color:"white",border:"none",borderRadius:"4px"},children:"Reload App"})]}):this.props.children}}i0.createRoot(document.getElementById("root")).render(a.jsx(m.StrictMode,{children:a.jsx(Hy,{children:a.jsx(Uy,{})})}));export{al as A,ks as B,Py as C,c0 as D,Qy as E,Ig as F,iu as G,Si as H,Ms as I,Es as J,Ci as K,Ng as L,Ye as M,Ag as N,sl as O,Za as P,Pa as Q,_t as R,Qa as S,Ds as T,r0 as U,Bg as V,nl as W,Jy as X,lg as Y,wi as Z,ti as a,ya as b,cl as c,Ze as d,Wy as e,Rn as f,il as g,ab as h,nb as i,a as j,tb as k,A0 as l,F0 as m,Wa as n,hg as o,s0 as p,ru as q,eb as r,Rs as s,wg as t,ni as u,Ky as v,$y as w,Xy as x,Yy as y,Zy as z};
