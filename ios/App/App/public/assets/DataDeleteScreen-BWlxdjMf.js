import{j as e,I as m,J as h,n as u}from"./index-CvGLKNdl.js";import{r as s}from"./chart-vendor-BKK2UjWf.js";import"./react-vendor-OvXVS5lI.js";import"./ai-vendor-9LcfXvm6.js";function g(){const[a,r]=s.useState(""),[l,i]=s.useState(!1),[c,d]=s.useState(!1),o=async()=>{if(a!=="削除"){alert("「削除」と入力してください");return}if(confirm("本当に全てのデータを削除しますか？この操作は取り消せません。")){i(!0);try{Object.keys(localStorage).forEach(n=>{n.startsWith("primal_logic_")&&localStorage.removeItem(n)}),m()&&h,d(!0),setTimeout(()=>{window.location.reload()},3e3)}catch(t){alert(u(t)||"データの削除に失敗しました")}finally{i(!1)}}};return e.jsx("div",{className:"data-delete-screen",children:e.jsxs("div",{className:"data-delete-container",children:[e.jsx("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"settings"}))},className:"data-delete-back-button",children:"← 設定に戻る"}),e.jsx("h1",{className:"data-delete-title",children:"データ削除"}),e.jsxs("div",{className:"data-delete-warning",children:[e.jsx("h2",{children:"⚠️ 警告"}),e.jsx("p",{children:"この操作を実行すると、以下のデータが完全に削除されます："}),e.jsxs("ul",{children:[e.jsx("li",{children:"全ての食事記録"}),e.jsx("li",{children:"プロファイル情報"}),e.jsx("li",{children:"日記"}),e.jsx("li",{children:"体重・体脂肪率の記録"}),e.jsx("li",{children:"アプリ設定"}),e.jsx("li",{children:"アカウント情報（認証済みユーザーの場合）"})]}),e.jsx("p",{className:"data-delete-warning-strong",children:"この操作は取り消せません。"})]}),e.jsxs("div",{className:"data-delete-confirm",children:[e.jsx("label",{htmlFor:"confirm-input",className:"data-delete-label",children:"削除を確認するには、「削除」と入力してください："}),e.jsx("input",{id:"confirm-input",type:"text",value:a,onChange:t=>r(t.target.value),className:"data-delete-input",placeholder:"削除"})]}),e.jsx("button",{onClick:o,disabled:l||a!=="削除",className:"data-delete-button",children:l?"削除中...":"全てのデータを削除"}),c&&e.jsx("div",{className:"data-delete-success",children:"✅ データの削除が完了しました。ページをリロードします..."})]})})}export{g as default};
