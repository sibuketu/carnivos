import{j as e,b as u}from"./index-CvGLKNdl.js";import{r as c}from"./chart-vendor-BKK2UjWf.js";import"./react-vendor-OvXVS5lI.js";import"./ai-vendor-9LcfXvm6.js";function b(){const[s,a]=c.useState(!1),[d,o]=c.useState(!1),p=async()=>{a(!0),o(!1);try{const r=await u(),l=localStorage.getItem("primal_logic_user_profile"),n=localStorage.getItem("primal_logic_settings"),x={exportDate:new Date().toISOString(),version:"1.0",userProfile:l?JSON.parse(l):null,settings:n?JSON.parse(n):null,dailyLogs:r},m=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),i=URL.createObjectURL(m),t=document.createElement("a");t.href=i,t.download=`primal-logic-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(i),o(!0)}catch{alert("データのエクスポートに失敗しました")}finally{a(!1)}};return e.jsx("div",{className:"data-export-screen",children:e.jsxs("div",{className:"data-export-container",children:[e.jsx("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"settings"}))},className:"data-export-back-button",children:"← 設定に戻る"}),e.jsx("h1",{className:"data-export-title",children:"データエクスポート"}),e.jsx("p",{className:"data-export-description",children:"あなたのデータをJSON形式でダウンロードできます。 これには、食事記録、プロファイル情報、設定などが含まれます。"}),e.jsx("button",{onClick:p,disabled:s,className:"data-export-button",children:s?"エクスポート中...":"データをエクスポート"}),d&&e.jsx("div",{className:"data-export-success",children:"✅ データのエクスポートが完了しました"}),e.jsxs("div",{className:"data-export-info",children:[e.jsx("h3",{children:"エクスポートされるデータ"}),e.jsxs("ul",{children:[e.jsx("li",{children:"プロファイル情報（性別、年齢、体重など）"}),e.jsx("li",{children:"食事記録（全履歴）"}),e.jsx("li",{children:"日記"}),e.jsx("li",{children:"体重・体脂肪率の記録"}),e.jsx("li",{children:"アプリ設定"})]})]})]})})}export{b as default};
